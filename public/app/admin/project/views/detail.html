
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Project</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <!--
                
                -->


                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="panel panel-default">
                               <div class="panel-heading clearfix">
                                    <div class="panel-title pull-left">
                                        <h4>Informasi Project</h4>
                                    </div>
                                </div>

                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group has-feedback">
                                                <label class="control-label">Nama Project</label>&nbsp;<label style="color: #a94442;">*</label>
                                                <input type="text" name="name" class="form-control" ng-model="input.name">
                                            </div>
                                            <div class="form-group has-feedback">
                                                <label class="control-label">Deskripsi Project</label>&nbsp;<label style="color: #a94442;">*</label>
                                                <textarea name="name" class="form-control" ng-model="input.description"></textarea>
                                            </div>
                                            <div class="form-group has-feedback">
                                                <label class="control-label">Berlaku Mulai</label>&nbsp;<label style="color: #a94442;">*</label>
                                                <p class="input-group">
                                                    <input type="date" name="start" class="form-control" datepicker-popup 
                                                        ng-model="input.start" is-open="status.openedStart" min-date="minDateStart" 
                                                        datepicker-options="dateOptions" ng-change="pickStart()" ng-required="true" close-text="Close" />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="openStart($event)">
                                                            <i class="glyphicon glyphicon-calendar"></i>
                                                        </button>
                                                    </span>
                                                </p>
                                            </div>

                                            <div class="form-group has-feedback">
                                                <label class="control-label">Berakhir hingga</label>&nbsp;<label style="color: #a94442;">*</label>
                                                <p class="input-group">
                                                    <input type="date" name="ended" class="form-control" datepicker-popup 
                                                        ng-model="input.ended" is-open="status.openedEnded" min-date="input.start" 
                                                        datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="openEnded($event)">
                                                            <i class="glyphicon glyphicon-calendar"></i>
                                                        </button>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-7">
                            <div class="panel panel-default">
                               <div class="panel-heading clearfix">
                                    <div class="panel-title pull-left">
                                        <h4>Project Member</h4>
                                    </div>
                                    <div class="panel-title pull-right">
                                       <button ng-click="addProjectMember()" class="btn btn-primary" popover="Add New Member" popover-trigger="mouseenter"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>

                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th><a href="" ng-click="sortField = 'nama'     ; reverse = !reverse">*</a></th>
                                                    <th><a href="" ng-click="sortField = 'start'    ; reverse = !reverse">Nama</a></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="object in users | filter:query | orderBy:sortField:reverse track by $index">
                                                    <td>{{ $index + 1 }}</td>
                                                    <td><a href="" ng-click="setLeader(object)"><i class="fa" ng-class="{
                                                        'fa-star-o': object.leader == false,
                                                        'fa-star': object.leader == true,
                                                    }"></i></a></td>
                                                    <td>{{ object.name }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="col-md-12">

                            
                        <!--
                            <accordion close-others="false">

                                <accordion-group is-open="object.open" ng-repeat="object in projects track by $index">
                                    <accordion-heading>
                                        {{ $index + 1 + ' - ' + object.name }} 
                                        <i class="pull-right glyphicon" ng-class="{
                                            'glyphicon-chevron-down': object.open, 
                                            'glyphicon-chevron-right': !object.open}">
                                        </i>
                                    </accordion-heading>

                                    {{ object.children }}
                                    <div ng-include="'app/admin/project/views/node.html'"></div>
                                            
                                </accordion-group>
                            </accordion>
                        -->

                        <div ng-if="ctrl == 'create'">
                            <node-list ng-model="projects" node-controller="CreateProjectController"></node-list>
                        </div>
                        <div ng-if="ctrl == 'update'">
                            <node-list ng-model="projects" node-controller="UpdateProjectController"></node-list>
                        </div>
                            
                        </div>
                    </div>
                    <hr/>
                    <strong ng-if="msg" style="color: #a94442;">Error:</strong>
                    <ul ng-repeat="err in msg track by $index">
                        <li><small style="color: #a94442;">{{ err }}</small></li>
                    </ul>

                </div>


                
                <div class="panel-footer clearfix">
                    <div class="panel-title pull-right">
                        <div class="form-inline">
                            <a ui-sref="main.admin.project" class="btn btn-default"><i class="fa fa-undo"></i></a>
                            <button class="btn btn-primary" ng-click="submit()" ng-disabled="validated && (SemesterForm.$invalid || !input.type || invalidYear || include.status || rangeIntersectStart.status || rangeIntersectEnded.status)"><i class="fa fa-save"></i></button>
                        </div>
                    </div>
                </div>
                

            </div>
        </div>
    </div>
{{ test }}

<pre ng-if="debug">
    {{ input | json }}
</pre>

