{"version":3,"sources":["scripts/app-f498b564b8.js"],"names":["angular","module","TaskService","$http","$q","$cacheFactory","Upload","API_HOST","self","this","$httpDefaultCache","get","deferred","defer","then","response","console","log","data","resolve","reject","promise","show","batchId","retrive","userId","jobId","display","progress","complete","overdue","page","update","request","upload","url","batch_id","transformRequest","_method","removeAll","factory","$inject","TaskRouter","$stateProvider","state","views","content","templateUrl","controller","tasks","content@main.user","task","$stateParams","config","TaskController","$state","vm","ongoing","toDo","homeWork","done","i","jobs","length","works","j","created_at","Date","parse","expired_at","now","expired","timeDiff","Math","abs","getTime","diffDays","ceil","remaining","jobsDone","k","status","detail","work","go","TaskFormController","submit","reload","SubordinatRouter","hierarchy","UserService","SubordinatController","$scope","$filter","$modal","tree","virtualTasks","filteredTasks","showLimit","currentPage","selectedNode","convert","parent","branch","children","users","subs","id","label","name","type","node","expanded","pivot","job_id","onSelect","showed","total","current_page","push","onShowChange","pagging","modalInstance","open","animation","size","result","groupJobs","SubordinatTaskController","$modalInstance","JobService","WorkService","Works","user_id","work_id","close","dismiss","ProjectRouter","projects","ProjectService","user","controllerAs","project","showLast","projectId","form","formId","leader","userNodeList","$compile","restrict","terminal","replace","transclude","scope","nodes","nodeController","parentIndex","link","$element","$attrs","template","isArray","append","contents","$new","userNode","nodeIndex","parentIndexString","parentIndexStringNode","isLeader","userNodeFormList","directive","showStatus","start","ended","code","text","UserProjectController","DetailUserProjectController","$timeout","input","project_id","date_start","date_ended","phase","recursiveChecking","forms","uploads","time","addHours","delegations","isDelegate","back","NodeUserProjectController","CURRENT_USER","isLeaderLocal","counter","inheritDelegation","delegateNode","animate","inherit","delegate","alert","detailForm","ModalDetailUserProjectController","useInherit","check","selected","checkAll","checked","checkCustom","FormDetailUserProjectController","projectFormItemId","project_form_item_id","sortField","reverse","EndUserRoute","@","EndUserController","$auth","debug","logout","webDevTec","getTec","title","description","logo","service","provider","n","e","t",{"end":{"file":0,"comments_before":[],"nlb":false,"endpos":39031,"endcol":156,"endline":1402,"pos":39012,"col":137,"line":1402,"value":"hoverPreviewEnabled","type":"name","_comments_dumped":true},"start":{"file":0,"comments_before":[],"nlb":false,"endpos":39031,"endcol":156,"endline":1402,"pos":39012,"col":137,"line":1402,"value":"hoverPreviewEnabled","type":"name","_comments_dumped":true},"name":"hoverPreviewEnabled"},"hoverPreviewEnabled","hoverPreviewArrayCount","parseInt","hoverPreviewFieldCount","$get","r","constructor","exec","toString","o","s","isObject","a","json","getKeys","Object","keys","map","hasKey","key","getConstructorName","isDate","indexOf","isUrl","isEmptyObject","isOpen","toggleOpen","childrenOpen","openLink","window","location","href","parseValue","showThumbnail","getThumbnail","join","slice","compile","exports","isFunction","post","remove","pre","apply","arguments","run","put","treeData","initialSelection","treeControl","element","attrs","error","expand_all_parents","expand_level","for_all_ancestors","for_each_branch","get_parent","on_treeData_change","select_branch","selected_branch","iconExpand","iconCollapse","iconLeaf","expandLevel","f","do_f","root_branch","_i","_len","_ref","_results","level","child","user_clicks_branch","parent_uid","b","uid","fn","tree_rows","add_branch_to_list","random","visible","child_visible","tree_icon","$watch","expand_all","collapse_all","get_first_branch","select_first_branch","get_selected_branch","get_parent_branch","get_children","select_parent_branch","p","add_branch","new_branch","add_root_branch","expand_branch","collapse_branch","get_siblings","siblings","get_next_sibling","get_prev_sibling","select_next_sibling","next","select_prev_sibling","prev","get_first_child","get_closest_ancestor_next_sibling","get_next_branch","select_next_branch","last_descendant","last_child","get_prev_branch","prev_sibling","select_prev_branch","nodeList","nodeFormList","acmeNavbar","NavbarController","moment","relativeDate","creationDate","fromNow","bindToController","acmeMalarkey","malarkey","linkFunc","el","attr","watcher","typist","typeSpeed","deleteSpeed","pauseDelay","loop","postfix","addClass","forEach","extraValues","value","pause","contributors","contributor","login","$on","MalarkeyController","$log","githubContributor","activate","getContributors","info","limit","getContributorsComplete","getContributorsFailed","toJson","apiHost","store","patch","destroy","execute","validatingName","eventToggle","startAllEvent","pauseAllEvent","executeAllWork","WorkFormService","form_id","WorkRoute","content@main.admin","GroupJobService","workId","PeriodFilter","generateMonth","month","generateDay","tanggal","day","WorkController","index","confirm","splice","schedule_status","CreateWorkController","$rootScope","timeoutNamePromise","days","dirtyDay","dirtyWeek","validated","dates","minDateStart","minDateEnded","startDay","time_start","months","validName","WorkForm","$invalid","dirtyName","$dirty","cancel","loadingName","existName","pickStart","undefined","checkLimit","newValue","oldValue","day_start","$setDirty","date","dateMonth","$watchCollection","property","hasDays","selectMonth","datesMonth","addForm","pushIfUnique","object","findObject","group_job_id","$valid","dateStart","timeStart","setHours","getHours","setMinutes","getMinutes","setSeconds","dateEnded","today","toggleMin","minDate","openStart","$event","openedStart","openEnded","openedEnded","dateOptions","formatYear","startingDay","statusStart","statusEnded","UpdateWorkController","schedule","month_start","body","filter","prototype","h","_identity","_authenticated","isIdentityResolved","isDefined","isAuthenticated","isInRole","role","isInAnyRole","authenticate","identity","force","headers","Content-Type","session","validatingNik","nik","validatingEmail","email","register","UserJobService","UserRoute","generateYear","getFullYear","year","UserController","CreateUserController","timeoutNikPromise","timeoutEmailPromise","years","validInput","UserForm","dirtyInput","loadingNik","existNik","loadingEmail","existEmail","selectYear","born","selectDay","addJob","withOccupied","job","address","UpdateUserController","NaN","getMonth","dt","getDate","ModalUserController","UniversityService","university","validating","UniversityRoute","universities","universityId","UniversityController","CreateUniversityController","timeoutPromise","UniversityForm","loading","exist","phone","fax","UpdateUniversityController","StandardDocumentService","standard","validatingNo","no","validatingDescription","StandardDocumentRoute","standardDocuments","standards","StandardService","standardDocument","standardDocumentId","StandardDocumentController","CreateStandardDocumentController","timeoutNoPromise","timeoutDescriptionPromise","requiredUpload","StandardDocumentForm","loadingNo","existNo","loadingDescription","existDescription","standard_id","file","opened","UpdateStandardDocumentController","getAll","StandardRoute","standardId","StandardController","CreateStandardController","StandardForm","UpdateStandardController","SemesterService","intersect","included","SemesterRoute","semesters","semester","semesterId","SemesterController","CreateSemesterController","invalidYear","maxDateStart","maxDateEnded","rangeIntersectStart","rangeIntersectEnded","include","$watchGroup","year_ended","year_start","pickEnded","SemesterForm","UpdateSemesterController","updatePristine","Number","score","mark","ProjectRoute","ProjectController","scoring","disabledModify","disabledScoring","disabledComplete","disabledTerminate","CreateProjectController","ctrl","addProjectMember","setLeader","msg","weight","recursiveNode","header","NodeProjectController","create","createNodeForm","deleteNodeForm","createNodeFormItem","updateNodeFormItem","deleteNodeFormItem","UpdateProjectController","decimalConverter","ScoringProjectController","ModalProjectController","ModalProjectForm","DetailProjectController","department","department_id","JobRoute","JobController","select","university_id","CreateJobController","DepartmentService","departments","selectUniversity","loadingDepartment","loadingJob","hasDepartment","JobForm","UpdateJobController","multiple","CreateModalJobController","exsistJob","loadingUniversity","selectDepartment","hasJob","selectJob","occupied","UserJobForm","UpdateModalJobController","hasUniversity","InstructionService","guide","InstructionRoute","instructions","instruction","instructionId","InstructionController","CreateInstructionController","GuideService","guides","selectStandard","loadingStandardDocument","hasStandard","selectStandardDocument","loadingGuide","hasStandardDocument","InstructionForm","standard_document_id","guide_id","UpdateInstructionController","hasGuide","hasInstruction","standard_document","GuideRoute","guideId","GuideController","CreateGuideController","GuideForm","UpdateGuideController","GroupJobDetailService","groupJob_id","GroupJobRoute","groupJob","groupJobId","GroupJobController","CreateGroupJobController","GroupJobForm","UpdateGroupJobController","FormService","FormRoute","FormController","CreateFormController","selectGuide","loadingInstruction","FormForm","instruction_id","UpdateFormController","CreateModalFormController","loadingStandard","selectInstruction","loadingForm","UpdateModalFormController","hasForm","DepartmentRouter","documents","DocumentController","pdfUrl","standard_documents","guidelines","l","m","document","hasDocument","DocumentTree","departmentId","DepartmentController","CreateDepartmentController","DepartmentForm","UpdateDepartmentController","AdminRoute","AdminController","admin","line","labels","series","onClick","points","evt","bar","donut","radar","pie","polar","dynamic","toggle","RegisterController","userJobs","load","submitting","RegistrationForm","password","confirmation","MainController","LoginRoute","","LoginController","$sanitize","errorLogin","LoginForm","Authorization","warn","authorize","toState","fromState","AppRun","equals","first","toDenied","event","toStateParams","RouterConfig","$urlRouterProvider","otherwise","params","hiddenParam","constant","HttpInterceptor","$injector","$location","responseError","transitionTo","IndexConfig","$logProvider","toastrConfig","$httpProvider","$authProvider","loginUrl","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","defaults","cache","common","interceptors","$templateCache"],"mappings":"CAAA,WACI,YAUAA,SACKC,OAAO,gBAAiB,YAAa,YAAa,UAAW,aAAc,aACxE,SAAU,cAAe,YAAa,eAAgB,SAAU,eAChE,aAAc,WAAY,0BAA2B,WAQjE,WAEC,YAMA,SAASC,GAAaC,EAAOC,EAAIC,EAAeC,EAAQC,GAEvD,QAASL,KAER,GAAIM,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,SAASO,KAAK,SAASC,GAC3CC,QAAQC,IAAIF,EAASG,MACrBN,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGjBb,EAAKc,KAAO,SAAUC,GACrB,GAAIX,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SAAWgB,GAAST,KAAK,SAASC,GACtDH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAIjBb,EAAKgB,QAAU,SAAUC,EAAQC,EAAOC,EAASC,EAAUC,EAAUC,EAASC,GAC7E,GAAInB,GAAWR,EAAGS,OAUlB,OATAV,GAAMQ,IAAIJ,EAAW,iBAAmBkB,EAAS,IAAMC,EAAQ,IAC9DC,EAAU,IAAMC,EAAW,IAAMC,EAAW,IAAMC,EAAU,UAAYC,GACxEjB,KAAK,SAASC,GAEdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GAIvBjB,QAAQC,IAAIgB,EAEZ,IAAIrB,GAAWR,EAAGS,OAelB,OAdAP,GAAO4B,QACNC,IAAK5B,EAAW,SAAW0B,EAAQG,SACnClB,KAAMe,EACNI,iBAAkB,SAASJ,GAE1B,MADAA,GAAQK,QAAU,MACXL,KAENnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAwClB,MAAO,IAAInB,GA9GZF,QAAQC,OAAO,gBACbuC,QAAQ,cAAetC,GA+GzBA,EAAYuC,SAAW,QAAS,KAAM,gBAAiB,SAAU,eAElE,WAEC,YAMA,SAASC,GAAWC,GACnBA,EACEC,MAAM,kBACNT,IAAK,QACLU,OACCC,SACCC,YAAa,gCACbC,WAAY,yBAGd7B,SACC8B,OAAA,cAAO,SAAS/C,GACf,MAAOA,GAAYS,WAKrBiC,MAAM,uBACNT,IAAI,YACJU,OACCK,qBACCH,YAAa,gCACbC,WAAY,6BAGd7B,SACCgC,MAAA,eAAA,cAAM,SAASC,EAAclD,GAC5B,MAAOA,GAAYoB,KAAK8B,EAAa7B,cA/B1CvB,QACEC,OAAO,gBACPoD,OAAOX,GAmCTA,EAAWD,SAAW,qBACvB,WAEC,YAOA,SAASa,GAAgBC,EAAQN,EAAO/C,GACvC,GAAIsD,GAAK/C,IAYT,IAXA+C,EAAGP,MAAQA,EACXjC,QAAQC,IAAIuC,EAAGP,OAEfO,EAAGC,QAAUD,EAAGP,MAAMQ,QAAQ,GAG9BD,EAAGE,KAAO,EACVF,EAAGG,SAAW,EACdH,EAAGI,KAAO,EAGLJ,EAAGC,QACP,IAAK,GAAII,GAAI,EAAIA,EAAIL,EAAGC,QAAQK,KAAKC,OAASF,IAAK,CAClDL,EAAGE,MAAQF,EAAGC,QAAQK,KAAKD,GAAGG,MAAMD,MACpC,KAAK,GAAIE,GAAI,EAAIA,EAAIT,EAAGC,QAAQK,KAAKD,GAAGG,MAAMD,OAASE,IAAK,CAC3DT,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGC,WAAaC,KAAKC,MAAMZ,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGC,YAChFV,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGI,WAAaF,KAAKC,MAAMZ,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGI,WAChF,IAAIC,GAAM,GAAIH,MACVI,EAAU,GAAIJ,MAAKX,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGI,YAC/CG,EAAWC,KAAKC,IAAIJ,EAAIK,UAAYJ,EAAQI,WAC5CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBhB,GAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGa,UAAYF,CAGxC,KAAK,GADDG,GAAW,EACNC,EAAI,EAAIA,EAAIxB,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAASiB,IACZ,GAA/CxB,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGhB,MAAM+B,GAAGC,QACxCF,GAIFvB,GAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGrC,SAAW,IAAMmD,EAAW,IAAKvB,EAAGC,QAAQK,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAAS,KAS3G,GAHAP,EAAG1B,QAAU0B,EAAGP,MAAMnB,QAAQ,GAGzB0B,EAAG1B,QACR,IAAK,GAAI+B,GAAI,EAAIA,EAAIL,EAAG1B,QAAQgC,KAAKC,OAASF,IAAK,CAClDL,EAAGG,UAAYH,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMD,MACxC,KAAK,GAAIE,GAAI,EAAIA,EAAIT,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMD,OAASE,IAAK,CAC3DT,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGC,WAAaC,KAAKC,MAAMZ,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGC,YAChFV,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGI,WAAaF,KAAKC,MAAMZ,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGI,WAChF,IAAIC,GAAM,GAAIH,MACVI,EAAU,GAAIJ,MAAKX,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGI,YAC/CG,EAAWC,KAAKC,IAAIJ,EAAIK,UAAYJ,EAAQI,WAC5CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBhB,GAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGa,UAAYF,CAGxC,KAAK,GADDG,GAAW,EACNC,EAAI,EAAIA,EAAIxB,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAASiB,IACZ,GAA/CxB,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAM+B,GAAGC,QACxCF,GAIFvB,GAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGrC,SAAW,IAAMmD,EAAW,IAAKvB,EAAG1B,QAAQgC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAAS,KAQ1G,GAHAP,EAAG3B,SAAW2B,EAAGP,MAAMpB,SAAS,GAG3B2B,EAAG3B,SACR,IAAK,GAAIgC,GAAI,EAAIA,EAAIL,EAAG3B,SAASiC,KAAKC,OAASF,IAAK,CACnDL,EAAGI,MAAQJ,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMD,MACrC,KAAK,GAAIE,GAAI,EAAIA,EAAIT,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMD,OAASE,IAAK,CAC5DT,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGC,WAAaC,KAAKC,MAAMZ,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGC,YAClFV,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGI,WAAaF,KAAKC,MAAMZ,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGI,WAClF,IAAIC,GAAM,GAAIH,MACVI,EAAU,GAAIJ,MAAKX,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGI,YAChDG,EAAWC,KAAKC,IAAIJ,EAAIK,UAAYJ,EAAQI,WAC5CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBhB,GAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGa,UAAYF,CAGzC,KAAK,GADDG,GAAW,EACNC,EAAI,EAAIA,EAAIxB,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAASiB,IACZ,GAAhDxB,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAM+B,GAAGC,QACzCF,GAIFvB,GAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGrC,SAAW,IAAMmD,EAAW,IAAKvB,EAAG3B,SAASiC,KAAKD,GAAGG,MAAMC,GAAGhB,MAAMc,OAAS,KAc5G,MAPAP,GAAG0B,OAAS,SAAUC,GACrBnE,QAAQC,IAAIkE,EAAK/C,UAEjBmB,EAAO6B,GAAG,uBAAwB7D,QAAS4D,EAAK/C,YAI1CoB,EAGR,QAAS6B,GAAmB9B,EAAQJ,EAAMjD,GACzC,GAAIsD,GAAK/C,IAUT,OATA+C,GAAGL,KAAOA,EACVnC,QAAQC,IAAIuC,EAAGL,MAEfK,EAAG8B,OAAS,WACXpF,EAAY8B,OAAOmB,GAAMrC,KAAK,SAASI,GACtCqC,EAAO6B,GAAG,iBAAkB,MAAOG,QAAQ,OAItC/B,EAxHRxD,QAAQC,OAAO,gBACb+C,WAAW,iBAAkBM,GAC7BN,WAAW,qBAAsBqC,GA4GnC/B,EAAeb,SAAW,SAAU,QAAS,eAe7C4C,EAAmB5C,SAAW,SAAU,OAAQ,kBACjD,WAEC,YAMA,SAAS+C,GAAiB7C,GACzBA,EACEC,MAAM,wBACNT,IAAK,cACLU,OACCC,SACCC,YAAa,sCACbC,WAAY,+BAGd7B,SACCsE,WAAA,cAAW,SAASC,GACnB,MAAOA,GAAY5B,YAhBxB9D,QACEC,OAAO,gBACPoD,OAAOmC,GAuBTA,EAAiB/C,SAAW,qBAF7B,WAEC,YAOA,SAASkD,GAAsBC,EAAQC,EAASC,EAAQL,EAAWvF,GAClE,GAAIsD,GAAK/C,IAuKT,OArKA+C,GAAGuC,QACHvC,EAAGiC,UAAYA,EAEfzE,QAAQC,IAAIuC,EAAGiC,WAEfjC,EAAGP,SACHO,EAAGwC,gBACHxC,EAAGyC,iBAEHzC,EAAGc,IAAM,GAAIH,MAEbX,EAAG0C,UAAY,GACf1C,EAAG2C,YAAc,EAEjB3C,EAAGlC,QACHkC,EAAGlC,KAAKO,UAAW,EACnB2B,EAAGlC,KAAKM,UAAW,EACnB4B,EAAGlC,KAAKQ,SAAU,EAElB0B,EAAG4C,gBAOH5C,EAAG6C,QAAU,SAASC,EAAQC,GAG7B,IAAK,GAAI1C,GAAI,EAAGA,EAAI0C,EAAOxC,OAAQF,IAAK,CACvC,GAAI2C,GAAWD,EAAO1C,GAAGC,MAAQyC,EAAO1C,GAAG4C,OAASF,EAAO1C,GAAG6C,IAC9D,IAAKF,EAAW,CACfF,EAAOE,YACPhD,EAAG6C,QAAQC,EAAOE,SAAUA,EAE5B,IAAItF,IACHyF,GAAIJ,EAAO1C,GAAG8C,GACdC,MAAOL,EAAO1C,GAAGgD,KACjBC,KAAMP,EAAO1C,GAAGkD,KAChBC,UAAU,EACVR,SAAUF,EAAOE,SAGbD,GAAO1C,GAAGoD,QACd/F,EAAKoF,OAASC,EAAO1C,GAAGoD,MAAMC,QAG/BhG,EAAKiG,SAAW,SAASZ,GACL,QAAfA,EAAOO,MACVtD,EAAG4D,QAAS,EACZpG,QAAQC,IAAIsF,EAAOI,GAAK,KAAOJ,EAAOD,QACtC9C,EAAG4C,aAAa3E,OAAS8E,EAAOI,GAChCnD,EAAG4C,aAAa1E,MAAQ6E,EAAOD,OAM/BpG,EAAYsB,QAAQ+E,EAAOI,GACxBJ,EAAOD,OACP9C,EAAG0C,UACH1C,EAAGlC,KAAKM,SACR4B,EAAGlC,KAAKO,SACR2B,EAAGlC,KAAKQ,QACR0B,EAAG2C,aAAarF,KAAK,SAASI,GAC/BsC,EAAG6D,MAAQnG,EAAKmG,MAChB7D,EAAG2C,YAAcjF,EAAKoG,YAEtB,KAAK,GAAIzD,GAAI,EAAGA,EAAI3C,EAAKA,KAAK6C,OAAQF,IAAK,CAC1C3C,EAAKA,KAAK2C,GAAGK,WAAa,GAAIC,MAAKjD,EAAKA,KAAK2C,GAAGK,YAChDhD,EAAKA,KAAK2C,GAAGQ,WAAa,GAAIF,MAAKjD,EAAKA,KAAK2C,GAAGQ,WAChD,IAAIE,GAAUrD,EAAKA,KAAK2C,GAAGQ,WACvBG,EAAWC,KAAKC,IAAIlB,EAAGc,IAAIK,UAAYJ,EAAQI,WAC/CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBtD,GAAKA,KAAK2C,GAAGiB,UAAYF,EAG1BpB,EAAGP,MAAQ/B,EAAKA,QAIlBsC,EAAG4D,QAAS,GAIdd,EAAOiB,KAAKrG,MAKfsC,EAAG6C,QAAQ7C,EAAGuC,KAAMvC,EAAGiC,WAEvBjC,EAAGgE,aAAe,WACjBtH,EAAYsB,QAAQgC,EAAG4C,aAAa3E,OACjC+B,EAAG4C,aAAa1E,MAChB8B,EAAG0C,UACH1C,EAAGlC,KAAKM,SACR4B,EAAGlC,KAAKO,SACR2B,EAAGlC,KAAKQ,QACR0B,EAAG2C,aAAarF,KAAK,SAASI,GAC/BsC,EAAG6D,MAAQnG,EAAKmG,MAChB7D,EAAG2C,YAAcjF,EAAKoG,YAEtB,KAAK,GAAIzD,GAAI,EAAGA,EAAI3C,EAAKA,KAAK6C,OAAQF,IAAK,CAC1C3C,EAAKA,KAAK2C,GAAGK,WAAa,GAAIC,MAAKjD,EAAKA,KAAK2C,GAAGK,YAChDhD,EAAKA,KAAK2C,GAAGQ,WAAa,GAAIF,MAAKjD,EAAKA,KAAK2C,GAAGQ,WAChD,IAAIE,GAAUrD,EAAKA,KAAK2C,GAAGQ,WACvBG,EAAWC,KAAKC,IAAIlB,EAAGc,IAAIK,UAAYJ,EAAQI,WAC/CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBtD,GAAKA,KAAK2C,GAAGiB,UAAYF,EAG1BpB,EAAGP,MAAQ/B,EAAKA,QAMnBsC,EAAGiE,QAAU,WACZvH,EAAYsB,QAAQgC,EAAG4C,aAAa3E,OACjC+B,EAAG4C,aAAa1E,MAChB8B,EAAG0C,UACH1C,EAAGlC,KAAKM,SACR4B,EAAGlC,KAAKO,SACR2B,EAAGlC,KAAKQ,QACR0B,EAAG2C,aAAarF,KAAK,SAASI,GAC/BsC,EAAG6D,MAAQnG,EAAKmG,MAChB7D,EAAG2C,YAAcjF,EAAKoG,YAEtB,KAAK,GAAIzD,GAAI,EAAGA,EAAI3C,EAAKA,KAAK6C,OAAQF,IAAK,CAC1C3C,EAAKA,KAAK2C,GAAGK,WAAa,GAAIC,MAAKjD,EAAKA,KAAK2C,GAAGK,YAChDhD,EAAKA,KAAK2C,GAAGQ,WAAa,GAAIF,MAAKjD,EAAKA,KAAK2C,GAAGQ,WAChD,IAAIE,GAAUrD,EAAKA,KAAK2C,GAAGQ,WACvBG,EAAWC,KAAKC,IAAIlB,EAAGc,IAAIK,UAAYJ,EAAQI,WAC/CC,EAAWH,KAAKI,KAAKL,EAAA,MACzBtD,GAAKA,KAAK2C,GAAGiB,UAAYF,EAG1BpB,EAAGP,MAAQ/B,EAAKA,QAInBsC,EAAG0B,OAAS,SAAUC,GAErB,GAAIuC,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,2BACZ6E,KAAM,KACN1G,SACCgC,KAAM,WACL,MAAOgC,MAKVuC,GAAcI,OAAOhH,KAAK,SAAUiH,KAGjC,eAMGvE,EAGR,QAASwE,GAA0BpC,EAAQqC,EAAgB9E,EAAMjD,EAAawF,EAAawC,EAAYC,GACtGvC,EAAO3C,MAAQE,EACfyC,EAAOa,SACPb,EAAO9B,QACP8B,EAAOwC,SAGP1C,EAAYpE,KAAKsE,EAAO3C,MAAMoF,SAASvH,KAAK,SAAUI,GAErD,MADA0E,GAAO3C,MAAMwD,MAAQvF,EACdgH,EAAW5G,KAAKsE,EAAO3C,MAAMiE,UAClCpG,KAAK,SAAUI,GAEjB,MADA0E,GAAO3C,MAAMa,KAAO5C,EACbiH,EAAY7G,KAAKsE,EAAO3C,MAAMqF,WACnCxH,KAAK,SAAUI,GACjB0E,EAAO3C,MAAMe,MAAQ9C,IAGtB0E,EAAO2C,MAAQ,WACdN,EAAeO,QAAQ,WAlMzBxI,QAAQC,OAAO,gBACb+C,WAAW,uBAAwB2C,GACnC3C,WAAW,2BAA4BgF,GAkLzCrC,EAAqBlD,SAAW,SAAU,UAAW,SAAU,YAAa,eAyB5EuF,EAAyBvF,SAAW,SAAU,iBAAkB,OAAQ,cAAe,cAAe,aAAc,kBAHrH,WAEC,YAMA,SAASgG,GAAc9F,GACtBA,EACEC,MAAM,qBACNT,IAAK,WACLU,OACCC,SACCC,YAAa,mCACbC,WAAY,gCAGd7B,SACCuH,UAAA,iBAAU,SAAWC,GACpB,MAAOA,GAAeC,YAKxBhG,MAAM,4BACNT,IAAK,cACLU,OACCK,qBACCH,YAAa,qCACbC,WAAY,8BACZ6F,aAAc,OAGhB1H,SACC2H,SAAA,eAAA,iBAAS,SAAU1F,EAAcuF,GAChC,MAAOA,GAAeI,SAAS3F,EAAa4F,gBAK9CpG,MAAM,iCACNT,IAAK,WACLU,OACCK,qBACCH,YAAa,qCACbC,WAAY,0CAGd7B,SACC8H,MAAA,eAAA,iBAAM,SAAS7F,EAAcuF,GAC5B,MAAOA,GAAeM,KAAK7F,EAAa8F,UAEzCJ,SAAA,eAAA,iBAAS,SAAS1F,EAAcuF,GAC/B,MAAOA,GAAeQ,OAAO/F,EAAa4F,gBAlD/ChJ,QACEC,OAAO,gBACPoD,OAAOoF,GA4DTA,EAAchG,SAAW,qBAL1B,WAEC,YAQA,SAAS2G,GAAcC,GACtB,OACCC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACCC,MAAO,WACP5C,KAAM,IACNN,MAAO,IACPmD,eAAgB,IAChBC,YAAa,KAEd7G,WAAY,IACZ6D,KAAM,iBACNiD,KAAM,SAAUlE,EAAQmE,EAAUC,GAEjCpE,EAAOqE,SAAW,4JAEgHrE,EAAOiE,YAAc,qCAAuCjE,EAAOgE,eAAiB,6BAIlN5J,QAAQkK,QAAQtE,EAAO+D,QAC1BI,EAASI,OAAOvE,EAAOqE,UAExBZ,EAASU,EAASK,YAAYxE,EAAOyE,UAKxC,QAASC,GAAUjB,GAClB,OACCC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACC3C,KAAM,WACN4C,MAAO,IACPlD,MAAO,IACPmD,eAAgB,IAChBW,UAAW,IACXV,YAAa,KAEd7G,WAAY,IACZ6D,KAAM,iBAENiD,KAAM,SAAUlE,EAAQmE,EAAUC,GAEP,aAAtBpE,EAAOiE,YACVjE,EAAO4E,kBAAoB,GAE3B5E,EAAO4E,kBAAoB5E,EAAOiE,YAAc,IAGjDjE,EAAO6E,sBAAwB7E,EAAO4E,kBAAoB5E,EAAO2E,UAE7DvK,QAAQkK,QAAQtE,EAAOmB,KAAKP,WAAaZ,EAAOmB,KAAKP,SAASzC,OAAS,GAC1E6B,EAAOqE,SAAW,g/BAkC0BrE,EAAO8E,SAAW,4BACnB9E,EAAO8E,SACvC,4IASiD9E,EAAOgE,eAAiB,gHAEUhE,EAAOgE,eAAiB,mBAAqBhE,EAAO6E,sBAAwB,8CAI1KV,EAASI,OAAOvE,EAAOqE,YAIvBrE,EAAOqE,SAAW,49BAkC0BrE,EAAO8E,SAAW,4BACnB9E,EAAO8E,SACvC,iJAWsD9E,EAAOgE,eAAiB,gHAEKhE,EAAOgE,eAAiB,mBAAqBhE,EAAO6E,sBAAwB,8CAI1KV,EAASI,OAAOvE,EAAOqE,WAGxBZ,EAASU,EAASK,YAAYxE,EAAOyE,UAKxC,QAASM,GAAkBtB,GAC1B,OACCC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACC3C,KAAM,WACN4C,MAAO,IACPC,eAAgB,KAEjB5G,WAAY,IACZ6D,KAAM,iBACNiD,KAAM,SAAUlE,EAAQmE,EAAUC,GAEjCpE,EAAOqE,SAAW,g2CAmDlBF,EAASI,OAAOvE,EAAOqE,UAEvBZ,EAASU,EAASK,YAAYxE,EAAOyE,UAzPxCrK,QACEC,OAAO,gBACP2K,UAAU,gBAAiB,WAAYxB,IACvCwB,UAAU,YAAa,WAAYN,IACnCM,UAAU,oBAAqB,WAAYD,OA0P9C,WAEC,YAUA,SAASE,GAAWC,EAAOC,EAAO9F,GAChC,GAAIX,GAAM,GAAIH,KAKd,OAHA2G,GAAQ,GAAI3G,MAAK2G,GACjBC,EAAQ,GAAI5G,MAAK4G,GAEbD,EAAQxG,GAAiB,GAAVW,GAEjB+F,KAAM,EACNC,KAAO,eAIG3G,EAARwG,GAAeC,EAAQzG,GAAiB,GAAVW,GAEhC+F,KAAM,EACNC,KAAM,eAII3G,EAARyG,GAAyB,GAAV9F,GAEjB+F,KAAM,EACNC,KAAM,uBAIM,GAAVhG,GAEF+F,KAAM,EACNC,KAAM,YAIM,GAAVhG,GAEF+F,KAAM,EACNC,KAAM,cAHR,OAQF,QAASC,GAAsB3H,EAAQmF,EAAUC,GAChD,GAAInF,GAAK/C,IAUT,OATA+C,GAAGkF,SAAWA,EAEdlF,EAAG0B,OAAS,SAAUjD,GACrBsB,EAAO6B,GAAG,4BAA6B4D,UAAW/G,KAGnDuB,EAAGqH,WAAaA,EAGTrH,EAIR,QAAS2H,GAA4B5H,EAAQuF,EAASsC,EAAUtF,EAAQ6C,GAGvE,GAAInF,GAAK/C,IAST,QARA+C,EAAG6H,MAAQvC,EAEXtF,EAAGyB,UACHzB,EAAG8H,cAEH9H,EAAG6H,MAAMP,MAAQ,GAAI3G,MAAKX,EAAG6H,MAAME,YACnC/H,EAAG6H,MAAMN,MAAQ,GAAI5G,MAAKX,EAAG6H,MAAMG,YAE3BX,EAAWrH,EAAG6H,MAAMP,MAAOtH,EAAG6H,MAAMN,MAAOvH,EAAG6H,MAAMpG,QAAQ+F,MACnE,IAAK,GAAGxH,EAAGiI,MAAQ,GAAK,MACxB,KAAK,GAAGjI,EAAGiI,MAAQ,GAAK,MACxB,KAAK,GAAGjI,EAAGiI,MAAQ,GAAK,MACxB,KAAK,GAAGjI,EAAGiI,MAAQ,GAAK,MACxB,KAAK,GAAGjI,EAAGiI,MAAQ,IAKpB,GAAIC,GAAoB,SAAS3E,GAChC,IAAK,GAAIlD,GAAI,EAAIA,EAAIkD,EAAKhD,OAASF,IAClC,GAAIkD,EAAKlD,GAAG2C,SAASzC,OAAS,EAC7B2H,EAAkB3E,EAAKlD,GAAG2C,cACpB,CACN,IAAI,GAAIvC,GAAI,EAAIA,EAAI8C,EAAKlD,GAAG8H,MAAM5H,OAASE,IAC1C,GAAG8C,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAS,CAC5B,GAAIC,GAAO,GAAI1H,MAAK4C,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAQ1H,WAC7C2H,GAAKC,SAAS,GAEd/E,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAQ1H,WAAa2H,EAIxC,IAAI,GAAI5H,GAAI,EAAIA,EAAI8C,EAAKlD,GAAGkI,YAAYhI,OAASE,IAChD,GAAG8C,EAAKlD,GAAGkI,YAAY9H,GAAG0C,IAAMgC,EAAelH,OAAQ,CACtDsF,EAAKlD,GAAGmI,YAAa,CACrB,SAeL,OARAN,GAAkBlI,EAAG6H,MAAM3C,UAI3BlF,EAAGyI,KAAO,WACT1I,EAAO6B,GAAG,sBAGJ5B,EAIR,QAAS0I,GAA0BtG,EAAQrC,EAAQuC,EAAQ6C,EAAgBwD,GAI1E,GAFAnL,QAAQC,IAAI2E,EAAOa,OAEU,mBAAjBb,GAAOa,MAClB,IAAM,GAAI5C,GAAI,EAAGA,EAAI+B,EAAOa,MAAM1C,OAAQF,IACzC,GAA+B,GAA1B+B,EAAOa,MAAM5C,GAAGsF,OAAiB,CACrCvD,EAAO8E,SAAW9E,EAAOa,MAAM5C,GAAG8C,EAClC,OAeH,GAPIf,EAAO8E,WAAayB,EAAaxF,GACpCf,EAAOwG,eAAgB,EAEtBxG,EAAOwG,eAAgB,EAIC,mBAAhBxG,GAAOmB,MACuB,mBAA5BnB,GAAOmB,KAAKgF,YAA6B,CAEnD,IAAM,GADFM,GAAU,EACJxI,EAAI,EAAGA,EAAI+B,EAAOmB,KAAKgF,YAAYhI,OAAQF,IAAK,CACzD,GAAIsI,EAAaxF,KAAOf,EAAOmB,KAAKgF,YAAYlI,GAAG8C,GAAK,CACvDf,EAAOoG,YAAa,CACpB,OAEDK,IAGIA,IAAYzG,EAAOmB,KAAKgF,YAAYhI,SACxC6B,EAAOoG,YAAa,GAKvBpG,EAAO0G,kBAAoB,SAAS3C,EAAOoC,GAC1C,IAAK,GAAIlI,GAAI,EAAGA,EAAI8F,EAAM5F,OAAQF,IAAK,CACtC8F,EAAM9F,GAAGkI,cACT,KAAK,GAAI9H,GAAI,EAAGA,EAAI8H,EAAYhI,OAAQE,IACvC0F,EAAM9F,GAAGkI,YAAYxE,KAAKwE,EAAY9H,GAGvC2B,GAAO0G,kBAAkB3C,EAAM9F,GAAG2C,SAAUuF,KAK9CnG,EAAO2G,aAAe,SAASxF,GAC9B,GAAIiC,GAAYjC,EAAKJ,GAEjBe,EAAgB5B,EAAO6B,MAC1B6E,SAAS,EACTzJ,YAAa,kCACbC,WAAY,yCACZ6E,KAAM,KACN1G,SACCsF,MAAO,WACN,MAAOb,GAAOa,OAEfsF,YAAa,WACZ,MAAOhF,GAAKgF,eAKfrE,GAAcI,OAAOhH,KAAK,SAAUgH,GACnC,GAAI5G,IACHoK,WAAYtC,EACZ+C,YAAajE,EAAOrB,MACpBgG,QAAS3E,EAAO2E,QAGjB9D,GAAe+D,SAASxL,GAAMJ,KAAK,SAASI,GAC3C6F,EAAKgF,YAAcjE,EAAOrB,MACJ,GAAlBqB,EAAO2E,SACV7G,EAAO0G,kBAAkBvF,EAAKP,SAAUsB,EAAOrB,OAEhDkG,MAAM,uCACJ,eAED,eAIJ/G,EAAOgH,WAAa,SAAS1D,GAC5B3F,EAAO6B,GAAG,iCAAkC8D,OAAQA,KAMtD,QAAS2D,GAAiCzB,EAAUnD,EAAgBxB,EAAOsF,GAE1E,GAAIvI,GAAK/C,IACT+C,GAAGsJ,YAAa,EAChBtJ,EAAG2F,UACH3F,EAAGiD,SACHjD,EAAGuI,eACHvI,EAAG6H,SAKC7H,EAAGiJ,QACNjJ,EAAGiJ,SAAU,EAEbjJ,EAAGiJ,SAAU,CAId,KAAK,GAAI5I,GAAI,EAAGA,EAAI4C,EAAM1C,OAAQF,IACT,GAAnB4C,EAAM5C,GAAGsF,OACb3F,EAAG2F,OAAS1C,EAAM5C,GAElBL,EAAGiD,MAAMc,KAAKd,EAAM5C,GAItB,KAAK,GAAIA,GAAI,EAAGA,EAAIkI,EAAYhI,OAAQF,IAClCkI,EAAYlI,GAAG8C,KAAOnD,EAAG2F,OAAOxC,IACpCnD,EAAGuI,YAAYxE,KAAKwE,EAAYlI,GAMlC,KAAK,GAAIA,GAAI,EAAGA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACpCL,EAAGiD,MAAM5C,GAAGkJ,OAAQ,CAKrB,KAAK,GAAIlJ,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACrC,IAAM,GAAII,GAAI,EAAGA,EAAIT,EAAGuI,YAAYhI,OAAQE,IACtCT,EAAGiD,MAAM5C,GAAG8C,IAAMnD,EAAGuI,YAAY9H,GAAG0C,KACxCnD,EAAGiD,MAAM5C,GAAGkJ,OAAQ,EAqEvB,OA7DAvJ,GAAGwJ,SAAWxJ,EAAGuI,YAAYhI,OAAS,uBAAyBP,EAAGiD,MAAM1C,OAGxEP,EAAGyJ,SAAW,WACb,GAAIzJ,EAAG0J,QAAS,CACf,IAAM,GAAIrJ,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACtCL,EAAGiD,MAAM5C,GAAGkJ,OAAQ,CAErBvJ,GAAGwJ,SAAWxJ,EAAGiD,MAAM1C,OAAS,uBAAyBP,EAAGiD,MAAM1C,WAC5D,CACN,IAAM,GAAIF,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACtCL,EAAGiD,MAAM5C,GAAGkJ,OAAQ,CAErBvJ,GAAGwJ,SAAW,wBAA6BxJ,EAAGiD,MAAM1C,SAOtDP,EAAG2J,YAAc,WAGhB,IAAM,GADFd,GAAU,EACJxI,EAAI,EAAGA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACX,GAArBL,EAAGiD,MAAM5C,GAAGkJ,OAChBV,GAIGA,IAAW7I,EAAGiD,MAAM1C,OACxBP,EAAG0J,SAAU,EAEb1J,EAAG0J,SAAU,EAGd1J,EAAGwJ,SAAWX,EAAU,uBAAyB7I,EAAGiD,MAAM1C,QAG3DP,EAAG8B,OAAS,WACX9B,EAAG6H,SACH7H,EAAG6H,MAAM5E,SAETjD,EAAG6H,MAAMoB,QAAUjJ,EAAGiJ,QACtBjJ,EAAG6H,MAAM5E,MAAMc,KAAK/D,EAAG2F,OAGvB,KAAM,GAAItF,GAAI,EAAGA,EAAIL,EAAGiD,MAAM1C,OAAQF,IACX,GAArBL,EAAGiD,MAAM5C,GAAGkJ,OAChBvJ,EAAG6H,MAAM5E,MAAMc,KAAK/D,EAAGiD,MAAM5C,GAI/BoE,GAAeM,MAAM/E,EAAG6H,QAGzB7H,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAGxBhF,EAAG2J,cAEI3J,EAGR,QAAS4J,GAAgCxH,EAAQrC,EAAQ6H,EAAUnC,EAAMH,EAASqD,EAAcxD,GAC/F3H,QAAQC,IAAIgI,GACZjI,QAAQC,IAAI6H,EAEZ,IAAItF,GAAK/C,IAGT+C,GAAGyF,KAAOA,EACVzF,EAAGsF,QAAUA,EACbtF,EAAG2F,OAASL,EAAQK,OACpB3F,EAAG6J,kBAAoB,IAEvB,KAAK,GAAIxJ,GAAI,EAAIA,EAAIL,EAAGyF,KAAK2C,QAAQ7H,OAASF,IAAK,CAClD7C,QAAQC,IAAIuC,EAAGyF,KAAK2C,QAAQ/H,IAEC,OAAzBL,EAAG6J,oBACP7J,EAAG6J,kBAAoB7J,EAAGyF,KAAK2C,QAAQ/H,GAAGyJ,qBAE1C,IAAIzB,GAAO,GAAI1H,MAAKX,EAAGyF,KAAK2C,QAAQ/H,GAAGK,WACvC2H,GAAKC,SAAS,GACdtI,EAAGyF,KAAK2C,QAAQ/H,GAAGK,WAAa2H,EA2BjC,MAxBArI,GAAG+J,UAAY,aACf/J,EAAGgK,SAAU,EAKbhK,EAAGtB,OAAS,WAGXlB,QAAQC,IAAIuC,EAAGyF,KAAKtC,IACpBnD,EAAG6H,MAAMiC,qBAAuB9J,EAAGyF,KAAKtC,GAIxCgC,EAAezG,OAAOsB,EAAG6H,OAAOvK,KAAK,SAASI,GAC7CyL,MAAM,kBACNnJ,EAAGyF,KAAK2C,QAAQrE,KAAKrG,IACnB,eAOGsC,EA9XRxD,QACEC,OAAO,gBACP+C,WAAW,wBAAyBkI,GACpClI,WAAW,+BAAgC,SAAU,UAAW,WAAY,SAAU,eAAgB,iBAAkBmI,IACxHnI,WAAW,4BAA6BkJ,GACxClJ,WAAW,mCAAoC6J,GAC/C7J,WAAW,kCAAmCoK,GAkEhDlC,EAAsBzI,SAAW,SAAU,WAAY,kBAyJvDyJ,EAA0BzJ,SAAW,SAAU,SAAU,SAAU,iBAAkB,gBAuHrFoK,EAAiCpK,SAAW,WAAY,iBAAkB,QAAS,eAmDnF2K,EAAgC3K,SAAW,SAAU,SAAU,WAAY,OAAQ,UAAW,eAAgB,qBAL/G,WAEC,YAKA,SAASgL,GAAa9K,GAErBA,EAAeC,MAAM,aACpBT,IAAI,OACJmE,OAAQ,OACRzD,OACC6K,KACC3K,YAAa,qCACbC,WAAY,6BAEbE,qBACCH,YAAa,0CACbC,WAAY,8BAGd9B,MACC4F,MAAO,IAAI,QAnBd9G,QAAQC,OAAO,gBACboD,OAAOoK,GAkCTA,EAAahL,SAAW,qBAVzB,WACC,YAIA,SAASkL,GAAmBpK,EAAQqK,EAAOzB,GAC1C,GAAIvD,GAAOnI,IAWX,OAVAmI,GAAKiF,OAAQ,EACbjF,EAAKA,KAAOuD,EAEZvD,EAAKkF,OAAS,WACbF,EAAME,SAAShN,KAAK,WACnBqL,KACA5I,EAAO6B,GAAG,UACR,SAASrE,OAGN6H,EAfR5I,QAAQC,OAAO,gBACb+C,WAAW,oBAAsB2K,GA6BnCA,EAAkBlL,SAAW,SAAU,QAAS,mBAPjD,WACE,YAOA,SAASsL,KAsDP,QAASC,KACP,MAAO9M,GAtDT,GAAIA,KAEA+M,MAAS,YACT9L,IAAO,yBACP+L,YAAe,8BACfC,KAAQ,gBAGRF,MAAS,cACT9L,IAAO,yBACP+L,YAAe,4CACfC,KAAQ,oBAGRF,MAAS,SACT9L,IAAO,qBACP+L,YAAe,8BACfC,KAAQ,aAGRF,MAAS,UACT9L,IAAO,4BACP+L,YAAe,8BACfC,KAAQ,gBAGRF,MAAS,QACT9L,IAAO,iCACP+L,YAAe,0CACfC,KAAQ,cAGRF,MAAS,aACT9L,IAAO,wCACP+L,YAAe,oFACfC,KAAQ,mBAGRF,MAAS,YACT9L,IAAO,2BACP+L,YAAe,yHACfC,KAAQ,kBAGRF,MAAS,uBACT9L,IAAO,yCACP+L,YAAe,wEACfC,KAAQ,oBAIZ1N,MAAKuN,OAASA,EAzDhBhO,QACKC,OAAO,gBACPmO,QAAQ,YAAaL,MAsEf/N,QAAQC,OAAO,iBAAiB,oBAAoBoO,SAAS,sBAAsB,WAAW,GAAIC,IAAE,EAAGC,EAAE,IAAIC,EAAE,CAAE,QAAOC,GAAIC,uBAAsB,MAAOJ,IAAGG,GAAIC,qBAAoBH,GAAGD,IAAIC,GAAGE,GAAIE,0BAAyB,MAAOJ,IAAGE,GAAIE,wBAAuBL,GAAGC,EAAEK,SAASN,EAAE,KAAKG,GAAII,0BAAyB,MAAOL,IAAGC,GAAII,wBAAuBP,GAAGE,EAAEI,SAASN,EAAE,KAAKQ,KAAK,WAAW,OAAOJ,oBAAoBJ,EAAEK,uBAAuBJ,EAAEM,uBAAuBL,OAAO5D,UAAU,iBAAiB,kBAAkB,sBAAsB,SAAS0D,EAAEC,GAAG,QAASC,GAAEF,GAAG,MAAOA,GAAE9E,QAAQ,IAAI,KAAK,QAASuF,GAAET,GAAG,GAAG,SAASA,EAAE,MAAM,EAAG,IAAG,OAAOA,EAAE,MAAM,QAAS,IAAG,gBAAiBA,KAAIA,EAAEU,YAAY,MAAM,QAAS,IAAIT,GAAE,qBAAqBC,EAAED,EAAEU,KAAKX,EAAEU,YAAYE,WAAY,OAAOV,IAAGA,EAAEzK,OAAO,EAAEyK,EAAE,GAAG,GAAG,QAASW,GAAEb,GAAG,MAAO,QAAOA,EAAE,aAAcA,GAAE,QAASc,GAAEd,EAAEC,GAAG,GAAIQ,GAAEI,EAAEb,EAAG,OAAM,SAASS,GAAG,cAAcA,EAAEA,GAAG,WAAWA,IAAIR,EAAE,IAAIC,EAAED,GAAG,KAAK,aAAaQ,EAAET,EAAEY,WAAW1F,QAAQ,UAAU,IAAIA,QAAQ,SAAS,IAAI,MAAM+E,GAAG,QAAS1K,GAAEyK,GAAG,GAAIC,GAAE,EAAG,OAAOvO,SAAQqP,SAASf,IAAIC,EAAEQ,EAAET,GAAGtO,QAAQkK,QAAQoE,KAAKC,GAAG,IAAID,EAAEvK,OAAO,MAAMwK,EAAEa,EAAEd,EAAEA,GAAGC,EAAE,QAASe,GAAEhB,GAAGA,EAAEpE,QAAQ,WAAW,MAAOlK,SAAQkK,QAAQoE,EAAEiB,OAAOjB,EAAEe,SAAS,WAAW,MAAOrP,SAAQqP,SAASf,EAAEiB,OAAOjB,EAAEkB,QAAQ,WAAW,MAAOlB,GAAEe,WAAWI,OAAOC,KAAKpB,EAAEiB,MAAMI,IAAI,SAASrB,GAAG,MAAM,KAAKA,EAAE,KAAKA,IAAI,QAAQA,EAAExH,KAAKqI,EAAEb,EAAEiB,MAAMjB,EAAEsB,OAAO,mBAAoBtB,GAAEuB,IAAIvB,EAAEwB,mBAAmB,WAAW,MAAOf,GAAET,EAAEiB,OAAO,WAAWjB,EAAExH,OAAO,iBAAiB,GAAI3C,MAAKmK,EAAEiB,MAAML,aAAaZ,EAAEyB,QAAO,GAAI,IAAIzB,EAAEiB,KAAKS,QAAQ,UAAU1B,EAAE2B,OAAM,IAAK3B,EAAE4B,cAAc,WAAW,MAAO5B,GAAEkB,YAAYlB,EAAEkB,UAAUzL,QAAQuK,EAAE6B,SAAS7B,EAAEpE,WAAWoE,EAAE6B,SAAS7B,EAAE3G,KAAK2G,EAAE8B,WAAW,WAAW9B,EAAE6B,QAAQ7B,EAAE6B,QAAQ7B,EAAE+B,aAAa,WAAW,MAAO/B,GAAE3G,KAAK,EAAE2G,EAAE3G,KAAK,EAAE,GAAG2G,EAAEgC,SAAS,SAAS/B,GAAGA,IAAIgC,OAAOC,SAASC,KAAKnC,EAAEiB,OAAOjB,EAAEoC,WAAW,SAASnC,GAAG,MAAOa,GAAEd,EAAEiB,KAAKhB,IAAID,EAAEqC,cAAc,WAAW,QAAQpC,EAAEG,qBAAqBJ,EAAEe,aAAaf,EAAE6B,QAAQ7B,EAAEsC,aAAa,WAAW,GAAGtC,EAAEpE,UAAU,MAAOoE,GAAEiB,KAAKxL,OAAOwK,EAAEI,uBAAuB,SAASL,EAAEiB,KAAKxL,OAAO,IAAI,IAAIuK,EAAEiB,KAAKI,IAAI9L,GAAGgN,KAAK,MAAM,GAAI,IAAIrC,GAAEF,EAAEkB,UAAUT,EAAEP,EAAEsC,MAAM,EAAEvC,EAAEM,wBAAwBM,EAAEJ,EAAEY,IAAI,SAASpB,GAAG,MAAOA,GAAE,IAAI1K,EAAEyK,EAAEiB,KAAKhB,MAAMa,EAAEZ,EAAEzK,QAAQ,EAAE,IAAI,EAAG,OAAM,IAAIoL,EAAE0B,KAAK,MAAMzB,EAAE,KAAK,OAAOrM,YAAY,sBAAsBuG,SAAS,IAAIE,SAAQ,EAAGE,OAAO6F,KAAK,IAAIM,IAAI,IAAIlI,KAAK,KAAKoJ,QAAQ,SAASxC,GAAG,MAAOD,GAAEyC,QAAQxC,EAAEe,QAAQ,gBAAiBrP,UAASA,OAAO+Q,QAAQ,iBAAiBhR,QAAQC,OAAO,sBAAsBuC,QAAQ,mBAAmB,WAAW,SAAS8L,GAAG,OAAOyC,QAAQ,SAASxC,EAAEC,GAAGxO,QAAQiR,WAAWzC,KAAKA,GAAG0C,KAAK1C,GAAI,IAAIO,GAAEI,EAAEZ,EAAEnE,WAAW+G,QAAS,QAAOC,IAAI5C,GAAGA,EAAE4C,IAAI5C,EAAE4C,IAAI,KAAKF,KAAK,SAAS3C,EAAEa,GAAGL,IAAIA,EAAET,EAAEa,IAAIJ,EAAER,EAAE,SAASD,GAAGc,EAAEjF,OAAOmE,KAAKE,GAAGA,EAAE0C,MAAM1C,EAAE0C,KAAKG,MAAM,KAAKC,kBAAkBtR,QAAQC,OAAO,iBAAiBsR,KAAK,iBAAiB,SAASjD,GAAGA,EAAEkD,IAAI,sBAAsB,+iCAC11F,WACI,YAEAxR,SAAQC,OAAO,8BAEfD,QAAQC,OAAO,2BAEd2K,UAAU,WACP,WAAY,SAASQ,GACrB,OACI9B,SAAU,IACVW,SAAU,wnBAUVT,SAAS,EACTE,OACI+H,SAAU,IACVtK,SAAU,IACVuK,iBAAkB,IAClBC,YAAa,KAGjB7H,KAAM,SAASJ,EAAOkI,EAASC,GAE3B,GAAIC,GAAOC,EAAoBC,EAAcC,EAAmBC,EAAiBC,EAAY7D,EAAG8D,EAAoBC,EAAeC,EAAiBvM,CA0BpJ,IAxBA+L,EAAQ,SAAS1C,GAGb,WAFApO,SAAQC,IAAI,SAAWmO,IAKH,MAApByC,EAAMU,aACNV,EAAMU,WAAa,wCAGG,MAAtBV,EAAMW,eACNX,EAAMW,aAAe,yCAGH,MAAlBX,EAAMY,WACNZ,EAAMY,SAAW,IAGI,MAArBZ,EAAMa,cACNb,EAAMa,YAAc,KAGxBV,EAAepD,SAASiD,EAAMa,YAAa,KAEtChJ,EAAM+H,SAEP,WADA9E,OAAM,oCAIV,IAA6B,MAAzBjD,EAAM+H,SAAS1N,OAAgB,CAC/B,GAAsB,MAAlB0N,SAAS7K,MAIT,WADA+F,OAAM,+CAFNjD,GAAM+H,UAAYA,UAkPhC,MA3OMS,GAAkB,SAASS,GACvB,GAAIC,GAAMC,EAAaC,EAAIC,EAAMC,EAAMC,CAkBvC,KAhBAL,EAAO,SAASrM,EAAQ2M,GACpB,GAAIC,GAAOL,EAAIC,EAAMC,EAAMC,CAE3B,IADAN,EAAEpM,EAAQ2M,GACa,MAAnB3M,EAAOC,SAAkB,CAGzB,IAFAwM,EAAOzM,EAAOC,SACdyM,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAKqL,EAAKO,EAAOD,EAAQ,GAEtC,OAAOD,KAIfD,EAAOtJ,EAAM+H,SACbwB,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCD,EAAcG,EAAKF,GACnBG,EAAS1L,KAAKqL,EAAKC,EAAa,GAEpC,OAAOI,IAGXX,EAAkB,KAElBD,EAAgB,SAAS9L,GAErB,IAAKA,EAKD,MAJuB,OAAnB+L,IACAA,EAAgBtF,UAAW,QAE/BsF,EAAkB,KAItB,IAAI/L,IAAW+L,EAAiB,CAQ5B,GAPuB,MAAnBA,IACAA,EAAgBtF,UAAW,GAE/BzG,EAAOyG,UAAW,EAClBsF,EAAkB/L,EAClBwL,EAAmBxL,GAEI,MAAnBA,EAAOY,SACP,MAAOiE,GAAS,WACZ,MAAO7E,GAAOY,SAASZ,IAG3B,IAAsB,MAAlBmD,EAAMvC,SACN,MAAOiE,GAAS,WACZ,MAAO1B,GAAMvC,UACTZ,OAAQA,QAQhCmD,EAAM0J,mBAAqB,SAAS7M,GAChC,MAAIA,KAAW+L,EACJD,EAAc9L,GADzB,QAKJ4L,EAAa,SAASgB,GAClB,GAAI7M,EAWJ,OAVAA,GAAS,OAEL6M,EAAME,YACNnB,EAAgB,SAASoB,GACrB,MAAIA,GAAEC,MAAQJ,EAAME,WACT/M,EAASgN,EADpB,SAMDhN,GAGX2L,EAAoB,SAASkB,EAAOK,GAChC,GAAIlN,EAGJ,OAFAA,GAAS6L,EAAWgB,GAEN,MAAV7M,GACAkN,EAAGlN,GACI2L,EAAkB3L,EAAQkN,IAFrC,QAMJzB,EAAqB,SAASoB,GAC1B,MAAOlB,GAAkBkB,EAAO,SAASG,GACrC,MAAOA,GAAEtM,UAAW,KAI5B0C,EAAM+J,aAENrB,EAAqB,WACjB,GAAIsB,GAAoBb,EAAaC,EAAIC,EAAMC,EAAMC,CA2GrD,KAzGAf,EAAgB,SAASoB,EAAGJ,GAExB,MAAKI,GAAEC,IAAP,OACWD,EAAEC,IAAM,GAAK9O,KAAKkP,WAMjCzB,EAAgB,SAASoB,GAErB,GAAIH,GAAOL,EAAIC,EAAMC,EAAMC,CAE3B,IAAIjT,QAAQkK,QAAQoJ,EAAE9M,UAAW,CAI7B,IAHAwM,EAAOM,EAAE9M,SACTyM,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAK4L,EAAME,WAAaC,EAAEC,IAEvC,OAAON,MAIfvJ,EAAM+J,aAENvB,EAAgB,SAAS3L,GAErB,GAAI4M,GAAOR,CAEX,OAAIpM,GAAOC,SACHD,EAAOC,SAASzC,OAAS,GACzB4O,EAAI,SAASpE,GACT,MAAiB,gBAANA,IAEH3H,MAAO2H,EACP/H,aAGG+H,GAIRhI,EAAOC,SAAW,WAErB,GAAIsM,GAAIC,EAAMC,EAAMC,CAGpB,KAFAD,EAAOzM,EAAOC,SACdyM,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAKoL,EAAEQ,GAGpB,OAAOF,OAtBf,OA0BO1M,EAAOC,cAKtBkN,EAAqB,SAASR,EAAO3M,EAAQqN,GACzC,GAAIT,GAAOU,EAAeC,EAAWhB,EAAIC,EAAMC,EAAMC,CAyBrD,IAvBuB,MAAnB1M,EAAOS,WACPT,EAAOS,UAAW,GAOd8M,EAJHvN,EAAOC,UAAuC,IAA3BD,EAAOC,SAASzC,OAGhCwC,EAAOS,SACK6K,EAAMW,aAENX,EAAMU,WALVV,EAAMY,SAStB/I,EAAM+J,UAAUlM,MACZ2L,MAAOA,EACP3M,OAAQA,EACRK,MAAOL,EAAOK,MACdE,KAAMP,EAAOO,KACbgN,UAAWA,EACXF,QAASA,IAGU,MAAnBrN,EAAOC,SAAkB,CAIzB,IAHAwM,EAAOzM,EAAOC,SACdyM,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbe,EAAgBD,GAAWrN,EAAOS,SAClCiM,EAAS1L,KAAKmM,EAAmBR,EAAQ,EAAGC,EAAOU,GAEvD,OAAOZ,KAIfD,EAAOtJ,EAAM+H,SACbwB,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCD,EAAcG,EAAKF,GACnBG,EAAS1L,KAAKmM,EAAmB,EAAGb,GAAa,GAGrD,OAAOI,IAGXvJ,EAAMqK,OAAO,WAAY3B,GAAoB,GAEf,MAA1BP,EAAMH,kBACNQ,EAAgB,SAASoB,GACrB,MAAIA,GAAE1M,QAAUiL,EAAMH,iBACXtG,EAAS,WACZ,MAAOiH,GAAciB,KAF7B,SAQRhF,EAAI5E,EAAM+H,SAAS1N,OAEzBmO,EAAgB,SAASoB,EAAGJ,GAE1B,MADAI,GAAEJ,MAAQA,EACHI,EAAEtM,SAAWsM,EAAEJ,MAAQlB,IAEP,MAArBtI,EAAMiI,aACJ3R,QAAQqP,SAAS3F,EAAMiI,cACzB5L,EAAO2D,EAAMiI,YACb5L,EAAKiO,WAAa,WAChB,MAAO9B,GAAgB,SAASoB,EAAGJ,GACjC,MAAOI,GAAEtM,UAAW,KAGxBjB,EAAKkO,aAAe,WAClB,MAAO/B,GAAgB,SAASoB,EAAGJ,GACjC,MAAOI,GAAEtM,UAAW,KAGxBjB,EAAKmO,iBAAmB,WAEtB,MADA5F,GAAI5E,EAAM+H,SAAS1N,OACfuK,EAAI,EACC5E,EAAM+H,SAAS,GADxB,QAIF1L,EAAKoO,oBAAsB,WACzB,GAAIb,EAEJ,OADAA,GAAIvN,EAAKmO,mBACFnO,EAAKsM,cAAciB,IAE5BvN,EAAKqO,oBAAsB,WACzB,MAAO9B,IAETvM,EAAKsO,kBAAoB,SAASf,GAChC,MAAOnB,GAAWmB,IAEpBvN,EAAKsM,cAAgB,SAASiB,GAE5B,MADAjB,GAAciB,GACPA,GAETvN,EAAKuO,aAAe,SAAShB,GAC3B,MAAOA,GAAE9M,UAEXT,EAAKwO,qBAAuB,SAASjB,GACnC,GAAIkB,EAIJ,OAHS,OAALlB,IACFA,EAAIvN,EAAKqO,uBAEF,MAALd,IACFkB,EAAIzO,EAAKsO,kBAAkBf,GAClB,MAALkB,IACFzO,EAAKsM,cAAcmC,GACZA,GAJX,QAQFzO,EAAK0O,WAAa,SAASnO,EAAQoO,GAOjC,MANc,OAAVpO,GACFA,EAAOE,SAASe,KAAKmN,GACrBpO,EAAOU,UAAW,GAElB0C,EAAM+H,SAASlK,KAAKmN,GAEfA,GAET3O,EAAK4O,gBAAkB,SAASD,GAE9B,MADA3O,GAAK0O,WAAW,KAAMC,GACfA,GAET3O,EAAK6O,cAAgB,SAAStB,GAI5B,MAHS,OAALA,IACFA,EAAIvN,EAAKqO,uBAEF,MAALd,GACFA,EAAEtM,UAAW,EACNsM,GAFT,QAKFvN,EAAK8O,gBAAkB,SAASvB,GAI9B,MAHS,OAALA,IACFA,EAAIhB,GAEG,MAALgB,GACFA,EAAEtM,UAAW,EACNsM,GAFT,QAKFvN,EAAK+O,aAAe,SAASxB,GAC3B,GAAIkB,GAAGO,CAIP,OAHS,OAALzB,IACFA,EAAIhB,GAEG,MAALgB,GACFkB,EAAIzO,EAAKsO,kBAAkBf,GAEzByB,EADEP,EACSA,EAAEhO,SAEFkD,EAAM+H,UALrB,QAUF1L,EAAKiP,iBAAmB,SAAS1B,GAC/B,GAAIzP,GAAGkR,CAIP,OAHS,OAALzB,IACFA,EAAIhB,GAEG,MAALgB,IACFyB,EAAWhP,EAAK+O,aAAaxB,GAC7BhF,EAAIyG,EAAShR,OACbF,EAAIkR,EAAS/E,QAAQsD,GACbhF,EAAJzK,GACKkR,EAASlR,EAAI,GALxB,QASFkC,EAAKkP,iBAAmB,SAAS3B,GAC/B,GAAIzP,GAAGkR,CAOP,OANS,OAALzB,IACFA,EAAIhB,GAENyC,EAAWhP,EAAK+O,aAAaxB,GAC7BhF,EAAIyG,EAAShR,OACbF,EAAIkR,EAAS/E,QAAQsD,GACjBzP,EAAI,EACCkR,EAASlR,EAAI,GADtB,QAIFkC,EAAKmP,oBAAsB,SAAS5B,GAClC,GAAI6B,EAIJ,OAHS,OAAL7B,IACFA,EAAIhB,GAEG,MAALgB,IACF6B,EAAOpP,EAAKiP,iBAAiB1B,GACjB,MAAR6B,GACKpP,EAAKsM,cAAc8C,GAH9B,QAOFpP,EAAKqP,oBAAsB,SAAS9B,GAClC,GAAI+B,EAIJ,OAHS,OAAL/B,IACFA,EAAIhB,GAEG,MAALgB,IACF+B,EAAOtP,EAAKkP,iBAAiB3B,GACjB,MAAR+B,GACKtP,EAAKsM,cAAcgD,GAH9B,QAOFtP,EAAKuP,gBAAkB,SAAShC,GAC9B,GAAIN,EAIJ,OAHS,OAALM,IACFA,EAAIhB,GAEG,MAALgB,IAC0B,OAAtBN,EAAOM,EAAE9M,UAAoBwM,EAAKjP,OAAS,QAAU,EAClDuP,EAAE9M,SAAS,GAFtB,QAMFT,EAAKwP,kCAAoC,SAASjC,GAChD,GAAI6B,GAAM7O,CAEV,OADA6O,GAAOpP,EAAKiP,iBAAiB1B,GACjB,MAAR6B,EACKA,GAEP7O,EAASP,EAAKsO,kBAAkBf,GACzBvN,EAAKwP,kCAAkCjP,KAGlDP,EAAKyP,gBAAkB,SAASlC,GAC9B,GAAI6B,EAIJ,OAHS,OAAL7B,IACFA,EAAIhB,GAEG,MAALgB,GACF6B,EAAOpP,EAAKuP,gBAAgBhC,GAChB,MAAR6B,EACKA,EAEPA,EAAOpP,EAAKwP,kCAAkCjC,IALlD,QAUFvN,EAAK0P,mBAAqB,SAASnC,GACjC,GAAI6B,EAIJ,OAHS,OAAL7B,IACFA,EAAIhB,GAEG,MAALgB,IACF6B,EAAOpP,EAAKyP,gBAAgBlC,GAChB,MAAR6B,IACFpP,EAAKsM,cAAc8C,GACZA,GAJX,QAQFpP,EAAK2P,gBAAkB,SAASpC,GAC9B,GAAIqC,EAKJ,OADArH,GAAIgF,EAAE9M,SAASzC,OACL,IAANuK,EACKgF,GAEPqC,EAAarC,EAAE9M,SAAS8H,EAAI,GACrBvI,EAAK2P,gBAAgBC,KAGhC5P,EAAK6P,gBAAkB,SAAStC,GAC9B,GAAIhN,GAAQuP,CAIZ,OAHS,OAALvC,IACFA,EAAIhB,GAEG,MAALgB,GACFuC,EAAe9P,EAAKkP,iBAAiB3B,GACjB,MAAhBuC,EACK9P,EAAK2P,gBAAgBG,GAE5BvP,EAASP,EAAKsO,kBAAkBf,IALpC,QAUKvN,EAAK+P,mBAAqB,SAASxC,GACxC,GAAI+B,EAIJ,OAHS,OAAL/B,IACFA,EAAIhB,GAEG,MAALgB,IACF+B,EAAOtP,EAAK6P,gBAAgBtC,GAChB,MAAR+B,IACFtP,EAAKsM,cAAcgD,GACZA,GAJX,SApON,eAqPV,WACI,YAOA,SAASU,GAAU1M,GACf,OACIC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACIC,MAAO,WACP5C,KAAM,IAClBN,MAAO,IACPgF,MAAO,IACK7B,eAAgB,IAChBC,YAAa,KAEjB7G,WAAY,IACZ6D,KAAM,iBACNiD,KAAM,SAAUlE,EAAQmE,EAAUC,GAE9BpE,EAAOqE,SAAW,mLAE6IrE,EAAOiE,YAAc,sBAAwBjE,EAAOgE,eAAiB;AAQhO5J,QAAQkK,QAAQtE,EAAO+D,QACvBI,EAASI,OAAOvE,EAAOqE,UAE3BZ,EAASU,EAASK,YAAYxE,EAAOyE,UAKjD,QAAStD,GAAMsC,GACX,OACIC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACI3C,KAAM,WACN4C,MAAO,IACPlD,MAAO,IACPgF,MAAO,IACP7B,eAAgB,IAChBW,UAAW,IACXV,YAAa,KAEjB7G,WAAY,IACZ6D,KAAM,iBAENiD,KAAM,SAAUlE,EAAQmE,EAAUC,GACJ,aAAtBpE,EAAOiE,YACPjE,EAAO4E,kBAAoB,GAE3B5E,EAAO4E,kBAAoB5E,EAAOiE,YAAc,IAGpDjE,EAAO6E,sBAAwB7E,EAAO4E,kBAAoB5E,EAAO2E,UAEjE3E,EAAOqE,SAAW,s2CA2CwDrE,EAAO8E,SAAW,4BACnB9E,EAAO8E,SAC1C,sYAmB8D9E,EAAOgE,eAAiB,kJAGRhE,EAAOgE,eAAiB,mBAAqBhE,EAAO6E,sBAAwB,+CAShMV,EAASI,OAAOvE,EAAOqE,UACvBZ,EAASU,EAASK,YAAYxE,EAAOyE,UAOjD,QAAS2L,GAAc3M,GACnB,OACIC,SAAU,IACVC,UAAU,EACVC,SAAS,EACTC,YAAY,EACZC,OACI3C,KAAM,WACN4C,MAAO,IACP8B,MAAO,IACP7B,eAAgB,KAEpB5G,WAAY,IACZ6D,KAAM,iBACNiD,KAAM,SAAUlE,EAAQmE,EAAUC,GAE9BpE,EAAOqE,SAAW,2oIA+FlBF,EAASI,OAAOvE,EAAOqE,UAEvBZ,EAASU,EAASK,YAAYxE,EAAOyE,UA1QpDrK,QAAQC,OAAO,gBAEb2K,UAAU,YAAa,WAAYmL,IACnCnL,UAAU,QAAS,WAAY7D,IAC/B6D,UAAU,gBAAiB,WAAYoL,OAoR1C,WACE,YAOA,SAASC,KAeP,QAASC,GAAiBC,GACxB,GAAI3S,GAAK/C,IAGT+C,GAAG4S,aAAeD,EAAO3S,EAAG6S,cAAcC,UAlB5C,GAAI1L,IACFtB,SAAU,IACVvG,YAAa,oCACb2G,OACI2M,aAAc,KAElBrT,WAAYkT,EACZrN,aAAc,KACd0N,kBAAkB,EAGpB,OAcAL,GAAiBzT,SAAW,UAdrBmI,EAjBT5K,QACGC,OAAO,gBACP2K,UAAU,aAAcqL,MA4B7B,WACE,YAOA,SAASO,GAAaC,GAcpB,QAASC,GAAShN,EAAOiN,EAAIC,EAAMpT,GACjC,GAAIqT,GACAC,EAASL,EAASE,EAAG,IACvBI,UAAW,GACXC,YAAa,GACbC,WAAY,IACZC,MAAM,EACNC,QAAS,KAGXR,GAAGS,SAAS,iBAEZpX,QAAQqX,QAAQ3N,EAAM4N,YAAa,SAASC,GAC1CT,EAAOhQ,KAAKyQ,GAAOC,QAAnBV,cAGFD,EAAUnN,EAAMqK,OAAO,kBAAmB,WACxC/T,QAAQqX,QAAQ7T,EAAGiU,aAAc,SAASC,GACxCZ,EAAOhQ,KAAK4Q,EAAYC,OAAOH,QAA/BV,gBAIJpN,EAAMkO,IAAI,WAAY,WACpBf,MAKJ,QAASgB,GAAmBC,EAAMC,GAOhC,QAASC,KACP,MAAOC,KAAkBnX,KAAK,WAC5BgX,EAAKI,KAAK,iCAId,QAASD,KACP,MAAOF,GAAkBE,gBAAgB,IAAInX,KAAK,SAASI,GAGzD,MAFAsC,GAAGiU,aAAevW,EAEXsC,EAAGiU,eAhBd,GAAIjU,GAAK/C,IAET+C,GAAGiU,gBAEHO,IA9CF,GAAIpN,IACFtB,SAAU,IACVI,OACE4N,YAAa,KAEfrN,SAAU,SACVH,KAAM4M,EACN1T,WAAY6U,EACZhP,aAAc,KAGhB,OAeAgP,GAAmBpV,SAAW,OAAQ,qBAf/BmI,EAjBT5K,QACGC,OAAO,gBACP2K,UAAU,eAAgB4L,GAoF7BA,EAAa/T,SAAW,eAb1B,WACE,YAOA,SAASsV,GAAkBD,EAAM3X,GAU/B,QAAS8X,GAAgBE,GASvB,QAASC,GAAwBrX,GAC/B,MAAOA,GAASG,KAGlB,QAASmX,GAAsBvG,GAC7BgG,EAAKhG,MAAM,oCAAsC9R,QAAQsY,OAAOxG,EAAM5Q,MAAM,IAT9E,MAJKiX,KACHA,EAAQ,IAGHhY,EAAMQ,IAAI4X,EAAU,0BAA4BJ,GACpDrX,KAAKsX,GADDjY,SAEEkY,GAhBX,GAAIE,GAAU,4DAEVnK,GACFmK,QAASA,EACTN,gBAAiBA,EAGnB,OAAO7J,GAbTpO,QACGC,OAAO,gBACPuC,QAAQ,oBAAqBuV,GAgDhCA,EAAkBtV,SAAW,OAAQ,YAfvC,WACC,YAMA,SAAS0F,GAAahI,EAAOC,EAAIC,EAAeE,GAE/C,QAAS4H,KACR,GAAI3H,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SAAW0B,GAC9BnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,QAAS0B,GAC7BnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,SAAW0B,EAAQ0E,GAAI1E,GAC5CnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,SAAW0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKmY,QAAU,SAAU1W,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,iBAAmB0B,GACtCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKoY,eAAiB,SAAU3W,GAC/B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,yBAA2B0B,EAAQ4E,KAAO,IAAM5E,EAAQ0E,IAC3E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKqY,YAAc,SAAU5W,GAC5B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,eAAiB0B,GACpCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKsY,cAAgB,WACpB,GAAIlY,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,qBACnBO,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKuY,cAAgB,WACpB,GAAInY,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,qBACnBO,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKwY,eAAiB,WACrB,GAAIpY,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,qBACnBO,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAKlB,MAAO,IAAI8G,GAGZ,QAAS8Q,GAAiB9Y,EAAOC,EAAIC,EAAeE,GACnD,QAAS0Y,KACR,GAAIzY,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAG1CH,GAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,SAAW0B,EAAQqG,QAAU,QAASrG,GAC1DnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,SAAW0B,EAAQqG,QAAU,SAAWrG,EAAQiX,QAASjX,GAC9EnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,SAAW0B,EAAQqG,QAAU,SAAWrG,EAAQiX,SACtEpY,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAKlB,MAAO,IAAI4X,GA7LZjZ,QACEC,OAAO,gBACPuC,QAAQ,eAAgB,QAAS,KAAM,gBAAiB,WAAY2F,IACpE3F,QAAQ,mBAAoB,QAAS,KAAM,gBAAiB,WAAYyW,OA8L3E,WACC,YAKA,SAASE,GAAUxW,GAClBA,EACEC,MAAM,mBACNT,IAAK,QACLU,OACCC,SACCC,YAAa,iCACbC,WAAY,yBAGd7B,SACC6C,OAAA,cAAO,SAASmE,GACf,MAAOA,GAAYxH,WAKrBiC,MAAM,0BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,+BAGd7B,SACC4G,WAAA,kBAAW,SAASsR,GACnB,MAAOA,GAAgB1Y,WAKzBiC,MAAM,0BACNT,IAAK,WACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,+BAGd7B,SACCgE,MAAA,eAAA,cAAM,SAAS/B,EAAc+E,GAC5B,MAAOA,GAAY7G,KAAK8B,EAAakW,UAEtCvR,WAAA,kBAAW,SAASsR,GACnB,MAAOA,GAAgB1Y,WAjD5BX,QACEC,OAAO,gBACPoD,OAAO8V,GAsETA,EAAU1W,SAAW,qBAhBtB,WACC,YAaA,SAAS8W,KAER,MAAO,UAASzS,GACf,OAAQA,GACP,IAAK,IACJ,MAAO,QAGR,KAAK,IACJ,MAAO,UAGR,KAAK,IACJ,MAAO,SAGR,KAAK,IACJ,MAAO,YAGR,KAAK,IACJ,MAAO,YAOX,QAAS0S,KACR,QACE7S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,QACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,cACd9S,GAAI,GAAI8S,MAAO,YACf9S,GAAI,GAAI8S,MAAO,aACf9S,GAAI,GAAI8S,MAAO,aAIlB,QAASC,GAAaD,GACrB,GAAIE,KACS,IAATF,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,IAATA,GAAwB,IAATA,EACxFxV,EAAI,GACe,GAATwV,EACVxV,EAAI,GAEJA,EAAI,EAGL,KAAK,GAAIJ,GAAI,EAAIA,GAAKI,EAAIJ,IACzB8V,EAAQpS,MAAMqS,IAAK/V,GAGpB,OAAO8V,GAMR,QAASE,GAAgBtW,EAAQS,EAAOmE,GACvC,GAAI3E,GAAK/C,IAqDT,OApDA+C,GAAGQ,MAAQA,EAGXR,EAAGxB,OAAS,SAAU2E,GACrBpD,EAAO6B,GAAG,0BAA2BkU,OAAQ3S,KAG9CnD,EAAGkV,QAAU,SAAU/R,EAAImT,GAC1B,GAAInN,GAAQoN,QAAQ,+CACV,IAATpN,EAAiBxE,EAAYuQ,QAAQ/R,GAAI7F,KAAK,WAC9C0C,EAAGQ,MAAMgW,OAAOF,EAAO,KACnB,MAGNtW,EAAGqV,YAAc,SAAS5W,EAAS6X,GAClC3R,EAAY0Q,YAAY5W,GAASnB,KAAK,WACrCE,QAAQC,IAAIuC,EAAGQ,MAAM8V,GAAOG,iBACQ,WAAnCzW,EAAGQ,MAAM8V,GAAOG,gBACfzW,EAAGQ,MAAM8V,GAAOG,gBAAkB,WAClCzW,EAAGQ,MAAM8V,GAAOG,gBAAkB,UACpCjZ,QAAQC,IAAIuC,EAAGQ,MAAM8V,GAAOG,oBAI9BzW,EAAGmV,QAAU,SAAShS,EAAImT,GACzB3R,EAAYwQ,QAAQhS,GAAI7F,KAAK,SAASI,GACrCsC,EAAGQ,MAAM8V,GAAS5Y,KAIpBsC,EAAGsV,cAAgB,WAClB3Q,EAAY2Q,gBAAgBhY,KAAK,WAChC,IAAI,GAAI+C,GAAI,EAAIA,EAAIL,EAAGQ,MAAMD,OAASF,IACtCL,EAAGQ,MAAMH,GAAGoW,gBAAkB,aAIhCzW,EAAGuV,cAAgB,WAClB5Q,EAAY4Q,gBAAgBjY,KAAK,WAChC,IAAI,GAAI+C,GAAI,EAAIA,EAAIL,EAAGQ,MAAMD,OAASF,IACtCL,EAAGQ,MAAMH,GAAGoW,gBAAkB,cAIhCzW,EAAGwV,eAAiB,WACnB7Q,EAAY6Q,iBAAiBlY,KAAK,WACjC,MAAOqH,GAAYxH,QACjBG,KAAK,SAASI,GAChBsC,EAAGQ,MAAQ9C,KAINsC,EAGR,QAAS0W,GAAsBC,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQiC,EAAWI,GACvF,GACIiS,GADA5W,EAAK/C,IAET+C,GAAG6H,SACH7H,EAAG6H,MAAMM,SACTnI,EAAGyB,UAEHzB,EAAG6W,QACH7W,EAAG8W,UAAW,EACd9W,EAAG+W,WAAY,EACf/W,EAAGgX,WAAY,EAEfhX,EAAGuE,UAAYA,EACfvE,EAAGiX,SAEHjX,EAAGkX,aAAe,GAAIvW,MACtBX,EAAGmX,aAAenX,EAAGkX,aACrBlX,EAAGoX,SAAW,QACdpX,EAAG6H,MAAMwP,WAAa,GAAI1W,MAC1BX,EAAGsX,OAAStB,GACZ,KAAK,GAAI3V,GAAI,EAAQ,GAAJA,EAASA,IACzBL,EAAGiX,MAAMlT,MAAMsI,IAAKhM,EAAG0T,MAAO1T,EAAI,GAkLnC,OA/KA+B,GAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAOoV,SAASnU,KAAKoU,SACjCC,EAAYtV,EAAOoV,SAASnU,KAAKsU,QAEhCJ,GAAaG,IACjB9P,EAASgQ,OAAOhB,GAChB5W,EAAG6X,aAAc,EACjBjB,EAAqBhP,EAAS,WAC7BjD,EAAYyQ,eAAepV,EAAG6H,OAAOvK,KAAK,SAASI,GACjDA,EAAK6C,OAAS,EAAKP,EAAG8X,WAAY,EAAO9X,EAAG8X,WAAY,EACzD9X,EAAG6X,aAAc,KAEhB,QAIL7X,EAAG+X,UAAY,WACV/X,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,QAC7BvH,EAAGmX,aAAenX,EAAG6H,MAAMP,MAC1BtH,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,SAIlEhY,EAAGiY,WAAa,WACdjY,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,QAGjE5V,EAAOmO,OAAO,gBAAiB,SAAU2H,EAAUC,EAAUjS,GAC3DlG,EAAGgX,WAAakB,EAChBtQ,EAAS,WACR,OAAQsQ,GACP,IAAK,IAAK9V,EAAO0U,UAAW,CAAM,MAClC,KAAK,IAAK1U,EAAOoV,SAASY,UAAUC,WAAa,MACjD,KAAK,IAAKjW,EAAOoV,SAASc,KAAKD,WAAa,MAC5C,KAAK,IAAK,KACV,KAAK,IACJjW,EAAOoV,SAASvB,MAAMoC,YACtBjW,EAAOoV,SAASe,UAAUF,cAG1B,GAAK,OAGVjW,EAAOoW,iBAAiB,UAAW,WAClCxY,EAAG8W,UAAW,EACd9W,EAAG6H,MAAMgP,OACT,KAAI4B,WAAYzY,GAAG6W,KACjB7W,EAAG6W,KAAK4B,UAAazY,EAAG6H,MAAMgP,KAAK9S,KAAK0U,UAAY,IAErDzY,GAAG6H,MAAMgP,KAAKtW,OAAS,EAAKP,EAAG0Y,SAAU,EAAO1Y,EAAG0Y,SAAU,IAG/D1Y,EAAG2Y,YAAc,WAChB3Y,EAAG4Y,WAAa1C,EAAYlW,EAAG6H,MAAMoO,QAGtCjW,EAAG6Y,QAAU,WACZ,GAAI3U,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,mCAEb0E,GAAcI,OAAOhH,KAAK,SAASmI,GAClCjI,QAAQC,IAAIgI,GACZkR,EAAWmC,aAAa9Y,EAAG6H,MAAMM,MAAO1C,IACtC,eAGJzF,EAAGxB,OAAS,SAAUua,EAAQzC,GAC7B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,kCACZ7B,SACC8H,KAAMsT,IAIR7U,GAAcI,OAAOhH,KAAK,SAASmI,GACc,IAA/CkR,EAAWqC,WAAWhZ,EAAG6H,MAAMM,MAAO1C,GACrCzF,EAAG6H,MAAMM,MAAMmO,GAAS7Q,EACxB0D,MAAM,6CACN,eAGJnJ,EAAGkV,QAAU,SAAU6D,EAAQzC,GAC9B,GAAInN,GAAQoN,QAAQ,iEACV,IAATpN,EAAiBnJ,EAAG6H,MAAMM,MAAMqO,OAAOF,EAAO,GAAK,MAGrDtW,EAAG8B,OAAS,WAQX,OAPAM,EAAOoV,SAASnU,KAAKgV,YACrBjW,EAAOoV,SAAS9M,YAAY2N,YAC5BjW,EAAOoV,SAASyB,aAAaZ,YAC7BjW,EAAOoV,SAASlQ,MAAM+Q,YAClBrY,EAAG2U,OAAOvS,EAAOoV,SAASjQ,MAAM8Q,YACpCjW,EAAOoV,SAASlU,KAAK+U,YAEbrY,EAAG6H,MAAMvE,MAChB,IAAK,IAAKtD,EAAG8W,UAAW,CAAM,MAC9B,KAAK,IAAK1U,EAAOoV,SAASY,UAAUC,WAAa,MACjD,KAAK,IAAKjW,EAAOoV,SAASc,KAAKD,WAAa,MAC5C,KAAK,IAAK,KACV,KAAK,IACJjW,EAAOoV,SAASvB,MAAMoC,YACtBjW,EAAOoV,SAASe,UAAUF,YAI5B,GAAIjW,EAAOoV,SAAS0B,QACC,KAAjBlZ,EAAG6H,MAAMvE,MAAgBtD,EAAG0Y,SACX,KAAjB1Y,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMuQ,WACjB,KAAjBpY,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMyQ,MACjB,KAAjBtY,EAAG6H,MAAMvE,MACQ,KAAjBtD,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMoO,OAASjW,EAAG6H,MAAM0Q,UACxD,CAEC,GAAIY,GAAY,GAAIxY,MAAKX,EAAG6H,MAAMP,OAC9B8R,EAAY,GAAIzY,MAAKX,EAAG6H,MAAMwP,WASlC,IAPA8B,EAAUE,SAASD,EAAUE,YAC7BH,EAAUI,WAAWH,EAAUI,cAC/BL,EAAU7Q,SAAS,GACnB6Q,EAAUM,WAAW,GAErBzZ,EAAG6H,MAAMP,MAAQ6R,EAEbnZ,EAAG6H,MAAMN,MAAO,CACnB,GAAImS,GAAY,GAAI/Y,MAAKX,EAAG6H,MAAMN,MAClCmS,GAAUL,SAASD,EAAUE,YAC7BI,EAAUH,WAAWH,EAAUI,cAC/BE,EAAUpR,SAAS,GACnBoR,EAAUD,WAAW,GAErBzZ,EAAG6H,MAAMN,MAAQmS,EAGlB/U,EAAYqQ,MAAMhV,EAAG6H,OAAOvK,KAAK,SAASI,GACzCqC,EAAO6B,GAAG,kBAAmB,MAAOG,QAAQ,UAGvC/B,GAAGgX,WAAY,GAGvBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMP,MAAQ,GAAI3G,OAItBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAGdla,EAAG2Z,QACI3Z,EAGR,QAASwa,GAAsB7D,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQX,EAAM4C,EAAWsR,EAAiBlR,EAAa8Q,GAC3H,GACImB,GADA5W,EAAK/C,IAGT+C,GAAG6H,MAAQlG,EACX3B,EAAGyB,UAEHzB,EAAG6W,QACH7W,EAAG8W,UAAW,EACd9W,EAAG+W,WAAY,EACf/W,EAAGgX,WAAY,EAEfhX,EAAGuE,UAAYA,EACfvE,EAAGiX,SACHjX,EAAGsX,UAEHtX,EAAGsX,OAAStB,GAEZ,KAAK,GAAI3V,GAAI,EAAQ,GAAJA,EAASA,IACzBL,EAAGiX,MAAMlT,MAAMsI,IAAKhM,EAAG0T,MAAO1T,EAAI,GA+QnC,OA3QAL,GAAG6H,MAAMP,MAAQ,GAAI3G,MAAKX,EAAG6H,MAAMP,OAC/BtH,EAAG6H,MAAMN,QACZvH,EAAG2U,OAAQ,EACX3U,EAAG6H,MAAMN,MAAQ,GAAI5G,MAAKX,EAAG6H,MAAMN,QAIpCvH,EAAG6H,MAAMwP,WAAa,GAAI1W,MAAKX,EAAG6H,MAAMP,OACxCtH,EAAG4Y,WAAa1C,EAAYlW,EAAG6H,MAAMoO,OAErCrO,EAAS,WACR,OAAQ5H,EAAG6H,MAAMvE,MAChB,IAAK,IACJtD,EAAG6H,MAAMgP,OACT,KAAK,GAAIxW,GAAI,EAAIA,EAAGL,EAAG6H,MAAM4S,SAAS,GAAG5D,KAAKtW,OAASF,IACtDL,EAAG6H,MAAMgP,KAAK9S,KAAK/D,EAAG6H,MAAM4S,SAAS,GAAG5D,KAAKxW,GAAG+V,IAEjD5Z,SAAQqX,QAAQ7T,EAAG6H,MAAMgP,KAAM,SAAUxK,EAAK0H,GAC7C/T,EAAG6W,KAAKxK,IAAO,GAEjB,MAEA,KAAK,IAAKrM,EAAG6H,MAAMuQ,UAAYpY,EAAG6H,MAAM4S,SAASrC,UAAU1M,UAAY,MAEvE,KAAK,IACJtJ,EAAOoV,SAASc,KAAKD,YACrBrY,EAAG6H,MAAMyQ,KAAOtY,EAAG6H,MAAM4S,SAAS1S,UACnC,MAEA,KAAK,IAAK,KAEV,KAAK,IACJ3F,EAAOoV,SAASvB,MAAMoC,YACtBjW,EAAOoV,SAASe,UAAUF,YAC1BrY,EAAG6H,MAAMoO,MAAQjW,EAAG6H,MAAM4S,SAASC,YACnC1a,EAAG4Y,WAAa1C,EAAYlW,EAAG6H,MAAMoO,OACrCjW,EAAG6H,MAAM0Q,UAAYvY,EAAG6H,MAAM4S,SAAS1S,aAIvC,GAEH/H,EAAG6H,MAAMwP,WAAa,GAAI1W,MAG1ByB,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAOoV,SAASnU,KAAKoU,SACjCC,EAAYtV,EAAOoV,SAASnU,KAAKsU,QAEhCJ,GAAaG,IACjB9P,EAASgQ,OAAOhB,GAChB5W,EAAG6X,aAAc,EACjBjB,EAAqBhP,EAAS,WAC7BjD,EAAYyQ,eAAepV,EAAG6H,OAAOvK,KAAK,SAASI,GACjDA,EAAK6C,OAAS,EAAKP,EAAG8X,WAAY,EAAO9X,EAAG8X,WAAY,EACzD9X,EAAG6X,aAAc,KAEhB,QAIL7X,EAAG+X,UAAY,WACV/X,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,QAC7BvH,EAAGmX,aAAenX,EAAG6H,MAAMP,MAC1BtH,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,SAIlEhY,EAAGiY,WAAa,WACdjY,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,QAGjE5V,EAAOmO,OAAO,gBAAiB,SAAU2H,EAAUC,EAAUjS,GAE5DlG,EAAG6H,MAAME,WAAa,GAAIpH,MAEtBX,EAAGgX,WAAakB,GAEnBtQ,EAAS,WACR,OAAQsQ,GACP,IAAK,IAAKlY,EAAG8W,UAAW,CAAM,MAC9B,KAAK,IAAK1U,EAAOoV,SAASY,UAAUC,WAAa,MACjD,KAAK,IAAKjW,EAAOoV,SAASc,KAAKD,WAAa,MAC5C,KAAK,IAAK,KACV,KAAK,IACJjW,EAAOoV,SAASvB,MAAMoC,YACtBjW,EAAOoV,SAASe,UAAUF,cAG1B,KAILjW,EAAOoW,iBAAiB,UAAW,WAClCxY,EAAG8W,UAAW,EACd9W,EAAG6H,MAAMgP,QACTra,QAAQqX,QAAQ7T,EAAG6W,KAAM,SAAUxK,EAAK0H,GACnC1H,GAAKrM,EAAG6H,MAAMgP,KAAK9S,KAAKgQ,KAGzB/T,EAAG6H,MAAMgP,KAAKtW,OAAS,EAAGP,EAAG0Y,SAAU,EACtC1Y,EAAG0Y,SAAU,IAGnB1Y,EAAG2Y,YAAc,WAChB3Y,EAAG4Y,WAAa1C,EAAYlW,EAAG6H,MAAMoO,QAGtCjW,EAAG6Y,QAAU,WACZ,GAAI3U,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,mCAGb0E,GAAcI,OAAOhH,KAAK,SAASmI,GAClC,GAAI/H,IACHoH,QAAS9E,EAAG6H,MAAM1E,GAClBA,GAAIsC,EAAKtC,GAGVsS,GAAgBT,MAAMtX,GAAMJ,KAAK,SAASI,GACzCsC,EAAG6H,MAAMM,MAAMpE,KAAKrG,IAClB,SAASA,GACXyL,MAAMzL,EAAKid,SAGV,eAGJ3a,EAAGxB,OAAS,SAASua,EAAQzC,GAC5B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,kCACZ7B,SACC8H,KAAM,WAEL,aADOsT,GAAOtV,MACPsV,KAKV7U,GAAcI,OAAOhH,KAAK,SAASmI,GAClC,GAAI/H,IACHoH,QAAS9E,EAAG6H,MAAM1E,GAClBuS,QAASqD,EAAO5V,GAChBA,GAAIsC,EAAKtC,GAGVsS,GAAgBjX,OAAOd,GAAMJ,KAAK,SAASI,GAC1CsC,EAAG6H,MAAMM,MAAMmO,GAAS5Y,GACtB,WACFyL,MAAM,yDAIL,eAKJnJ,EAAGkV,QAAU,SAAS6D,EAAQzC,GAC7B,GAAI5Y,IACHoH,QAAS9E,EAAG6H,MAAM1E,GAClBuS,QAASqD,EAAO5V,IAGbgG,EAAQoN,QAAQ,iEACP,IAATpN,GACJsM,EAAgBP,QAAQxX,GAAMJ,KAAK,WAClC0C,EAAG6H,MAAMM,MAAMqO,OAAOF,EAAO,MAI/BtW,EAAG8B,OAAS,WAUX,OATAM,EAAOoV,SAASnU,KAAKgV,YACrBjW,EAAOoV,SAAS9M,YAAY2N,YAC5BjW,EAAOoV,SAASyB,aAAaZ,YAC7BjW,EAAOoV,SAASlQ,MAAM+Q,YAClBrY,EAAG2U,OAAOvS,EAAOoV,SAASjQ,MAAM8Q,YACpCjW,EAAOoV,SAASlU,KAAK+U,YAIbrY,EAAG6H,MAAMvE,MAChB,IAAK,IAAKtD,EAAG8W,UAAW,CAAM,MAE9B,KAAK,IAAK1U,EAAOoV,SAASY,UAAUC,WAAa,MAEjD,KAAK,IAAKjW,EAAOoV,SAASc,KAAKD,WAAa,MAE5C,KAAK,IAAK,KAEV,KAAK,IACJjW,EAAOoV,SAASvB,MAAMoC,YACtBjW,EAAOoV,SAASe,UAAUF,YAI5B,GAAIjW,EAAOoV,SAAS0B,QACC,KAAjBlZ,EAAG6H,MAAMvE,MAAgBtD,EAAG0Y,SACX,KAAjB1Y,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMuQ,WACjB,KAAjBpY,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMyQ,MACjB,KAAjBtY,EAAG6H,MAAMvE,MACQ,KAAjBtD,EAAG6H,MAAMvE,MAAgBtD,EAAG6H,MAAMoO,OAASjW,EAAG6H,MAAM0Q,UACxD,CAEC,GAAIY,GAAY,GAAIxY,MAAKX,EAAG6H,MAAMP,OAC9B8R,EAAY,GAAIzY,MAAKX,EAAG6H,MAAMwP,WASlC,IAPA8B,EAAUE,SAASD,EAAUE,YAC7BH,EAAUI,WAAWH,EAAUI,cAC/BL,EAAU7Q,SAAS,GACnB6Q,EAAUM,WAAW,GAErBzZ,EAAG6H,MAAMP,MAAQ6R,EAEbnZ,EAAG6H,MAAMN,MAAO,CACnB,GAAImS,GAAY,GAAI/Y,MAAKX,EAAG6H,MAAMN,MAClCmS,GAAUL,SAASD,EAAUE,YAC7BI,EAAUH,WAAWH,EAAUI,cAC/BE,EAAUpR,SAAS,GACnBoR,EAAUD,WAAW,GAErBzZ,EAAG6H,MAAMN,MAAQmS,EAGlB/U,EAAYnG,OAAOwB,EAAG6H,OAAOvK,KAAK,WACjCyC,EAAO6B,GAAG,kBAAmB,MAAQG,QAAQ,UAI9C/B,GAAGgX,WAAY,GAIjBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMP,MAAQ,GAAI3G,OAItBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAGPla,EAlnBRxD,QACEC,OAAO,gBACP+C,WAAW,iBAAkB6W,GAC7B7W,WAAW,uBAAwBkX,GACnClX,WAAW,uBAAwBgb,GACnCI,OAAO,WAAY7E,IAErBpV,KAAKka,UAAUvS,SAAW,SAASwS,GAE/B,MADA7d,MAAKoc,SAASpc,KAAKqc,WAAWwB,GACvB7d,MA+IXoZ,EAAepX,SAAW,SAAU,QAAS,eA2M7CyX,EAAqBzX,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,YAAa,eAsSrGub,EAAqBvb,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,OAAQ,YAAa,kBAAmB,cAAe,sBAfhJ,WACC,YAOA,SAASiD,GAAavF,EAAOC,EAAIgL,EAAU7H,EAAQH,EAAc/C,EAAeE,GAE/E,QAASmF,KACR,GAAIlF,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,SAEtC4d,EAAY/C,OACZgD,GAAiB,CAGrBhe,GAAKie,mBAAqB,WACzB,MAAOze,SAAQ0e,UAAUH,IAG1B/d,EAAKme,gBAAkB,WACtB,MAAOH,IAGRhe,EAAKoe,SAAW,SAASC,GAExB,IAAKL,IAAmBD,EAAUzX,KACjC,OAAO,CAEAyX,GAAUzX,IAClB,OAAwC,KAAjCyX,EAAUzX,KAAKkJ,QAAQ6O,IAG/Bre,EAAKse,YAAc,SAAShY,GAC3B,IAAK0X,IAAmBD,EAAUzX,KACjC,OAAO,CAGR,KAAK,GAAIjD,GAAI,EAAGA,EAAIiD,EAAK/C,OAAQF,IAChC,GAAIpD,KAAKme,SAAS9X,EAAKjD,IACtB,OAAO,CAIT,QAAO,GAGRrD,EAAKue,aAAe,SAASC,GAC5BT,EAAYS,EACZR,EAA6B,MAAZQ,GAGlBxe,EAAKwe,SAAW,SAASC,GACxBve,EAAkB6B,WAClB,IAAI3B,GAAWR,EAAGS,OAalB,OAZIoe,MAAU,IAAMV,EAAY/C,QAChCrb,EAAMQ,IAAIJ,EAAW,iBACnBO,KAAK,SAAUC,GACfwd,EAAYxd,EAASG,KAAK0H,KAC1B4V,GAAiB,EACjB5d,EAASO,QAAQod,IACf,SAAUxd,GACZwd,EAAY,KACZC,GAAiB,EACjBxd,QAAQC,IAAI,oBACZL,EAASQ,OAAOL,KAEXH,EAASS,SAMjBb,EAAKmX,MAAQ,SAAU1V,GAyBtB,GAAIrB,GAAWR,EAAGS,OAkBlB,OAjBAV,GAAM+Q,KAAK3Q,EAAW,eACpBW,KAAMe,EACNid,SACCC,eAAgB,gBAGjBre,KAAK,SAAUC,GACfwd,EAAYxd,EAASG,KACrBsd,GAAiB,EACjB9d,EAAkB6B,YAClB3B,EAASO,QAAQJ,IAEf,SAAUA,GACZwd,EAAY,KACZC,GAAiB,IAGZ5d,EAASS,SAGjBb,EAAKsN,OAAS,WACbyQ,EAAY,KACZC,GAAiB,CACjB,IAAI5d,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,gBACnBO,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAK4e,QAAU,WACd,MAAOb,IAGR/d,EAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SAAW0B,GAC9BnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,QAAS0B,GAC7BnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,SAAW0B,EAAQ0E,GAAI1E,GAC5CnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,SAAY0B,GAClCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAK6e,cAAgB,SAASpd,GAC7B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,wBAA0B0B,EAAQqd,IAAM,IAAMrd,EAAQ0E,IACzE7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAK+e,gBAAkB,SAAStd,GAC/B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,0BAA4B0B,EAAQud,MAAQ,IAAMvd,EAAQ0E,IAC7E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKsD,KAAO,WACX,GAAIlD,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,cACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKif,SAAW,SAASxd,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,YAAa0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGlB,MAAO,IAAIqE,GAGZ,QAASga,GAAgBvf,EAAOC,EAAIC,EAAeE,GAClD,QAASmf,KACR,GAAIlf,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAG1CH,GAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,SAAW0B,EAAQoG,QAAU,OAAQpG,GACzDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,SAAW0B,EAAQoG,QAAU,QAAUpG,EAAQiF,OAAQjF,GAC5EnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKkY,QAAU,SAASzW,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,SAAW0B,EAAQoG,QAAU,QAAUpG,EAAQiF,QACrEpG,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIqe,GA9RZ1f,QACEC,OAAO,gBACPuC,QAAQ,eAAgB,QAAS,KAAM,WAAY,SAAU,eAAgB,gBAAiB,WAAYkD,IAC1GlD,QAAQ,kBAAmB,QAAS,KAAM,gBAAiB,WAAYkd,OA8R1E,WACC,YAKA,SAASC,GAAUhd,GAClBA,EACEC,MAAM,mBACNT,IAAK,QACLU,OACCC,SACCC,YAAa,iCACbC,WAAY,yBAGd7B,SACCsF,OAAA,cAAO,SAASf,GACf,MAAOA,GAAY/E,WAKrBiC,MAAM,0BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,iCAKdJ,MAAM,0BACNT,IAAK,WACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,+BAGd7B,SACCyH,MAAA,eAAA,cAAM,SAASxF,EAAcsC,GAC5B,MAAOA,GAAYpE,KAAK8B,EAAa3B,aAzC1CzB,QACEC,OAAO,gBACPoD,OAAOsc,GAkETA,EAAUld,SAAW,qBApBtB,WACC,YASA,SAASmd,KACR,GAAIzC,IAAQ,GAAIhZ,OAAO0b,aACvB7e,SAAQC,IAAIkc,EAEZ,KAAK,GADDZ,MACK1Y,EAAI,GAAQ,IAAJA,EAASA,IACzB0Y,EAAOhV,MAAMuY,KAAM3C,EAAMtZ,GAE1B,OAAO0Y,GAGR,QAAS/C,KACR,QACE7S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,QACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,cACd9S,GAAI,GAAI8S,MAAO,YACf9S,GAAI,GAAI8S,MAAO,aACf9S,GAAI,GAAI8S,MAAO,aAIlB,QAASC,GAAaoG,EAAMrG,GAC3B,GAAIE,MACA1V,EAAI,CAGPA,GADG6b,EAAKA,KAAO,GAAK,GAAc,GAATrG,EACrB,GACe,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,IAATA,GAAwB,IAATA,EAC3F,GACe,GAATA,EACN,GAEA,EAGL,KAAK,GAAI5V,GAAI,EAASI,GAALJ,EAASA,IACzB8V,EAAQpS,MAAMqS,IAAK/V,GAGpB,OAAO8V,GAIR,QAASoG,GAAgBxc,EAAQkD,EAAOf,GAEvC,GAAIlC,GAAK/C,IAmBT,OAjBA+C,GAAGiD,MAAQA,EAEXjD,EAAG0B,OAAS,SAAUyB,GACrBpD,EAAO6B,GAAG,0BAA2B3D,OAAQkF,KAG9CnD,EAAGxB,OAAS,SAAUC,GACrBsB,EAAO6B,GAAG,0BAA2B3D,OAAQQ,KAG9CuB,EAAGkV,QAAU,SAAU/R,EAAImT,GAC1B,GAAInN,GAAQoN,QAAQ,8CACV,IAATpN,EAAiBjH,EAAYgT,QAAQ/R,GAAI7F,KAAK,WAC9C2F,EAAMuT,OAAOF,EAAO,KAChB,MAGCtW,EAGR,QAASwc,GAAsB7F,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQJ,GAC5E,GAEIua,GAAmBC,EAFnB1c,EAAK/C,IAyHT,OAtHA+C,GAAG6H,SACH7H,EAAG6H,MAAMvH,QACTN,EAAG2c,SACH3c,EAAGsX,UACHtX,EAAG6W,QACH7W,EAAGgX,WAAY,EAEfhX,EAAG2c,MAASP,IAIZha,EAAOmO,OAAO,eAAgB,WAC7B,GAAIqM,GAAaxa,EAAOya,SAASf,IAAIrE,SACjCqF,EAAa1a,EAAOya,SAASf,IAAInE,QAEhCiF,GAAcE,IAClBlV,EAASgQ,OAAO6E,GAChBzc,EAAG+c,YAAa,EAChBN,EAAoB7U,EAAS,WAC5B1F,EAAY2Z,cAAc7b,EAAG6H,OAAOvK,KAAK,SAAUI,GACjDA,EAAK6C,OAAS,EAAKP,EAAGgd,UAAW,EAAOhd,EAAGgd,UAAW,EACvDhd,EAAG+c,YAAa,KAEf,QAIL3a,EAAOmO,OAAO,iBAAkB,WAC/B,GAAIqM,GAAaxa,EAAOya,SAASb,MAAMvE,SACnCqF,EAAa1a,EAAOya,SAASb,MAAMrE,QAElCiF,GAAcE,IAClBlV,EAASgQ,OAAO8E,GAChB1c,EAAGid,cAAe,EAClBP,EAAsB9U,EAAS,WAC9B1F,EAAY6Z,gBAAgB/b,EAAG6H,OAAOvK,KAAK,SAAUI,GACnDA,EAAK6C,OAAS,EAAKP,EAAGkd,YAAa,EAAOld,EAAGkd,YAAa,EAC3Dld,EAAGid,cAAe,KAEjB,QAILjd,EAAGmd,WAAa,WACf3f,QAAQC,IAAI,KACZuC,EAAGiW,MAAQ+B,OACXhY,EAAGoW,IAAM4B,OACThY,EAAGsX,OAAStB,IACZhW,EAAG6H,MAAMuV,KAAOpF,QAGjBhY,EAAG2Y,YAAc,WAChBnb,QAAQC,IAAI,KACZuC,EAAGoW,IAAM4B,OACThY,EAAG6W,KAAOX,EAAYlW,EAAGsc,KAAMtc,EAAGiW,OAClCjW,EAAG6H,MAAMuV,KAAOpF,QAGjBhY,EAAGqd,UAAY,WACdrd,EAAG6H,MAAMuV,KAAO,GAAIzc,MAAKX,EAAGsc,KAAKA,KAAMtc,EAAGiW,MAAQ,EAAGjW,EAAGoW,IAAIA,IAAM,IAGnEpW,EAAGsd,OAAS,WAEX,GAAIpZ,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC4f,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClC7G,EAAWmC,aAAa9Y,EAAG6H,MAAMvH,KAAMkd,IACrC,eAKJxd,EAAGxB,OAAS,SAAUua,EAAQzC,GAC7B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC6f,IAAK,WACJ,MAAOzE,IAERwE,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GACY,IAA7C7G,EAAWqC,WAAWhZ,EAAG6H,MAAMvH,KAAMkd,GAAcxd,EAAG6H,MAAMvH,KAAKgW,GAASkH,EAAMrU,MAAM,yCACrF,eAGJnJ,EAAGkV,QAAU,SAAU6D,EAAQzC,GAC9B,GAAInN,GAAQoN,QAAQ,uDACV,IAATpN,EAAiBnJ,EAAG6H,MAAMvH,KAAKkW,OAAOF,EAAO,GAAK,MAGpDtW,EAAG8B,OAAS,WACXM,EAAOya,SAASf,IAAIzD,YACpBjW,EAAOya,SAASxZ,KAAKgV,YACrBjW,EAAOya,SAASzG,IAAIiC,YACpBjW,EAAOya,SAASY,QAAQpF,YACxBjW,EAAOya,SAASvZ,KAAK+U,YACrBjW,EAAOya,SAASb,MAAM3D,YAIrBjW,EAAOya,SAAS,OAAU3a,EAAY8S,MAAMhV,EAAG6H,OAAOvK,KAAK,WAC3DyC,EAAO6B,GAAG,kBAAmB,MAAOG,QAAQ,MACxC/B,EAAGgX,WAAY,GAGdhX,EAGR,QAAS0d,GAAsBtb,EAAQrC,EAAQ6H,EAAUtF,EAAQ8C,EAAMlD,EAAaga,GAEnF,GACIO,GAAmBC,EADnB1c,EAAK/C,IAGT+C,GAAG6H,MAAQzC,EAEXpF,EAAG6W,QACH7W,EAAGiW,SACHjW,EAAGmW,QAAUwH,IACb3d,EAAG2c,MAASP,IACZpc,EAAGsX,OAAStB,IAGZhW,EAAG6H,MAAQzC,EACXpF,EAAG6H,MAAMuV,KAAO,GAAIzc,MAAKX,EAAG6H,MAAMuV,MAClCpd,EAAGsc,MAAQA,KAAMtc,EAAG6H,MAAMuV,KAAKf,eAE/Brc,EAAGiW,MAAQjW,EAAG6H,MAAMuV,KAAKQ,WAAa,EACtC5d,EAAG6W,KAAOX,EAAYlW,EAAGsc,KAAKA,KAAMtc,EAAGiW,MAEvC,IAAI4H,GAAK7d,EAAG6H,MAAMuV,IA6IlB,OA5IApd,GAAGmW,QAAU0H,EAAGC,UAChB9d,EAAGoW,KAAOA,IAAKpW,EAAGmW,SAElB/T,EAAOmO,OAAO,eAAgB,WAC7B,GAAIqM,GAAaxa,EAAOya,SAASf,IAAIrE,SACjCqF,EAAa1a,EAAOya,SAASf,IAAInE,QAEhCiF,GAAcE,IAClBlV,EAASgQ,OAAO6E,GAChBzc,EAAG+c,YAAa,EAChBN,EAAoB7U,EAAS,WAC5B1F,EAAY2Z,cAAc7b,EAAG6H,OAAOvK,KAAK,SAASI,GAChDA,EAAK6C,OAAS,EAAKP,EAAGgd,UAAW,EAAOhd,EAAGgd,UAAW,EACvDhd,EAAG+c,YAAa,KAEf,QAIL3a,EAAOmO,OAAO,iBAAkB,WAC/B,GAAIqM,GAAaxa,EAAOya,SAASb,MAAMvE,SACnCqF,EAAa1a,EAAOya,SAASb,MAAMrE,QAElCiF,GAAcE,IAClBlV,EAASgQ,OAAO8E,GAChB1c,EAAGid,cAAe,EAClBP,EAAsB9U,EAAS,WAC9B1F,EAAY6Z,gBAAgB/b,EAAG6H,OAAOvK,KAAK,SAASI,GAClDA,EAAK6C,OAAS,EAAKP,EAAGkd,YAAa,EAAOld,EAAGkd,YAAa,EAC3Dld,EAAGid,cAAe,KAEjB,QAILjd,EAAGmd,WAAa,WACf3f,QAAQC,IAAI,KACZuC,EAAGiW,MAAQ+B,OACXhY,EAAGoW,IAAM4B,OACThY,EAAGsX,OAAStB,IACZhW,EAAG6H,MAAMuV,KAAOpF,QAGjBhY,EAAG2Y,YAAc,WAChBnb,QAAQC,IAAI,KACZuC,EAAGoW,IAAM4B,OACThY,EAAG6W,KAAOX,EAAYlW,EAAGsc,KAAMtc,EAAGiW,OAClCjW,EAAG6H,MAAMuV,KAAOpF,QAGjBhY,EAAGqd,UAAY,WACdrd,EAAG6H,MAAMuV,KAAO,GAAIzc,MAAKX,EAAGsc,KAAKA,KAAMtc,EAAGiW,MAAQ,EAAGjW,EAAGoW,IAAIA,IAAM,IAGnEpW,EAAGsd,OAAS,WACX,GAAIpZ,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC4f,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClC,GAAI9f,IACHmH,QAAS7E,EAAG6H,MAAM1E,GAClBA,GAAIqa,EAAIra,GAGT+Y,GAAelH,MAAMtX,GAAMJ,KAAK,SAASI,GACxCsC,EAAG6H,MAAMvH,KAAKyD,KAAKrG,IACjB,SAASA,GACXyL,MAAMzL,EAAKid,SAGV,eAKJ3a,EAAGxB,OAAS,SAASua,EAAQzC,GAC5B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC6f,IAAK,WAEJ,aADOzE,GAAOtV,MACPsV,GAERwE,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClChgB,QAAQC,IAAIsb,EAAO5V,GACnB,IAAIzF,IACHmH,QAAS7E,EAAG6H,MAAM1E,GAClBO,OAAQqV,EAAO5V,GACfA,GAAIqa,EAAIra,GAGT+Y,GAAe1d,OAAOd,GAAMJ,KAAK,SAASI,GACzCsC,EAAG6H,MAAMvH,KAAKgW,GAAS5Y,GACrB,SAASA,GACXyL,MAAMzL,EAAKid,SAIV,eAKJ3a,EAAGkV,QAAU,SAAS6D,EAAQzC,GAC7B,GAAInN,GAAQoN,QAAQ,wDAChB7Y,GACHmH,QAAS7E,EAAG6H,MAAM1E,GAClBO,OAAQqV,EAAO5V,GAGN,IAATgG,EAAiB+S,EAAehH,QAAQxX,GAAMJ,KAAK,WACnD0C,EAAG6H,MAAMvH,KAAKkW,OAAOF,EAAO,KACxB,MAGNtW,EAAG8B,OAAS,WACXM,EAAOya,SAASf,IAAIzD,YACpBjW,EAAOya,SAASxZ,KAAKgV,YACrBjW,EAAOya,SAASzG,IAAIiC,YACpBjW,EAAOya,SAASY,QAAQpF,YACxBjW,EAAOya,SAASvZ,KAAK+U,YACrBjW,EAAOya,SAASb,MAAM3D,YAErBjW,EAAOya,SAAS,OAAU3a,EAAY1D,OAAOwB,EAAG6H,OAAOvK,KAAK,WAC5DyC,EAAO6B,GAAG,kBAAmB,MAAOG,QAAQ,MACxC/B,EAAGgX,WAAY,GAGdhX,EAGR,QAAS+d,GAAoBnW,EAAUnD,EAAgBxB,EAAOf,GAC7D,GAAIlC,GAAK/C,IA4DT,OA1DA+C,GAAGiD,SACHjD,EAAG6H,MAAQ5E,EAEXf,EAAY/E,MAAMG,KAAK,SAASI,GAC/BsC,EAAGiD,MAAQvF,CACX,KAAK,GAAI2C,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAASF,IACtC,IAAK,GAAII,GAAI,EAAIA,EAAIT,EAAG6H,MAAMtH,OAASE,IAClCT,EAAGiD,MAAM5C,GAAG8C,IAAMnD,EAAG6H,MAAMpH,GAAG0C,KACjCnD,EAAGiD,MAAM5C,GAAGsF,OAAS3F,EAAG6H,MAAMpH,GAAGkF,OACjC3F,EAAGiD,MAAM5C,GAAGkJ,MAAQvJ,EAAG6H,MAAMpH,GAAG8I,SAOpCvJ,EAAGyJ,SAAW,WACbzJ,EAAG6H,QAGH,KAAK,GAFDgB,GAAU,EAELxI,EAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAASF,IACtCL,EAAGiD,MAAM5C,GAAGsF,QAAS,EACjB3F,EAAG0J,SACN1J,EAAGiD,MAAM5C,GAAGkJ,OAAQ,EACpBvJ,EAAG6H,MAAM9D,KAAK/D,EAAGiD,MAAM5C,IACvBwI,KAEA7I,EAAGiD,MAAM5C,GAAGkJ,OAAQ,CAItBvJ,GAAGwJ,SAAWX,EAAU,uBAAyB7I,EAAGiD,MAAM1C,QAG3DP,EAAG2J,YAAc,WAChB3J,EAAG0J,SAAU,CACb,IAAIb,GAAU,CACd7I,GAAG6H,QAEH,KAAK,GAAIxH,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAASF,IACtCL,EAAGiD,MAAM5C,GAAGsF,QAAS,EACI,GAArB3F,EAAGiD,MAAM5C,GAAGkJ,QACfvJ,EAAG6H,MAAM9D,KAAK/D,EAAGiD,MAAM5C,IACvBwI;AAIF7I,EAAGwJ,SAAWX,EAAU,uBAAyB7I,EAAGiD,MAAM1C,QAG3DP,EAAG8B,OAAS,WACX2C,EAAeM,MAAM/E,EAAG6H,QAGzB7H,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAGjBhF,EAhbRxD,QACEC,OAAO,gBAEP+C,WAAW,iBAAkB+c,GAC7B/c,WAAW,uBAAwBgd,GACnChd,WAAW,uBAAwBke,GACnCle,WAAW,sBAAuBue,GAiGpCxB,EAAetd,SAAW,SAAU,QAAS,eA8H7Cud,EAAqBvd,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,eAsKxFye,EAAqBze,SAAW,SAAU,SAAU,WAAY,SAAU,OAAQ,cAAe,kBAiEjG8e,EAAoB9e,SAAW,WAAY,iBAAkB,QAAS,kBApBvE,WACC,YAIA,SAAS+e,GAAmB1J,EAAM3X,EAAOC,EAAImD,EAAQlD,EAAeE,GAElE,GAAIkhB,MACA/gB,EAAoBL,EAAcM,IAAI,QAwE3C,OAtEC8gB,GAAW9gB,IAAM,WAChB,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,eACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBogB,EAAWngB,KAAO,SAAUW,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,eAAiB0B,GACpCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAAUH,GACZH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBogB,EAAWjJ,MAAQ,SAASvW,GAC3B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,cAAe0B,GACnCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBogB,EAAWzf,OAAS,SAAUC,GAC7B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMqR,IAAIjR,EAAW,eAAiB0B,EAAQ0E,GAAI1E,GAChDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBogB,EAAW/I,QAAU,SAAUzW,GAC9B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,eAAiB0B,GACvCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBogB,EAAWC,WAAa,SAAUzf,GACjC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,0BAA4B0B,EAAQ4E,KAAO,IAAM5E,EAAQ0E,IAC5E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIXogB,EA9ERzhB,QAAQC,OAAO,gBACbuC,QAAQ,oBAAqBgf,GA0G/BA,EAAkB/e,SAAW,OAAQ,QAAS,KAAM,SAAU,gBAAiB,eAzBhF,WACC,YAKA,SAASkf,GAAgBhf,GACxBA,EACEC,MAAM,yBACNT,IAAK,cACLU,OACCC,SACCC,YAAa,uCACbC,WAAY,+BAGd7B,SACCygB,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,WAK3BiC,MAAM,gCACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,uCACbC,WAAY,uCAKdJ,MAAM,gCACNT,IAAK,iBACLU,OACCuW,sBACCrW,YAAa,uCACbC,WAAY,qCAGd7B,SACCsgB,YAAA,eAAA,oBAAY,SAASre,EAAcoe,GAClC,MAAOA,GAAkBlgB,KAAK8B,EAAaye,mBAzChD7hB,QACEC,OAAO,gBACPoD,OAAOse,GAwETA,EAAgBlf,SAAW,qBA1B5B,WACC,YAMA,SAASqf,GAAsBve,EAAQqe,EAAcJ,GACpD,GAAIhe,GAAK/C,IAiBT,OAfA+C,GAAGoe,aAAeA,EAElBpe,EAAGxB,OAAS,SAAU2E,GACrBpD,EAAO6B,GAAG,gCAAiCyc,aAAclb,KAG1DnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,qDACP,IAATpN,GACH6U,EAAkB9I,QAAQ/R,GAAI7F,KAAK,WAClC0C,EAAGoe,aAAa5H,OAAOF,EAAO,MAK1BtW,EAGR,QAASue,GAA4Bnc,EAAQrC,EAAQ6H,EAAUoW,GAC9D,GAEIQ,GAFAxe,EAAK/C,IA2CT,OAxCA+C,GAAG6H,SACH7H,EAAGgX,WAAY,EAEf5U,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAOqc,eAAepb,KAAKoU,SACvCC,EAAYtV,EAAOqc,eAAepb,KAAKsU,QAEtCJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzBoW,EAAkBE,WAAWle,EAAG6H,OAC9BvK,KAAK,SAAUI,GACfF,QAAQC,IAAIC,GACRA,EAAK6C,OAAS,EACjBP,EAAG2e,OAAQ,EAEX3e,EAAG2e,OAAQ,EAEZ3e,EAAG0e,SAAU,KAEb,QAML1e,EAAG8B,OAAS,WACXM,EAAOqc,eAAepb,KAAKgV,YAC3BjW,EAAOqc,eAAehB,QAAQpF,YAC9BjW,EAAOqc,eAAeG,MAAMvG,YAC5BjW,EAAOqc,eAAeI,IAAIxG,YAEtBjW,EAAOqc,eAAevF,OACzB8E,EAAkBhJ,MAAMhV,EAAG6H,OAAOvK,KAAK,WACtCyC,EAAO6B,GAAG,wBAAyB,MAAQG,QAAQ,MAE9C/B,EAAGgX,WAAY,GAGhBhX,EAIR,QAAS8e,GAA4B1c,EAAQrC,EAAQ6H,EAAUqW,EAAYD,GAC1E,GAEIQ,GAFAxe,EAAK/C,IAoCT,OAjCA+C,GAAG6H,MAAQoW,EACXje,EAAGgX,WAAY,EAEf5U,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAOqc,eAAepb,KAAKoU,SACvCC,EAAYtV,EAAOqc,eAAepb,KAAKsU,QAEtCJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzBoW,EAAkBE,WAAWle,EAAG6H,OAAOvK,KAAK,SAASI,GACnDA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAKL1e,EAAG8B,OAAS,WACXM,EAAOqc,eAAepb,KAAKgV,YAC3BjW,EAAOqc,eAAehB,QAAQpF,YAC9BjW,EAAOqc,eAAeG,MAAMvG,YAC5BjW,EAAOqc,eAAeI,IAAIxG,YAEtBjW,EAAOqc,eAAevF,OACzB8E,EAAkBxf,OAAOwB,EAAG6H,OAAOvK,KAAK,WACvC,MAAOyC,GAAO6B,GAAG,wBAAyB,MAAQG,QAAQ,MAErD/B,EAAGgX,WAAY,GAGhBhX,EA/GRxD,QAAQC,OAAO,gBACb+C,WAAW,uBAAwB8e,GACnC9e,WAAW,6BAA8B+e,GACzC/e,WAAW,6BAA8Bsf,GAmD3CR,EAAqBrf,SAAW,SAAU,eAAgB,qBAiD1Dsf,EAA2Btf,SAAW,SAAU,SAAU,WAAY,qBAyCtE6f,EAA2B7f,SAAW,SAAU,SAAU,WAAY,aAAc,wBAvBrF,WACC,YAIA,SAAS8f,GAAyBpiB,EAAOC,EAAIC,EAAeC,EAAQC,GAEnE,QAASgiB,KAER,GAAI/hB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,qBACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAASW,GACpB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,qBAAuB0B,GAC1CnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAUlB,OATAP,GAAO4B,QACNC,IAAK5B,EAAW,oBAChBW,KAAMe,IACJnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEVH,EAASS,SAGjBb,EAAKwB,OAAS,SAASC,GACtB,GAAIrB,GAAWR,EAAGS,OAgBlB,OAfAG,SAAQC,IAAIgB,GACZ3B,EAAO4B,QACNC,IAAK5B,EAAW,qBAAuB0B,EAAQ0E,GAC/CzF,KAAMe,EACNI,iBAAkB,SAASJ,GAE1B,MADAA,GAAQK,QAAU,MACXL,KAGRnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEVH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,qBAAuB0B,GAC7CnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgiB,SAAW,SAAUvgB,GACzB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,8BAAgC0B,GACnDnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKiiB,aAAe,SAASxgB,GAC5B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,mCAAqC0B,EAAQygB,GAAK,IAAMzgB,EAAQ0E,IACnF7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKmiB,sBAAwB,SAAS1gB,GACrC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,4CAA8C0B,EAAQiM,YAAc,IAAMjM,EAAQ0E,IACrG7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIkhB,GAhHZviB,QAAQC,OAAO,gBACbuC,QAAQ,2BAA4B,QAAS,KAAM,gBAAiB,SAAU,WAAY+f,OAkH7F,WACC,YAKA,SAASK,GAAsBjgB,GAC9BA,EACEC,MAAM,+BACNT,IAAK,oBACLU,OACCC,SACCC,YAAa,6CACbC,WAAY,qCAGd7B,SACC0hB,mBAAA,0BAAmB,SAASN,GAC3B,MAAOA,GAAwB5hB,WAKjCiC,MAAM,sCACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,6CACbC,WAAY,2CAGd7B,SACC2hB,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAKzBiC,MAAM,sCACNT,IAAK,uBACLU,OACCuW,sBACCrW,YAAa,6CACbC,WAAY,2CAGd7B,SACC6hB,kBAAA,eAAA,0BAAkB,SAAS5f,EAAcmf,GACxC,MAAOA,GAAwBjhB,KAAK8B,EAAa6f,sBAElDH,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAjD5BX,QACEC,OAAO,gBACPoD,OAAOuf,GAoFTA,EAAsBngB,SAAW,qBA9BlC,WACC,YAMA,SAASygB,GAA2B3f,EAAQsf,EAAmBN,GAC9D,GAAI/e,GAAK/C,IAeT,OAbA+C,GAAGqf,kBAAoBA,EAEvBrf,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,sCAAuC6d,mBAAoBtc,KAGtEnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,2DACP,IAATpN,GAAe4V,EAAwB7J,QAAQ/R,GAAI7F,KAAK,WAC3D0C,EAAGqf,kBAAkB7I,OAAOF,EAAO,MAI9BtW,EAGR,QAAS2f,GAAiCvd,EAAQrC,EAAQ6H,EAAU0X,EAAWP,GAC9E,GACIa,GAAkBC,EADlB7f,EAAK/C,IA0ET,OAvEA+C,GAAG6H,SACH7H,EAAGsf,UAAYA,EACftf,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAEpB1d,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAO2d,qBAAqBb,GAAGzH,SAC5CqF,EAAa1a,EAAO2d,qBAAqBb,GAAGvH,QAE3CiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3BmX,EAAwBE,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAC3DA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAO2d,qBAAqBrV,YAAY+M,SACrDqF,EAAa1a,EAAO2d,qBAAqBrV,YAAYiN,QAEpDiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCmX,EAAwBI,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACpEA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAO2d,qBAAqBK,YAAY/H,YACxCjW,EAAO2d,qBAAqBb,GAAG7G,YAC/BjW,EAAO2d,qBAAqBzH,KAAKD,YACjCjW,EAAO2d,qBAAqBrV,YAAY2N,YACxCjW,EAAO2d,qBAAqBM,KAAKhI,YAEhCjW,EAAO2d,qBAAqB,OAAUhB,EAAwB/J,MAAMhV,EAAG6H,OAAOvK,KAAK,WACnFyC,EAAO6B,GAAG,8BAA+B,MAAQG,QAAQ,MACrD/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YACI5Z,EAKR,QAASugB,GAAiCne,EAAQrC,EAAQ6H,EAAU4X,EAAkBF,EAAWP,GAChG,GACIa,GAAkBC,EADlB7f,EAAK/C,IAuET,OArEA+C,GAAG6H,MAAQ2X,EACXxf,EAAGsf,UAAYA,EACftf,EAAGgX,WAAY,EAEfhX,EAAG6H,MAAMyQ,KAAO,GAAI3X,MAAKX,EAAG6H,MAAMyQ,MAElClW,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAO2d,qBAAqBb,GAAGzH,SAC5CqF,EAAa1a,EAAO2d,qBAAqBb,GAAGvH,QAE3CiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3BmX,EAAwBE,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAC3DA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAO2d,qBAAqBrV,YAAY+M,SACrDqF,EAAa1a,EAAO2d,qBAAqBrV,YAAYiN,QAEpDiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCmX,EAAwBI,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACpEA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAO2d,qBAAqBK,YAAY/H,YACxCjW,EAAO2d,qBAAqBb,GAAG7G,YAC/BjW,EAAO2d,qBAAqBzH,KAAKD,YACjCjW,EAAO2d,qBAAqBrV,YAAY2N,YACxCjW,EAAO2d,qBAAqBM,KAAKhI,YAEhCjW,EAAO2d,qBAAqB,OAAUhB,EAAwBvgB,OAAOwB,EAAG6H,OAAOvK,KAAK,WACpFyC,EAAO6B,GAAG,8BAA+B,MAAQG,QAAQ,MACrD/B,EAAGgX,WAAY,GAGrBhX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YAEI5Z,EAhLRxD,QAAQC,OAAO,gBACb+C,WAAW,6BAA8BkgB,GACzClgB,WAAW,mCAAoCmgB,GAC/CngB,WAAW,mCAAoC+gB,GAqDjDb,EAA2BzgB,SAAW,SAAU,oBAAqB,2BAiFrE0gB,EAAiC1gB,SAAW,SAAU,SAAU,WAAY,YAAa,2BA4EzFshB,EAAiCthB,SAAW,SAAU,SAAU,WAAY,mBAAoB,YAAa,8BA/B9G,WACC,YAKA,SAASsgB,GAAiB5iB,EAAOC,EAAIC,EAAeE,GAEnD,QAASwiB,KACR,GAAIviB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwjB,OAAS,WACb,GAAIpjB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,iBACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAASW,GACpB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aAAe0B,GAClCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,YAAa0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwB,OAAS,SAASC,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,aAAe0B,EAAQ0E,GAAI1E,GAChDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkY,QAAU,SAASzW,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,aAAe0B,GACrCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkhB,WAAa,SAASzf,GAC1B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,wBAA0B0B,EAAQiM,YAAc,IAAMjM,EAAQ0E,IACjF7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAI0hB,GA3FZ/iB,QACEC,OAAO,gBACPuC,QAAQ,mBAAoB,QAAS,KAAM,gBAAiB,WAAYugB,OA4F3E,WACC,YAKA,SAASkB,GAActhB,GACtBA,EACEC,MAAM,uBACNT,IAAK,YACLU,OACCC,SACCC,YAAa,qCACbC,WAAY,6BAGd7B,SACC2hB,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAKzBiC,MAAM,8BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,qCAKdJ,MAAM,8BACNT,IAAK,eACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,mCAGd7B,SACCqhB,UAAA,eAAA,kBAAU,SAASpf,EAAc2f,GAChC,MAAOA,GAAgBzhB,KAAK8B,EAAa8gB,iBAzC9ClkB,QACEC,OAAO,gBACPoD,OAAO4gB,GAgFTA,EAAcxhB,SAAW,qBAlC1B,WACC,YAOA,SAAS0hB,GAAoB5gB,EAAQuf,EAAWC,GAC/C,GAAIvf,GAAK/C,IAeT,OAbA+C,GAAGsf,UAAYA,EAEftf,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,8BAA+B8e,WAAYvd,KAGtDnD,EAAGkV,QAAU,SAAU/R,EAAImT,GAC1B,GAAInN,GAAQoN,QAAQ,kDACV,IAATpN,EAAiBoW,EAAgBrK,QAAQ/R,GAAI7F,KAAK,WAClD0C,EAAGsf,UAAU9I,OAAOF,EAAO,KACvB,MAGCtW,EAGR,QAAS4gB,GAAyBxe,EAAQrC,EAAQ6H,EAAU2X,GAC3D,GACIf,GADAxe,EAAK/C,IA2DT,OAxDA+C,GAAG6H,SACH7H,EAAGgX,WAAY,EAIf5U,EAAOmO,OAAO,uBAAwB,WACrC,GAAIgH,GAAYnV,EAAOye,aAAanW,YAAY+M,SAC5CC,EAAYtV,EAAOye,aAAanW,YAAYiN,QAE3CJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzB2X,EAAgBrB,WAAWle,EAAG6H,OAAOvK,KAAK,SAASI,GACjDA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAKL1e,EAAG8B,OAAS,WAEXM,EAAOye,aAAavI,KAAKD,YACzBjW,EAAOye,aAAanW,YAAY2N,YAE/BjW,EAAOye,aAAa,OAAUtB,EAAgBvK,MAAMhV,EAAG6H,OAAOvK,KAAK,SAASC,GAC5EwC,EAAO6B,GAAG,sBAAuB,MAAQG,QAAQ,MAC7C/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG2Z,QACH3Z,EAAG4Z,YAEI5Z,EAGR,QAAS8gB,GAA0B1e,EAAQrC,EAAQ6H,EAAUoX,EAAUO,GACtE,GACIf,GADAxe,EAAK/C,IAqDT,OAnDA+C,GAAG6H,MAAQmX,EACXhf,EAAGgX,WAAY,EAEfhX,EAAG6H,MAAMyQ,KAAO,GAAI3X,MAAKX,EAAG6H,MAAMyQ,MAElClW,EAAOmO,OAAO,uBAAwB,WACrC,GAAIgH,GAAYnV,EAAOye,aAAanW,YAAY+M,SAC5CC,EAAYtV,EAAOye,aAAanW,YAAYiN,QAE3CJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzB2X,EAAgBrB,WAAWle,EAAG6H,OAAOvK,KAAK,SAASI,GACjDA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAIL1e,EAAG8B,OAAS,WACXM,EAAOye,aAAavI,KAAKD,YACzBjW,EAAOye,aAAanW,YAAY2N,YAE/BjW,EAAOye,aAAa,OAAUtB,EAAgB/gB,OAAOwB,EAAG6H,OAAOvK,KAAK,WACpEyC,EAAO6B,GAAG,sBAAuB,MAAQG,QAAQ,MAC7C/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGFtgB,EA9IRxD,QACEC,OAAO,gBACP+C,WAAW,qBAAsBmhB,GACjCnhB,WAAW,2BAA4BohB,GACvCphB,WAAW,2BAA4BshB,GAyDzCH,EAAmB1hB,SAAW,SAAU,YAAa,mBAgErD2hB,EAAyB3hB,SAAW,SAAU,SAAU,WAAY,mBA0DpE6hB,EAAyB7hB,SAAW,SAAU,SAAU,WAAY,WAAY,sBAnCjF,WACC,YAMA,SAAS8hB,GAAiBpkB,EAAOC,EAAIC,EAAeE,GAEnD,QAASgkB,KAER,GAAI/jB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aAAe0B,GAClCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,YAAa0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,aAAe0B,EAAQ0E,GAAI1E,GAChDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,aAAe0B,GACrCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKgkB,UAAY,SAASviB,GACzB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,uBAAyB0B,EAAQ6Z,KAAO,IAAM7Z,EAAQ0E,IACzE7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjBb,EAAKikB,SAAW,SAAUxiB,GACzB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,sBAAwB0B,EAAQsJ,WAAa,IAAMtJ,EAAQuJ,WAAa,IAAMvJ,EAAQ0E,IACzG7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAIlB,MAAO,IAAIkjB,GA7FZvkB,QACEC,OAAO,gBACPuC,QAAQ,mBAAoB,QAAS,KAAM,gBAAiB,WAAY+hB,OA8F3E,WACC,YAKA,SAASG,GAAc/hB,GACtBA,EACEC,MAAM,uBACNT,IAAK,YACLU,OACCC,SACCC,YAAa,qCACbC,WAAY,6BAGd7B,SACCwjB,WAAA,kBAAW,SAASJ,GACnB,MAAOA,GAAgB5jB,WAKzBiC,MAAM,8BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,qCAKdJ,MAAM,8BACNT,IAAK,eACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,mCAGd7B,SACCyjB,UAAA,eAAA,kBAAU,SAASxhB,EAAcmhB,GAChC,MAAOA,GAAgBjjB,KAAK8B,EAAayhB,iBAzC9C7kB,QACEC,OAAO,gBACPoD,OAAOqhB,GAoFTA,EAAcjiB,SAAW,qBAtC1B,WACC,YASA,SAASqiB,GAAoBvhB,EAAQohB,EAAWJ,GAC/C,GAAI/gB,GAAK/C,IAiBT,OAfA+C,GAAGmhB,UAAYA,EAIfnhB,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,8BAA+Byf,WAAYle,KAGtDnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,kDACV,IAATpN,EAAiB4X,EAAgB7L,QAAQ/R,GAAI7F,KAAK,WAClD6jB,EAAU3K,OAAOF,EAAO,KACpB,MAGCtW,EAIR,QAASuhB,GAA0Bnf,EAAQrC,EAAQ6H,EAAUvF,EAAS0e,GACrE,GAAI/gB,GAAK/C,IAwJT,OAtJA+C,GAAG6H,SACH7H,EAAGgX,WAAY,EACfhX,EAAGwhB,aAAc,EACjBxhB,EAAGyB,UAEHzB,EAAGkX,aAAec,OAClBhY,EAAGyhB,aAAezJ,OAElBhY,EAAGmX,aAAea,OAClBhY,EAAG0hB,aAAe1J,OAElBhY,EAAG2hB,qBAAuBlgB,QAAQ,EAAO2f,SAAUpJ,QACnDhY,EAAG4hB,qBAAuBngB,QAAQ,EAAO2f,SAAUpJ,QAEnDhY,EAAG6hB,SAAWpgB,QAAQ,EAAO2f,SAAUpJ,QAEvC5V,EAAO0f,aAAa,sBAAuB,uBAAwB,WAE9D9hB,EAAG6H,MAAMka,YAAc/hB,EAAG6H,MAAMma,WAAa,GAChDhiB,EAAGwhB,aAAc,EAEjBxhB,EAAGkX,aAAe,GAAIvW,MAAK,OAASX,EAAG6H,MAAMma,YAC7ChiB,EAAGyhB,aAAe,GAAI9gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAG6H,MAAME,WAAaiQ,OAEtBhY,EAAGmX,aAAe,GAAIxW,MAAK,OAASX,EAAG6H,MAAMma,YAC7ChiB,EAAG0hB,aAAe,GAAI/gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAG6H,MAAMG,WAAagQ,QAEtBhY,EAAGwhB,aAAc,IAInBxhB,EAAG+X,UAAY,WACd,GAAIra,IACHyF,GAAI,KACJmV,KAAMjW,EAAQ,QAAQrC,EAAG6H,MAAME,WAAY,cAG5CgZ,GAAgBC,UAAUtjB,GAAMJ,KAAK,SAAUI,GAC9C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG2hB,oBAAoBlgB,QAAS,EAChCzB,EAAG2hB,oBAAoBP,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAE1G/hB,GAAG6H,MAAME,WAAa/H,EAAG6H,MAAMG,WAAchI,EAAG6H,MAAMG,WAAagQ,OAAY,KAChFhY,EAAGmX,aAAenX,EAAG6H,MAAME,WAC3B/H,EAAG2hB,oBAAoBlgB,QAAS,KAMnCzB,EAAGiiB,UAAY,WACd,GAAIvkB,IACHyF,GAAI,KACJmV,KAAMjW,EAAQ,QAAQrC,EAAG6H,MAAMG,WAAY,cAG5C+Y,GAAgBC,UAAUtjB,GAAMJ,KAAK,SAAUI,GAC9C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG4hB,oBAAoBngB,QAAS,EAChCzB,EAAG4hB,oBAAoBR,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAE1G/hB,GAAG6H,MAAMG,WAAahI,EAAG6H,MAAME,WAAc/H,EAAG6H,MAAME,WAAaiQ,OAAY,KAChFhY,EAAGyhB,aAAezhB,EAAG6H,MAAMG,WAC3BhI,EAAG4hB,oBAAoBngB,QAAS,KAMnCW,EAAO0f,aAAa,sBAAuB,uBAAwB,WAClE,GAAIpkB,IACHyF,GAAI,KACJ4E,WAAY1F,EAAQ,QAAQrC,EAAG6H,MAAME,WAAY,cACjDC,WAAY3F,EAAQ,QAAQrC,EAAG6H,MAAMG,WAAY,cAGlD+Y,GAAgBE,SAASvjB,GAAMJ,KAAK,SAASI,GAC5C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG6hB,QAAQpgB,QAAS,EACpBzB,EAAG6hB,QAAQT,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAE/F/hB,GAAG6hB,SAAWpgB,QAAQ,EAAO2f,SAAUpJ,YAK1ChY,EAAG8B,OAAS,WACXM,EAAO8f,aAAaF,WAAW3J,YAC/BjW,EAAO8f,aAAaH,WAAW1J,YAC/BjW,EAAO8f,aAAa5e,KAAK+U,YACzBjW,EAAO8f,aAAana,WAAWsQ,YAC/BjW,EAAO8f,aAAala,WAAWqQ,aAE9BjW,EAAO8f,aAAahJ,SAAUlZ,EAAG6H,MAAMvE,MAAStD,EAAG6hB,QAAQpgB,QAAWzB,EAAG2hB,oBAAoBlgB,QAC7FzB,EAAG4hB,oBAAoBngB,OAEnBzB,EAAGgX,WAAY,EAFc+J,EAAgB/L,MAAMhV,EAAG6H,OAAOvK,KAAK,SAASI,GAC/EqC,EAAO6B,GAAG,sBAAuB,MAAQG,QAAQ,OAInD/B,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMP,MAAQ,GAAI3G,OAGtBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAGPla,EAGR,QAASmiB,GAAyB7N,EAAMlS,EAAQrC,EAAQ6H,EAAUvF,EAAS+e,EAAUL,GACpF,GAAI/gB,GAAK/C,IA2MT,OAzMA+C,GAAG6H,MAAQuZ,EACXphB,EAAGgX,WAAY,EACfhX,EAAGwhB,aAAc,EACjBxhB,EAAGyB,UAEHzB,EAAGkX,aAAec,OAClBhY,EAAGyhB,aAAezJ,OAElBhY,EAAGmX,aAAea,OAClBhY,EAAG0hB,aAAe1J,OAElBhY,EAAG2hB,qBAAuBlgB,QAAQ,EAAO2f,SAAUpJ,QACnDhY,EAAG4hB,qBAAuBngB,QAAQ,EAAO2f,SAAUpJ,QAEnDhY,EAAG6hB,SAAWpgB,QAAQ,EAAO2f,SAAUpJ,QAEvChY,EAAGoiB,gBAAiB,EAEpBpiB,EAAG6H,MAAMma,WAAaK,OAAOriB,EAAG6H,MAAMma,YACtChiB,EAAG6H,MAAMka,WAAaM,OAAOriB,EAAG6H,MAAMka,YACtC/hB,EAAG6H,MAAME,WAAa,GAAIpH,MAAKX,EAAG6H,MAAME,YACxC/H,EAAG6H,MAAMG,WAAa,GAAIrH,MAAKX,EAAG6H,MAAMG,YAExChI,EAAG6H,MAAQ7H,EAAG6H,MAEd7H,EAAG6H,MAAME,WAAa,GAAIpH,MAAKX,EAAG6H,MAAME,YACxC/H,EAAG6H,MAAMG,WAAa,GAAIrH,MAAKX,EAAG6H,MAAMG,YAExChI,EAAGkX,aAAe,GAAIvW,MAAK,OAASX,EAAG6H,MAAMma,YAC7ChiB,EAAGyhB,aAAe,GAAI9gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAGmX,aAAe,GAAIxW,MAAKX,EAAG6H,MAAME,YACpC/H,EAAG0hB,aAAe,GAAI/gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAGoiB,gBAAiB,EACpBpiB,EAAGwhB,aAAc,EAajBpf,EAAO0f,aAAa,sBAAuB,uBAAwB,WAClExN,EAAKjK,MAAM,8BACPrK,EAAG6H,MAAMka,YAAc/hB,EAAG6H,MAAMma,WAAa,GAA0B,GAArBhiB,EAAGoiB,iBACxDpiB,EAAGwhB,aAAc,GAKdxhB,EAAG6H,MAAMka,YAAc/hB,EAAG6H,MAAMma,WAAa,GAA0B,GAArBhiB,EAAGoiB,iBACxDpiB,EAAGwhB,aAAc,EAEjBxhB,EAAGkX,aAAe,GAAIvW,MAAK,OAASX,EAAG6H,MAAMma,YAC7ChiB,EAAGyhB,aAAe,GAAI9gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAG6H,MAAME,WAAaiQ,OAEtBhY,EAAGmX,aAAe,GAAIxW,MAAK,OAASX,EAAG6H,MAAMma,YAC7ChiB,EAAG0hB,aAAe,GAAI/gB,MAAK,SAAWX,EAAG6H,MAAMka,YAE/C/hB,EAAG6H,MAAMG,WAAagQ,QAInBhY,EAAG6H,MAAMka,aAAe/hB,EAAG6H,MAAMma,WAAa,IACjDhiB,EAAGwhB,aAAc,EACjBxhB,EAAGoiB,gBAAiB,KAItBpiB,EAAG+X,UAAY,WACdzD,EAAKjK,MAAM,uBACX,IAAI3M,IACHyF,GAAInD,EAAG6H,MAAM1E,GACbmV,KAAMjW,EAAQ,QAAQrC,EAAG6H,MAAME,WAAY,cAG5CgZ,GAAgBC,UAAUtjB,GAAMJ,KAAK,SAASI,GAC7C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG2hB,oBAAoBlgB,QAAS,EAChCzB,EAAG2hB,oBAAoBP,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAEvG/hB,GAAG6H,MAAME,WAAa/H,EAAG6H,MAAMG,aAClChI,EAAG6H,MAAMG,WAAagQ,QAEvBhY,EAAGmX,aAAenX,EAAG6H,MAAME,WAC3B/H,EAAG2hB,oBAAoBlgB,QAAS,KAQnCzB,EAAGiiB,UAAY,WACd3N,EAAKjK,MAAM,uBACX,IAAI3M,IACHyF,GAAInD,EAAG6H,MAAM1E,GACbmV,KAAMjW,EAAQ,QAAQrC,EAAG6H,MAAMG,WAAY,cAG5C+Y,GAAgBC,UAAUtjB,GAAMJ,KAAK,SAASI,GAC7C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG4hB,oBAAoBngB,QAAS,EAChCzB,EAAG4hB,oBAAoBR,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAExG/hB,GAAG6H,MAAMG,WAAahI,EAAG6H,MAAME,aACjC/H,EAAG6H,MAAME,WAAaiQ,QAEvBhY,EAAGyhB,aAAezhB,EAAG6H,MAAMG,WAC3BhI,EAAG4hB,oBAAoBngB,QAAS,KAKnCW,EAAO0f,aAAa,sBAAuB,uBAAwB,WAClExN,EAAKjK,MAAM,6BACX,IAAI3M,IACHyF,GAAInD,EAAG6H,MAAM1E,GACb4E,WAAY1F,EAAQ,QAAQrC,EAAG6H,MAAME,WAAY,cACjDC,WAAY3F,EAAQ,QAAQrC,EAAG6H,MAAMG,WAAY,cAGlD+Y,GAAgBE,SAASvjB,GAAMJ,KAAK,SAASI,GAC5C,GAAIA,EAAK6C,OAAS,EAAG,CACpB,GAAI6gB,GAAW1jB,EAAK,EACpB,QAAQ0jB,EAAS9d,MAChB,IAAK,IAAK8d,EAAS9d,KAAO,QAAU,MACpC,KAAK,IAAK8d,EAAS9d,KAAO,OAAS,MACnC,KAAK,IAAK8d,EAAS9d,KAAO,SAE3BtD,EAAG6hB,QAAQpgB,QAAS,EACpBzB,EAAG6hB,QAAQT,SAAW,YAAcA,EAAS9d,KAAO,IAAM8d,EAASY,WAAa,IAAMZ,EAASW,eAE/F/hB,GAAG6hB,SAAWpgB,QAAQ,EAAO2f,SAAUpJ,YAK1ChY,EAAG8B,OAAS,WACXM,EAAO8f,aAAaF,WAAW3J,YAC/BjW,EAAO8f,aAAaH,WAAW1J,YAC/BjW,EAAO8f,aAAa5e,KAAK+U,YACzBjW,EAAO8f,aAAana,WAAWsQ,YAC/BjW,EAAO8f,aAAala,WAAWqQ,aAE9BjW,EAAO8f,aAAahJ,SAAUlZ,EAAG6H,MAAMvE,MAAStD,EAAG6hB,QAAQpgB,QAAWzB,EAAG2hB,oBAAoBlgB,QAC5FzB,EAAG4hB,oBAAoBngB,OAIvBzB,EAAGgX,WAAY,EAHf+J,EAAgBviB,OAAOwB,EAAG6H,OAAOvK,KAAK,SAAUC,GACjDwC,EAAO6B,GAAG,sBAAuB,MAAOG,QAAQ,OAKlD/B,EAAG+X,YACH/X,EAAGiiB,YAEHjiB,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAGPla,EAtYRxD,QACEC,OAAO,gBACP+C,WAAW,qBAAsB8hB,GACjC9hB,WAAW,2BAA4B+hB,GACvC/hB,WAAW,2BAA4B2iB,GAkEzCb,EAAmBriB,SAAW,SAAU,YAAa,mBA6JrDsiB,EAAyBtiB,SAAW,SAAU,SAAU,WAAY,UAAW,mBAgN/EkjB,EAAyBljB,SAAW,OAAQ,SAAU,SAAU,WAAY,UAAW,WAAY,sBApCpG,WACC,YAKA,SAASkG,GAAgBxI,EAAOoD,EAAQnD,EAAIC,EAAeC,EAAQC,GAElE,GAAIuI,MAGApI,EAAoBL,EAAcM,IAAI,QAgL1C,OA9KAmI,GAAQnI,IAAM,WACb,GAAIC,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,YACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAGXH,EAASS,SAGjByH,EAAQC,SAAW,SAAU9G,GAC5B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,iBAAmB0B,GACtCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGpBN,EAASS,SAGjByH,EAAQxH,KAAO,SAAUW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,YAAc0B,GACjCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAGXH,EAASS,SAGjByH,EAAQ0P,MAAQ,SAAUvW,GACzB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,WAAY0B,GAChCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjByH,EAAQ9G,OAAS,SAAUC,GAC1B,GAAIrB,GAAWR,EAAGS,OASlB,OARAV,GAAMsY,MAAMlY,EAAW,YAAc0B,EAAQ0E,GAAI1E,GAC/CnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAGXH,EAASS,SAGjByH,EAAQ4P,QAAU,SAAUzW,GAC3B,GAAIrB,GAAWR,EAAGS,OASlB,OARAV,GAAAA,UAAaI,EAAW,YAAc0B,GACpCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAGXH,EAASS,SAGjByH,EAAQF,KAAO,WACd,GAAIhI,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,iBACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGpBN,EAASS,SAGjByH,EAAQ4D,SAAW,SAAUzK,GAC5B,GAAIrB,GAAWR,EAAGS,OASlB,OARAV,GAAM+Q,KAAK3Q,EAAW,oBAAqB0B,GACzCnB,KAAK,SAAUC,GACfL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGpBN,EAASS,SAGjByH,EAAQG,KAAO,SAAUhH,GACxB,GAAIrB,GAAWR,EAAGS,OAQjB,OAPDV,GAAMQ,IAAIJ,EAAW,iBAAmB0B,GACtCnB,KAAK,SAAUC,GACfH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGlByH,EAAQK,OAAS,SAAUlH,GAC1B,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMQ,IAAIJ,EAAW,mBAAqB0B,GACxCnB,KAAK,SAAUC,GACfH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGpBN,EAASS,SAGjByH,EAAQ5G,OAAS,SAAUD,GAE1B,GAAIrB,GAAWR,EAAGS,OAWlB,OATAP,GAAO4B,QACNC,IAAK5B,EAAW,kBAChBW,KAAMe,IACJnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEnBN,EAASS,SAGjByH,EAAQgd,MAAQ,SAAU7jB,GACzB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,iBAAkB0B,GAASnB,KAAK,SAASC,GAC9DL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGjByH,EAAQ8P,eAAiB,SAAS3W,GACjC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,4BAA8B0B,EAAQ4E,KAAO,IAAM5E,EAAQ0E,IAC9E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAEpBN,EAASS,SAGjByH,EAAQid,KAAO,SAAS9jB,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,iBAAmB0B,EAAQ0E,GAAI1E,GAASnB,KAAK,SAASC,GAC5EL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGVyH,EAzLR9I,QAAQC,OAAO,gBACbuC,QAAQ,kBAAmB,QAAS,SAAU,KAAM,gBAAiB,SAAU,WAAYmG,OA4L9F,WACC,YAKA,SAASqd,GAAarjB,GACrBA,EACEC,MAAM,sBACNT,IAAK,WACLU,OACCC,SACCC,YAAa,oCACbC,WAAY,4BAGd7B,SACCuH,UAAA,iBAAU,SAASC,GAClB,MAAOA,GAAehI,WAKxBiC,MAAM,6BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,sCACbC,WAAY,oCAKdJ,MAAM,6BACNT,IAAK,cACLU,OACCuW,sBACCrW,YAAa,sCACbC,WAAY,kCAGd7B,SACCuH,UAAA,eAAA,iBAAU,SAAStF,EAAcuF,GAChC,MAAOA,GAAerH,KAAK8B,EAAa4F,gBAK1CpG,MAAM,8BACNT,IAAK,sBACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,mCAGd7B,SACCuH,UAAA,eAAA,iBAAU,SAAStF,EAAcuF,GAChC,MAAOA,GAAeI,SAAS3F,EAAa4F,gBAK9CpG,MAAM,6BACNT,IAAK,qBACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,kCAGd7B,SACC2H,SAAA,eAAA,iBAAS,SAAS1F,EAAcuF,GAC/B,MAAOA,GAAerH,KAAK8B,EAAa4F,gBAvE7ChJ,QACEC,OAAO,gBACPoD,OAAO2iB,GAsHTA,EAAavjB,SAAW,qBA1CzB,WACC,YAoBA,SAASwjB,GAAmB1iB,EAAQ6H,EAAU1C,EAAUC,GACvD,GAAInF,GAAK/C,IA0HT,OAzHA+C,GAAGkF,SAAWA,EAEdlF,EAAG0B,OAAS,SAAUyB,GACrBpD,EAAO6B,GAAG,6BAA8B4D,UAAWrC,KAGpDnD,EAAGxB,OAAS,SAAU2E,GACrBpD,EAAO6B,GAAG,6BAA8B4D,UAAWrC,KAGpDnD,EAAG0iB,QAAU,SAAUvf,GACtBpD,EAAO6B,GAAG,8BAA+B4D,UAAWrC,KAGrDnD,EAAGuiB,KAAO,SAAS/c,EAAW8Q,EAAO7U,GACpC,GAAI0H,EAOJ,IALCA,EADa,GAAV1H,EACK8U,QAAQ,oOAERA,QAAQ,0LAGJ,GAATpN,EAAe,CAClB,GAAIzL,IACHyF,GAAIqC,EACJ/D,OAAQA,EAGT0D,GAAeod,KAAK7kB,GAAMJ,KAAK,SAASI,GACvCsC,EAAGkF,SAASoR,GAAO7U,OAASA,GAC1B,SAAS/D,QAOdsC,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,iDACV,IAATpN,EAAiBhE,EAAe+P,QAAQ/R,GAAI7F,KAAK,WACjD0C,EAAGkF,SAASsR,OAAOF,EAAO,KACtB,MAGNtW,EAAGqH,WAAa,SAASC,EAAOC,EAAO9F,GACtC,GAAIX,GAAM,GAAIH,KAKd,OAHA2G,GAAQ,GAAI3G,MAAK2G,GACjBC,EAAQ,GAAI5G,MAAK4G,GAEbD,EAAQxG,GAAiB,GAAVW,GAEjB+F,KAAM,EACNC,KAAO,eAIG3G,EAARwG,GAAeC,EAAQzG,GAAiB,GAAVW,GAEhC+F,KAAM,EACNC,KAAM,eAII3G,EAARyG,GAAyB,GAAV9F,GAEjB+F,KAAM,EACNC,KAAM,uBAIM,GAAVhG,GAEF+F,KAAM,EACNC,KAAM,aAIM,GAAVhG,GAEF+F,KAAK,EACLC,KAAM,cAHR,QAQDzH,EAAG2iB,eAAiB,SAASnb,GAE5B,MAAY,IAARA,GAAqB,GAARA,GACT,GAEA,GAITxH,EAAG4iB,gBAAkB,SAASpb,GAC7B,MAAY,IAARA,GACI,GAEA,GAITxH,EAAG6iB,iBAAmB,SAAUrb,GAC/B,MAAY,IAARA,GACI,GAEA,GAITxH,EAAG8iB,kBAAoB,SAAUtb,GAChC,MAAa,KAATA,GAAuB,IAATA,GACV,GAEA,GAMFxH,EAKR,QAAS+iB,GAAyBpM,EAAYvU,EAAQrC,EAAQuC,EAAQ6C,GACrE,GAAInF,GAAK/C,IAmKT,OAlKA+C,GAAGiI,MAAQ,IACXjI,EAAG6H,SACH7H,EAAG6H,MAAM3C,YACTlF,EAAG6H,MAAM5E,SACTjD,EAAGyB,UACHzB,EAAGkF,YACHlF,EAAGgjB,KAAO,SACVhjB,EAAGkF,YACHlF,EAAGiD,SAEHjD,EAAGijB,iBAAmB,WACrB,GAAI/e,GAAgB5B,EAAO6B,MAC1B6E,SAAS,EACTzJ,YAAa,kCACbC,WAAY,4BACZ6E,KAAM,KACN1G,SACCsF,MAAO,WAAY,MAAOjD,GAAG6H,MAAM5E,SAIrCiB,GAAcI,OAAOhH,KAAK,SAAU2F,GACnCjD,EAAGiD,MAAQA,EACXjD,EAAG6H,MAAM5E,MAAQjD,EAAGiD,OAClB,eAGJjD,EAAGkjB,UAAY,SAASnK,GACvB,IAAK,GAAI1Y,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAASF,IAClCL,EAAGiD,MAAM5C,GAAG8C,IAAM4V,EAAO5V,GAC5BnD,EAAGiD,MAAM5C,GAAGsF,QAAS,EAErB3F,EAAGiD,MAAM5C,GAAGsF,QAAS,CAGvB3F,GAAG6H,MAAM5E,MAAQjD,EAAGiD,OAIrBjD,EAAG+X,UAAY,WACV/X,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,QAC7BvH,EAAGmX,aAAenX,EAAG6H,MAAMP,MAC1BtH,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,SAIlE5V,EAAOmO,OAAO,cAAe,WAC5BvQ,EAAG6H,MAAM3C,SAAWlF,EAAGkF,WAGxBlF,EAAGyI,KAAO,WACT1I,EAAO6B,GAAG,uBAIX5B,EAAG8B,OAAS,WAOX,GANA9B,EAAG6H,MAAM3C,SAAWlF,EAAGkF,SACvBlF,EAAG6H,MAAM5E,MAAQjD,EAAGiD,MACpBjD,EAAGmjB,OACHnjB,EAAGojB,OAAS,EACZpjB,EAAG2F,UAE0B,GAAzB3F,EAAG6H,MAAM5E,MAAM1C,OAElB,MADAP,GAAGmjB,IAAIpf,KAAK,uCACL,CAGP,KAAI,GADA8E,GAAU,EACNxI,EAAI,EAAIA,EAAIL,EAAG6H,MAAM5E,MAAM1C,OAASF,IAAK,CAChD,GAAgC,GAA5BL,EAAG6H,MAAM5E,MAAM5C,GAAGsF,OAAgB,CACrC3F,EAAG2F,OAAS3F,EAAG6H,MAAM5E,MAAM5C,EAC3B,OAEDwI,IAGD,GAAIA,GAAW7I,EAAG6H,MAAM5E,MAAM1C,OAE7B,MADAP,GAAGmjB,IAAIpf,KAAK,qCACL,CAIT,IAA0B,GAAtB/D,EAAGkF,SAAS3E,OAEf,MADAP,GAAGmjB,IAAIpf,KAAK,wCACL,CAGR,IAAIsf,GAAgB,QAASA,GAAcld,GAC1C,IAAK,GAAI9F,GAAI,EAAIA,EAAI8F,EAAM5F,OAASF,IACnC,GAAI8F,EAAM9F,GAAG2C,SAASzC,OAAS,EAC9B4F,EAAM9F,GAAGkI,eACTpC,EAAM9F,GAAGkI,YAAYxE,KAAK/D,EAAG2F,QAC7B0d,EAAcld,EAAM9F,GAAG2C,cAEjB,CACN,IAAImD,EAAM9F,GAAG8H,MAgBZ,MADAnI,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,mCACpC,CAfP,IAA6B,GAAzBnd,EAAM9F,GAAG8H,MAAM5H,OAElB,MADAP,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,qCACpC,CAEP,KAAInd,EAAM9F,GAAG+iB,OAMZ,MADApjB,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,qCACpC,CALPnd,GAAM9F,GAAGkI,eACTpC,EAAM9F,GAAGkI,YAAYxE,KAAK/D,EAAG2F,QAC7B3F,EAAGojB,QAAUjd,EAAM9F,GAAG+iB,QAc5B,OAAiC,IAA9BC,EAAcrjB,EAAGkF,UACZ,EAGU,MAAdlF,EAAGojB,QACNpjB,EAAGmjB,IAAIpf,KAAK,4CAA8C/D,EAAGojB,OAAS,KAC/D,OAIRje,GAAe6P,MAAMhV,EAAG6H,OAAOvK,KAAK,WACnCyC,EAAO6B,GAAG,qBAAsB,MAAOG,QAAQ,KAC7C,eAIJ/B,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMP,MAAQ,GAAI3G,OAGtBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAIPla,EAIR,QAASujB,GAAsB5M,EAAYvU,EAAQwF,EAAUtF,GAE5DF,EAAOohB,OAAS,SAASrd,GACxB,GAAIjC,GAAgB5B,EAAO6B,MACzBC,WAAW,EACX7E,YAAa,qCACbC,WAAY,yBACZ7B,SACC2H,QAAS,OAIXpB,GAAcI,OAAOhH,KAAK,SAAUgI,GACnCqR,EAAWmC,aAAa3S,EAAOb;EAC7B,eAGLlD,EAAO5D,OAAS,SAAS8X,EAAOnQ,GAC/B,GAAIjC,GAAgB5B,EAAO6B,MACzBC,WAAW,EACX7E,YAAa,qCACbC,WAAY,yBACZ7B,SACC2H,QAASa,EAAMmQ,EAAM,KAIvBpS,GAAcI,OAAOhH,KAAK,SAASgI,GAClCa,EAAMmQ,EAAM,GAAGgN,OAAShe,EAAQge,OAChCnd,EAAMmQ,EAAM,GAAG5L,YAAcpF,EAAQoF,aACnC,eAGLtI,EAAAA,UAAgB,SAASkU,EAAOnQ,GAC/B,GAAIgD,GAAQoN,QAAQ,uDACP,IAATpN,GACHvB,EAAS,WACRzB,EAAMqQ,OAAOF,EAAQ,EAAG,IACvB,IAOJlU,EAAOqhB,eAAiB,SAASlgB,GAChCA,EAAK4E,UAGN/F,EAAOshB,eAAiB,SAASngB,GAChC,GAAI4F,GAAQoN,QAAQ,iDACP,IAATpN,UACI5F,GAAK4E,YACL5E,GAAK6f,SAKdhhB,EAAOuhB,mBAAqB,SAAUpgB,GACrC,GAAIW,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,mCAGb0E,GAAcI,OAAOhH,KAAK,SAASmI,GAClCkR,EAAWmC,aAAavV,EAAK4E,MAAO1C,IAClC,eAGJrD,EAAOwhB,mBAAqB,SAAStN,EAAOnO,EAAO5E,GAElD,GAAIW,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,kCACbC,WAAY,kCACZ7B,SACC8H,KAAM0C,EAAMmO,KAIdpS,GAAcI,OAAOhH,KAAK,SAASmI,GACa,IAA3CkR,EAAWqC,WAAWzV,EAAK4E,MAAO1C,GACrClC,EAAK4E,MAAMmO,GAAS7Q,EAEpB0D,MAAM,6CAEL,eAGJ/G,EAAOyhB,mBAAqB,SAASvN,EAAOnO,GAC3C,GAAIgB,GAAQoN,QAAQ,8CACP,IAATpN,GACHhB,EAAMqO,OAAOF,EAAO,IAKvB,QAASwN,GAAyBnN,EAAYvU,EAAQrC,EAAQuC,EAAQsF,EAAU1C,EAAUC,GACzF,GAAInF,GAAK/C,IAET+C,GAAGiI,MAAQ,IAGXjI,EAAG+jB,iBAAmB,SAAS5d,GAC9B,IAAM,GAAI9F,GAAI,EAAGA,EAAI8F,EAAM5F,OAAQF,IAE9B8F,EAAM9F,GAAG2C,SAASzC,OAAS,EAC9BP,EAAG+jB,iBAAiB5d,EAAM9F,GAAG2C,UAE7BmD,EAAM9F,GAAG+iB,OAASf,OAAOlc,EAAM9F,GAAG+iB,SAKrCpjB,EAAG+jB,iBAAiB7e,EAASA,UAE7BlF,EAAG6H,MAAQ3C,EACXlF,EAAGyB,UACHzB,EAAGkF,SAAWlF,EAAG6H,MAAM3C,SACvBlF,EAAGiD,MAAQjD,EAAG6H,MAAM5E,MAEpBjD,EAAG6H,MAAMP,MAAQ,GAAI3G,MAAKX,EAAG6H,MAAME,YACnC/H,EAAG6H,MAAMN,MAAQ,GAAI5G,MAAKX,EAAG6H,MAAMG,WAEnC,KAAK,GAAI3H,GAAI,EAAIA,EAAIL,EAAG6H,MAAM5E,MAAM1C,OAASF,UACrCL,GAAG6H,MAAM5E,MAAM5C,GAAGoD,MACzBzD,EAAG6H,MAAM5E,MAAM5C,GAAGkJ,OAAQ,CA6K3B,OA1KAvJ,GAAGijB,iBAAmB,WACrB,GAAI/e,GAAgB5B,EAAO6B,MAC1B6E,SAAS,EACTzJ,YAAa,kCACbC,WAAY,4BACZ6E,KAAM,KACN1G,SACCsF,MAAO,WAAY,MAAOjD,GAAG6H,MAAM5E,SAIrCiB,GAAcI,OAAOhH,KAAK,SAAU8H,GACnCpF,EAAGiD,MAAQmC,EACXpF,EAAG6H,MAAM5E,MAAQjD,EAAGiD,OAClB,eAGJjD,EAAGkjB,UAAY,SAASnK,GACvB,IAAK,GAAI1Y,GAAI,EAAIA,EAAIL,EAAGiD,MAAM1C,OAASF,IAClCL,EAAGiD,MAAM5C,GAAG8C,IAAM4V,EAAO5V,GAC5BnD,EAAGiD,MAAM5C,GAAGsF,QAAS,EAErB3F,EAAGiD,MAAM5C,GAAGsF,QAAS,CAGvB3F,GAAG6H,MAAM5E,MAAQjD,EAAGiD,OAIrBjD,EAAG+X,UAAY,WACV/X,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,QAC7BvH,EAAGmX,aAAenX,EAAG6H,MAAMP,MAC1BtH,EAAG,MAASA,EAAG6H,MAAMN,MAAQvH,EAAG6H,MAAMP,MAAQtH,EAAG6H,MAAMN,MAAQyQ,SAIlE5V,EAAOmO,OAAO,cAAe,WAC5BvQ,EAAG6H,MAAM3C,SAAWlF,EAAGkF,WAKxBlF,EAAGyI,KAAO,WACT1I,EAAO6B,GAAG,uBAGX5B,EAAG8B,OAAS,WAOX,GANA9B,EAAG6H,MAAM3C,SAAWlF,EAAGkF,SACvBlF,EAAG6H,MAAM5E,MAAQjD,EAAGiD,MACpBjD,EAAGmjB,OACHnjB,EAAGojB,OAAS,EACZpjB,EAAG2F,UAE0B,GAAzB3F,EAAG6H,MAAM5E,MAAM1C,OAElB,MADAP,GAAGmjB,IAAIpf,KAAK,uCACL,CAGP,KAAI,GADA8E,GAAU,EACNxI,EAAI,EAAIA,EAAIL,EAAG6H,MAAM5E,MAAM1C,OAASF,IAAK,CAChD,GAAgC,GAA5BL,EAAG6H,MAAM5E,MAAM5C,GAAGsF,OAAgB,CACrC3F,EAAG2F,OAAS3F,EAAG6H,MAAM5E,MAAM5C,EAC3B,OAEDwI,IAGD,GAAIA,GAAW7I,EAAG6H,MAAM5E,MAAM1C,OAE7B,MADAP,GAAGmjB,IAAIpf,KAAK,qCACL,CAIT,IAA0B,GAAtB/D,EAAGkF,SAAS3E,OAEf,MADAP,GAAGmjB,IAAIpf,KAAK,wCACL,CAGR,IAAIsf,GAAgB,QAASA,GAAcld,GAC1C,IAAK,GAAI9F,GAAI,EAAIA,EAAI8F,EAAM5F,OAASF,IAGnC,GAAI8F,EAAM9F,GAAG2C,SAASzC,OAAS,EAAG,CAEjC,IAAI,GADAsI,GAAU,EACNpI,EAAI,EAAIA,EAAI0F,EAAM9F,GAAGkI,YAAYhI,QACpC4F,EAAM9F,GAAGkI,YAAY9H,GAAG0C,IAAMnD,EAAG2F,OAAOxC,GADK1C,IAIjDoI,GAEGA,IAAW1C,EAAM9F,GAAGkI,YAAYhI,QACnC4F,EAAM9F,GAAGkI,YAAYxE,KAAK/D,EAAG2F,QAG9B0d,EAAcld,EAAM9F,GAAG2C,cAEjB,CACN,IAAImD,EAAM9F,GAAG8H,MAyBZ,MADAnI,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,mCACpC,CAxBP,IAA6B,GAAzBnd,EAAM9F,GAAG8H,MAAM5H,OAElB,MADAP,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,qCACpC,CAEP,KAAInd,EAAM9F,GAAG+iB,OAeZ,MADApjB,GAAGmjB,IAAIpf,KAAK,WAAaoC,EAAM9F,GAAGijB,OAAS,qCACpC,CAdPtjB,GAAGojB,QAAUjd,EAAM9F,GAAG+iB,MAEtB,KAAI,GADAva,GAAU,EACNpI,EAAI,EAAIA,EAAI0F,EAAM9F,GAAGkI,YAAYhI,QACpC4F,EAAM9F,GAAGkI,YAAY9H,GAAG0C,IAAMnD,EAAG2F,OAAOxC,GADK1C,IAIjDoI,GAEGA,IAAW1C,EAAM9F,GAAGkI,YAAYhI,QACnC4F,EAAM9F,GAAGkI,YAAYxE,KAAK/D,EAAG2F,SAgBpC,OAAiC,IAA9B0d,EAAcrjB,EAAGkF,UACZ,EAGU,MAAdlF,EAAGojB,QACNpjB,EAAGmjB,IAAIpf,KAAK,4CAA8C/D,EAAGojB,OAAS,KAC/D,OAGRje,GAAe3G,OAAOwB,EAAG6H,OAAOvK,KAAK,WACpCyC,EAAO6B,GAAG,qBAAsB,MAAOG,QAAQ,KAC7C,eAGJ/B,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMP,MAAQ,GAAI3G,OAGtBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAG8Z,UAAY,SAASC,GACvB/Z,EAAGyB,OAAOuY,aAAc,GAGzBha,EAAGia,UAAY,SAASF,GACvB/Z,EAAGyB,OAAOyY,aAAc,GAGzBla,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGsa,aACFN,aAAa,GAGdha,EAAGua,aACFL,aAAa,GAGPla,EAGR,QAASgkB,GAA0BrN,EAAYvU,EAAQrC,EAAQuC,EAAQsF,EAAU1C,EAAUC,GAC1F,GAAInF,GAAK/C,IA2CT,OAzCA+C,GAAGiI,MAAQ,IAEXjI,EAAG+jB,iBAAmB,SAAS5d,GAC9B,IAAM,GAAI9F,GAAI,EAAGA,EAAI8F,EAAM5F,OAAQF,IAE9B8F,EAAM9F,GAAG2C,SAASzC,OAAS,EAC9BP,EAAG+jB,iBAAiB5d,EAAM9F,GAAG2C,WAE7BmD,EAAM9F,GAAG+iB,OAASf,OAAOlc,EAAM9F,GAAG+iB,QAClCjd,EAAM9F,GAAGiiB,MAAQD,OAAOlc,EAAM9F,GAAGiiB,SAKpCtiB,EAAG+jB,iBAAiB7e,EAASA,UAE7BlF,EAAG6H,MAAQ3C,EACXlF,EAAGyB,UACHzB,EAAGkF,SAAWlF,EAAG6H,MAAM3C,SACvBlF,EAAGiD,MAAQjD,EAAG6H,MAAM5E,MAEpBjD,EAAG6H,MAAMP,MAAQ,GAAI3G,MAAKX,EAAG6H,MAAME,YACnC/H,EAAG6H,MAAMN,MAAQ,GAAI5G,MAAKX,EAAG6H,MAAMG,YAGnC5F,EAAOmO,OAAO,cAAe,WAC5BvQ,EAAG6H,MAAM3C,SAAWlF,EAAGkF,WAGxBlF,EAAG8B,OAAS,WAEXqD,EAAemd,MAAMtiB,EAAG6H,OAAOvK,KAAK,WACnCyC,EAAO6B,GAAG,qBAAsB,MAAOG,QAAQ,KAC7C,eAGJ/B,EAAGyI,KAAO,WACT1I,EAAO6B,GAAG,uBAIJ5B,EAKR,QAASikB,GAAuB7hB,EAAQwF,EAAUnD,EAAgBa,EAASH,GAE1E/C,EAAOyF,MAAQvC,EAEflD,EAAON,OAAS,WAEfM,EAAO8hB,iBAAiBZ,OAAOjL,YAC/BjW,EAAO8hB,iBAAiBxZ,YAAY2N,YAEhCjW,EAAO8hB,iBAAiBhL,OACvB9W,EAAOyF,MAAM7E,SAChByB,EAAeM,MAAM3C,EAAOyF,QAE5BzF,EAAOyF,MAAM1D,MAAO,EACpB/B,EAAOyF,MAAM7E,YACbZ,EAAOyF,MAAMU,eACb9D,EAAeM,MAAM3C,EAAOyF,QAI7BzF,EAAO4U,WAAY,GAIrB5U,EAAO2C,MAAQ,WACdN,EAAeO,QAAQ,WAIzB,QAASmf,GAAwBpkB,EAAQuF,EAASsC,EAAUtF,EAAQ6C,GAGnE,GAAInF,GAAK/C,IACT+C,GAAG6H,MAAQvC,EAEXtF,EAAG6H,MAAMP,MAAQ,GAAI3G,MAAKX,EAAG6H,MAAME,YACnC/H,EAAG6H,MAAMN,MAAQ,GAAI5G,MAAKX,EAAG6H,MAAMG,YAGnChI,EAAGiI,MAAQ,GAGX,IAAIC,GAAoB,SAAS3E,GAChC,IAAK,GAAIlD,GAAI,EAAIA,EAAIkD,EAAKhD,OAASF,IAClC,GAAIkD,EAAKlD,GAAG2C,SAASzC,OAAS,EAC7B2H,EAAkB3E,EAAKlD,GAAG2C,cAG1B,KAAI,GAAIvC,GAAI,EAAIA,EAAI8C,EAAKlD,GAAG8H,MAAM5H,OAASE,IAC1C,GAAG8C,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAS,CAC5B,GAAIC,GAAO,GAAI1H,MAAK4C,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAQ1H,WAC7C2H,GAAKC,SAAS,GAEd/E,EAAKlD,GAAG8H,MAAM1H,GAAG2H,QAAQ1H,WAAa2H,GAwB3C,OARAH,GAAkBlI,EAAG6H,MAAM3C,UAI3BlF,EAAGyI,KAAO,WACT1I,EAAO6B,GAAG,sBAGJ5B,EAxuBRxD,QAAQC,OAAO,gBAEb+C,WAAW,oBAAqBijB,GAChCjjB,WAAW,0BAA2B2kB,GACtC3kB,WAAW,0BAA2BujB,GACtCvjB,WAAW,0BAA2BskB,GACtCtkB,WAAW,2BAA4BwkB,GAEvCxkB,WAAW,wBAAyB+jB,GACpC/jB,WAAW,yBAA2BykB,GAoLxCxB,EAAkBxjB,SAAW,SAAU,WAAY,WAAY,kBA2K/D8jB,EAAwB9jB,SAAW,aAAc,SAAU,SAAU,SAAU,kBAmG/EskB,EAAsBtkB,SAAW,aAAc,SAAU,WAAY,UA8MrE6kB,EAAwB7kB,SAAW,aAAc,SAAU,SAAU,SAAU,WAAY,WAAY,kBAgDvG+kB,EAAyB/kB,SAAW,aAAc,SAAU,SAAU,SAAU,WAAY,WAAY,kBAgCxGglB,EAAuBhlB,SAAW,SAAU,WAAY,iBAAkB,UAAW,kBAoDrFklB,EAAwBllB,SAAW,SAAU,UAAW,WAAY,SAAU,qBA7C/E,WACC,YAMA,SAASyF,GAAY/H,EAAOC,EAAIC,EAAeE,GAE9C,QAAS2H,KAER,GAAI1H,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAG1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,QACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,QAAU0B,GAC7BnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,OAAQ0B,GAC5BnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,QAAU0B,EAAQ0E,GAAI1E,GAC3CnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,QAAU0B,GAChCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKonB,WAAa,SAAU3lB,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,mBAAqB0B,GACxCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKihB,WAAa,SAAUxf,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,mBAAqB0B,GACxCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkhB,WAAa,SAAUzf,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,mBAAqB0B,EAAQ4E,KAAO,IAAM5E,EAAQ4lB,cAAgB,IAAM5lB,EAAQ0E,IACnG7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKiG,MAAQ,SAAUxE,GACtB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,cAAgB0B,GACnCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIjBb,EAAKkG,KAAO,SAAUzE,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aAAe0B,GAClCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAI6G,GAhIZlI,QACEC,OAAO,gBACPuC,QAAQ,cAAe,QAAS,KAAM,gBAAiB,WAAY0F,OAiItE,WACC,YAKA,SAAS4f,GAASnlB,GACjBA,EACEC,MAAM,kBACNT,IAAK,OACLU,OACCC,SACCC,YAAa,gCACbC,WAAY,gBACZ6F,aAAc,OAGhB1H,SACCygB,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,WAK3BiC,MAAM,yBACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,gCACbC,WAAY,8BAGd7B,SACCygB,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,WAK3BiC,MAAM,yBACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,gCACbC,WAAY,8BAGd7B,SACC6f,KAAA,eAAA,aAAK,SAAS5d,EAAc8E,GAC3B,MAAOA,GAAW5G,KAAK8B,EAAa1B,SAErCkgB,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,WAlD9BX,QACEC,OAAO,gBACPoD,OAAOykB,GAyGTA,EAASrlB,SAAW,qBAlDrB,WACC,YAWA,SAASslB,GAAexkB,EAAQqe,EAAc1Z,GAC7C,GAAI1E,GAAK/C,IAwBT,OAtBA+C,GAAGM,QACHN,EAAGoe,aAAeA,EAElBpe,EAAGwkB,OAAS,WACX9f,EAAWuZ,WAAWje,EAAGykB,eAAennB,KAAK,SAASI,GACrDsC,EAAGM,KAAO5C,KAIZsC,EAAGxB,OAAS,SAAU2E,GACrBpD,EAAO6B,GAAG,yBAA0B1D,MAAOiF,KAG5CnD,EAAGkV,QAAU,SAAU/R,EAAImT,GAC1B,GAAInN,GAAQoN,QAAQ,6CACP,IAATpN,GACHzE,EAAWwQ,QAAQ/R,GAAI7F,KAAK,WAC3B0C,EAAGM,KAAKkW,OAAOF,EAAO,MAKlBtW,EAGR,QAAS0kB,GAAqBtiB,EAAQrC,EAAQ6H,EAAUwW,EAAcuG,EAAmBjgB,GAExF,GACI8Z,GADAxe,EAAK/C,IAoDT,OAjDA+C,GAAG6H,SACH7H,EAAGoe,aAAeA,EAClBpe,EAAG4kB,eACH5kB,EAAGM,QACHN,EAAGgX,WAAY,EAEfhX,EAAG6kB,iBAAmB,SAAU1hB,GAC/BnD,EAAG8kB,mBAAoB,EACvBH,EAAkB1G,WAAW9a,GAAI7F,KAAK,SAASI,GAK9C,MAJAsC,GAAG4kB,YAAclnB,EACjBsC,EAAG8kB,mBAAoB,EACvB9kB,EAAG+kB,YAAa,EACfrnB,EAAK6C,OAAS,EAAKP,EAAGglB,eAAgB,EAAOhlB,EAAGglB,eAAgB,EAC1DtgB,EAAWuZ,WAAW9a,KAC3B7F,KAAK,SAASI,GAChBsC,EAAGM,KAAO5C,EACVsC,EAAG+kB,YAAa,KAIlB3iB,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAO6iB,QAAQ5hB,KAAKoU,SAChCC,EAAYtV,EAAO6iB,QAAQ5hB,KAAKsU,QAE/BJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzBlD,EAAWwZ,WAAWle,EAAG6H,OAAOvK,KAAK,SAASI,GAC5CA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAKL1e,EAAG8B,OAAS,WACXM,EAAO6iB,QAAQR,cAAcpM,YAC7BjW,EAAO6iB,QAAQZ,cAAchM,YAC7BjW,EAAO6iB,QAAQ5hB,KAAKgV,YAEhBjW,EAAO6iB,QAAQ/L,OAClBxU,EAAWsQ,MAAMhV,EAAG6H,OAAOvK,KAAK,WAC/ByC,EAAO6B,GAAG,iBAAkB,MAAQG,QAAQ,MAEvC/B,EAAGgX,WAAY,GAGhBhX,EAGR,QAASklB,GAAqB9iB,EAAQrC,EAAQ6H,EAAU4V,EAAKY,EAAcuG,EAAmBjgB,GAC7F,GACI8Z,GADAxe,EAAK/C,IAET+C,GAAG6H,MAAQ2V,EACXxd,EAAGoe,aAAeA,EAClBpe,EAAG4kB,eACH5kB,EAAGM,QACHN,EAAGgX,WAAY,EAGfhX,EAAG6H,MAAMsd,SAAiC,GAArBnlB,EAAG6H,MAAMsd,UAAiB,GAAO,EACtDnlB,EAAGykB,cAAgBzkB,EAAG6H,MAAMuc,WAAWnG,WAAW9a,GAElDwhB,EAAkB1G,WAAWje,EAAGykB,eAC9BnnB,KAAK,SAASI,GAId,MAHAsC,GAAG4kB,YAAclnB,EACjBsC,EAAG8kB,mBAAoB,EACtBpnB,EAAK6C,OAAS,EAAKP,EAAGglB,eAAgB,EAAOhlB,EAAGglB,eAAgB,EAC1DtgB,EAAWuZ,WAAWje,EAAGykB,iBAEhCnnB,KAAK,SAAUI,GACfsC,EAAGM,KAAO5C,IAGZsC,EAAG6kB,iBAAmB,SAAU1hB,GAC/BnD,EAAG8kB,mBAAoB,EACvBH,EACE1G,WAAW9a,GACX7F,KAAK,SAAUI,GAKf,MAJAsC,GAAG4kB,YAAclnB,EACjBsC,EAAG8kB,mBAAoB,EACvB9kB,EAAG+kB,YAAa,EACfrnB,EAAK6C,OAAS,EAAKP,EAAGglB,eAAgB,EAAOhlB,EAAGglB,eAAgB,EAC1DtgB,EAAWuZ,WAAW9a,KAE9B7F,KAAK,SAASI,GACdsC,EAAGM,KAAO5C,EACVsC,EAAG+kB,YAAa,KAIlB3iB,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAO6iB,QAAQ5hB,KAAKoU,SAChCC,EAAYtV,EAAO6iB,QAAQ5hB,KAAKsU,QAE/BJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzBlD,EAAWwZ,WAAWle,EAAG6H,OAAOvK,KAAK,SAASI,GAC5CA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAKL1e,EAAG8B,OAAS,WACXM,EAAO6iB,QAAQR,cAAcpM,YAC7BjW,EAAO6iB,QAAQZ,cAAchM,YAC7BjW,EAAO6iB,QAAQ5hB,KAAKgV,YAEhBjW,EAAO6iB,QAAQ/L,OAClBxU,EAAWlG,OAAOwB,EAAG6H,OAAOvK,KAAK,WAChCyC,EAAO6B,GAAG,iBAAkB,MAAQG,QAAQ,MAEvC/B,EAAGgX,WAAY,GAIxB,QAASoO,GAA0BhjB,EAAQqC,EAAgB8Y,EAAcS,EAAmB2G,EAAmBjgB,GAC9G,GAAI1E,GAAK/C,IA+DT,OA7DA+C,GAAG6H,SACH7H,EAAGoe,gBACHpe,EAAG4kB,eACH5kB,EAAGM,QACHN,EAAGgX,WAAY,EACfhX,EAAGqlB,WAAY,EAGfrH,EAAkB7gB,MAAMG,KAAK,SAASI,GACrCsC,EAAGoe,aAAe1gB,EAClBsC,EAAGslB,mBAAoB,IAIxBtlB,EAAG6kB,iBAAmB,SAAS1hB,GAC9BnD,EAAG8kB,mBAAoB,EACvBH,EAAkB1G,WAAW9a,GAAI7F,KAAK,SAASI,GAC9CsC,EAAG4kB,YAAclnB,EACjBsC,EAAG8kB,mBAAoB,EACtBpnB,EAAK6C,OAAS,EAAKP,EAAGglB,eAAgB,EAAOhlB,EAAGglB,eAAgB,KAInEhlB,EAAGulB,iBAAmB,SAAUpiB,GAC/BnD,EAAG+kB,YAAa,EAChBrgB,EAAW0f,WAAWjhB,GAAI7F,KAAK,SAASI,GACvCsC,EAAGM,KAAO5C,EACVsC,EAAG+kB,YAAa,EACfrnB,EAAK6C,OAAS,EAAKP,EAAGwlB,QAAS,EAAOxlB,EAAGwlB,QAAS,KAIrDxlB,EAAGylB,UAAY,SAAS/nB,GACnBsC,EAAG6H,MAAM1E,KACZnD,EAAG+kB,YAAa,EAChBrgB,EAAWzB,MAAMvF,EAAKyF,IAAI7F,KAAK,SAASI,GACpC6f,IACe,GAAjB7f,EAAKynB,UAAiBznB,EAAKuF,MAAM1C,OAAS,EAAKP,EAAG0lB,SAAWhoB,EAAKuF,MAAM,GAAGI,KAAOrD,EAAG0lB,SAAW1N,QACjGhY,EAAG+kB,YAAa,MAMnB/kB,EAAG8B,OAAS,WACXM,EAAOujB,YAAY1H,WAAW5F,YAC9BjW,EAAOujB,YAAYvB,WAAW/L,YAC9BjW,EAAOujB,YAAYnI,IAAInF,YAEnBjW,EAAOujB,YAAYzM,QACtBlZ,EAAG6H,MAAMuc,WAAapkB,EAAGokB,WACzB3f,EAAeM,MAAM/E,EAAG6H,QAExB7H,EAAGgX,WAAY,GAIjBhX,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAGjBhF,EAGR,QAAS4lB,GAAyBjP,EAAYvU,EAAQqC,EAAgB+Y,EAAKD,EAAcS,EAAmB2G,EAAmBjgB,GAE9H,GAAI1E,GAAK/C,IA+ET,OA7EA+C,GAAG6H,MAAQ2V,EACXxd,EAAGoe,gBACHpe,EAAG4kB,eACH5kB,EAAGM,QACHN,EAAGgX,WAAY,EACfhX,EAAGqlB,WAAY,EAEfrlB,EAAGslB,mBAAoB,EACvBtH,EAAkB7gB,MAAMG,KAAK,SAASI,GAMrC,MALAsC,GAAGoe,aAAe1gB,EAClBsC,EAAGie,WAAaje,EAAGoe,aAAazH,EAAWqC,WAAWhZ,EAAGoe,aAAcpe,EAAG6H,MAAMuc,WAAWnG,aAC3Fje,EAAG6lB,eAAgB,EACnB7lB,EAAGslB,mBAAoB,EACvBtlB,EAAG8kB,mBAAoB,EAChBH,EAAkB1G,WAAWje,EAAGie,WAAW9a,MAChD7F,KAAK,SAASI,GAMhB,MALAsC,GAAG4kB,YAAclnB,EACjBsC,EAAGokB,WAAapkB,EAAG4kB,YAAYjO,EAAWqC,WAAWhZ,EAAG4kB,YAAa5kB,EAAG6H,MAAMuc,aAC9EpkB,EAAGglB,eAAgB,EACnBhlB,EAAG8kB,mBAAoB,EACvB9kB,EAAG+kB,YAAa,EACTrgB,EAAW0f,WAAWpkB,EAAGokB,WAAWjhB,MACzC7F,KAAK,SAASI,GAChBsC,EAAGM,KAAO5C,EACVsC,EAAG6H,MAAQ7H,EAAGM,KAAKqW,EAAWqC,WAAWhZ,EAAGM,KAAMN,EAAG6H,QACrD7H,EAAGwlB,QAAS,EACZxlB,EAAG+kB,YAAa,IAIjB/kB,EAAG6kB,iBAAmB,SAAS1hB,GAC9BnD,EAAG8kB,mBAAoB,EACvBH,EAAkB1G,WAAW9a,GAAI7F,KAAK,SAASI,GAC9CsC,EAAG4kB,YAAclnB,EACjBsC,EAAG8kB,mBAAoB,EACtBpnB,EAAK6C,OAAS,EAAKP,EAAGglB,eAAgB,EAAOhlB,EAAGglB,eAAgB,KAInEhlB,EAAGulB,iBAAmB,SAAUpiB,GAC/BnD,EAAG+kB,YAAa,EAChBrgB,EAAW0f,WAAWjhB,GAAI7F,KAAK,SAASI,GACvCsC,EAAGM,KAAO5C,EACVsC,EAAG+kB,YAAa,EACfrnB,EAAK6C,OAAS,EAAKP,EAAGwlB,QAAS,EAAOxlB,EAAGwlB,QAAS,KAIrDxlB,EAAGylB,UAAY,SAAS/nB,GACnBsC,EAAG6H,MAAM1E,KACZnD,EAAG+kB,YAAa,EAChBrgB,EAAWzB,MAAMvF,EAAKyF,IAAI7F,KAAK,SAASI,GACpC6f,IACe,GAAjB7f,EAAKynB,UAAiBznB,EAAKuF,MAAM1C,OAAS,EAAKP,EAAG0lB,SAAWhoB,EAAKuF,MAAM,GAAGI,KAAOrD,EAAG0lB,SAAW1N,QACjGhY,EAAG+kB,YAAa,MAMnB/kB,EAAG8B,OAAS,WACXM,EAAOujB,YAAY1H,WAAW5F,YAC9BjW,EAAOujB,YAAYvB,WAAW/L,YAC9BjW,EAAOujB,YAAYnI,IAAInF,YAEnBjW,EAAOujB,YAAYzM,QACtBlZ,EAAG6H,MAAMuc,WAAapkB,EAAGokB,WACzB3f,EAAeM,MAAM/E,EAAG6H,QAExB7H,EAAGgX,WAAY,GAIjBhX,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAGjBhF,EA1TRxD,QACEC,OAAO,gBAEP+C,WAAW,gBAAiB+kB,GAC5B/kB,WAAW,sBAAwBklB,GACnCllB,WAAW,sBAAuB0lB,GAElC1lB,WAAW,2BAA4B4lB,GACvC5lB,WAAW,2BAA4BomB,GAkFzCrB,EAActlB,SAAW,SAAU,eAAgB,cA0DnDylB,EAAoBzlB,SAAW,SAAU,SAAU,WAAY,eAAgB,oBAAqB,cAwEpGimB,EAAoBjmB,SAAW,SAAU,SAAU,WAAY,MAAO,eAAgB,oBAAqB,cAoE3GmmB,EAAyBnmB,SAAW,SAAU,iBAAkB,eAAgB,oBAAqB,oBAAqB,cAqF1H2mB,EAAyB3mB,SAAW,aAAc,SAAU,iBAAkB,MAAO,eAAgB,oBAAqB,oBAAqB,iBAjDhJ,WACC,YAKA,SAAS6mB,GAAoBnpB,EAAOC,EAAIC,EAAeC,EAAQC,GAE9D,QAAS+oB,KAER,GAAI9oB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,gBACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,gBAAkB0B,GACrCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OASlB,OARAP,GAAO4B,QACNC,IAAK5B,EAAW,eAChBW,KAAMe,IACJnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,KAGXH,EAASS,SAGjBb,EAAKwB,OAAS,SAASC,GACtB,GAAIrB,GAAWR,EAAGS,OAalB,OAZAP,GAAO4B,QACNC,IAAK5B,EAAW,gBAAkB0B,EAAQ0E,GAC1CzF,KAAMe,EACNI,iBAAkB,SAASJ,GAE1B,MADAA,GAAQK,QAAU,MACXL,KAENnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,KAGXH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,gBAAkB0B,GACxCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAK+oB,MAAQ,SAAStnB,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,sBAAwB0B,GAC3CnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKiiB,aAAe,SAASxgB,GAC5B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,8BAAgC0B,EAAQygB,GAAK,IAAMzgB,EAAQ0E,IAC9E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKmiB,sBAAwB,SAAS1gB,GACrC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,uCAAyC0B,EAAQiM,YAAc,IAAMjM,EAAQ0E,IAChG7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIioB,GA7GZtpB,QACEC,OAAO,gBACPuC,QAAQ,sBAAuB,QAAS,KAAM,gBAAiB,SAAU,WAAY8mB,OA8GxF,WACC,YAKA,SAASE,GAAiB7mB,GACzBA,EACEC,MAAM,0BACNT,IAAK,eACLU,OACCC,SACCC,YAAa,wCACbC,WAAY,gCAGd7B,SACCsoB,cAAA,qBAAc,SAASH,GACtB,MAAOA,GAAmB3oB,WAK5BiC,MAAM,iCACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,wCACbC,WAAY,sCAGd7B,SACC2hB,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAKzBiC,MAAM,iCACNT,IAAK,kBACLU,OACCuW,sBACCrW,YAAa,wCACbC,WAAY,sCAGd7B,SACCuoB,aAAA,eAAA,qBAAa,SAAStmB,EAAckmB,GACnC,MAAOA,GAAmBhoB,KAAK8B,EAAaumB,iBAE7C7G,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAjD5BX,QACEC,OAAO,gBACPoD,OAAOmmB,GA8GTA,EAAiB/mB,SAAW,qBAxD7B,WACC,YAQA,SAASmnB,GAAsBrmB,EAAQkmB,EAAcH,GACpD,GAAI9lB,GAAK/C,IAgBT,OAfA+C,GAAGimB,aAAeA,EAIlBjmB,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,iCAAkCukB,cAAehjB,KAG5DnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,mDACV,IAATpN,EAAiB2c,EAAmB5Q,QAAQ/R,GAAI7F,KAAK,WACrD0C,EAAGimB,aAAazP,OAAOF,EAAO,KAC1B,MAGCtW,EAGR,QAASqmB,GAA4BjkB,EAAQrC,EAAQ6H,EAAU0X,EAAWP,EAAyBuH,EAAcR,GAChH,GACIlG,GAAkBC,EADlB7f,EAAK/C,IA+FT,OA5FA+C,GAAG6H,SACH7H,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAEpB9f,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAASI,GAC/CsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAM7mB,EAAG6mB,qBAAsB,KAI9EzkB,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAO0kB,gBAAgB5H,GAAGzH,SACvCqF,EAAa1a,EAAO0kB,gBAAgB5H,GAAGvH,QAEtCiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3Bke,EAAmB7G,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GACtDA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAO0kB,gBAAgBpc,YAAY+M,SAChDqF,EAAa1a,EAAO0kB,gBAAgBpc,YAAYiN,QAChDiF,GAAcE,IACjBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCke,EAAmB3G,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GAC/DA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAO0kB,gBAAgB1G,YAAY/H,YACnCjW,EAAO0kB,gBAAgBC,qBAAqB1O,YAC5CjW,EAAO0kB,gBAAgBE,SAAS3O,YAChCjW,EAAO0kB,gBAAgB5H,GAAG7G,YAC1BjW,EAAO0kB,gBAAgBxO,KAAKD,YAC5BjW,EAAO0kB,gBAAgBpc,YAAY2N,YACnCjW,EAAO0kB,gBAAgBzG,KAAKhI,YAE3BjW,EAAO0kB,gBAAgB,OAAUhB,EAAmB9Q,MAAMhV,EAAG6H,OAAOvK,KAAK,WACzEyC,EAAO6B,GAAG,yBAA0B,MAAQG,QAAQ,MAChD/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YACI5Z,EAGR,QAASinB,GAA6B7kB,EAAQrC,EAAQ6H,EAAUse,EAAa5G,EAAWP,EAAyBuH,EAAcR,GAC9H,GACIlG,GAAkBC,EADlB7f,EAAK/C,IAiHT,OA/GA+C,GAAG6H,MAAQqe,EACXlmB,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EACpB9f,EAAG0mB,YAAc1mB,EAAG6mB,oBAAsB7mB,EAAGknB,SAAWlnB,EAAGmnB,gBAAiB,EAE5EnnB,EAAG6H,MAAMyQ,KAAO,GAAI3X,MAAKX,EAAG6H,MAAMyQ,MAClCtY,EAAGogB,YAAcpgB,EAAG6H,MAAMke,MAAMqB,kBAAkBpI,SAAS7b,GAE3DnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAShf,EAAGogB,aAAa9iB,KAAK,SAASI,GAK9D,MAJAsC,GAAGqf,kBAAoB3hB,EACvBsC,EAAG+mB,qBAAuB/mB,EAAG6H,MAAMke,MAAMqB,kBAAkBjkB,GAC3DnD,EAAGymB,yBAA0B,EAC7BzmB,EAAG4mB,cAAe,EACXN,EAAa9G,iBAAiBxf,EAAG+mB,wBACtCzpB,KAAK,SAASI,GAChBsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,IAGnB5mB,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAASI,GAC/CsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAO7mB,EAAG6mB,qBAAsB,KAI/EzkB,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAO0kB,gBAAgB5H,GAAGzH,SACvCqF,EAAa1a,EAAO0kB,gBAAgB5H,GAAGvH,QAEtCiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3Bke,EAAmB7G,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GACtDA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAO0kB,gBAAgBpc,YAAY+M,SAChDqF,EAAa1a,EAAO0kB,gBAAgBpc,YAAYiN,QAE/CiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCke,EAAmB3G,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GAC/DA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAO0kB,gBAAgB1G,YAAY/H,YACnCjW,EAAO0kB,gBAAgBC,qBAAqB1O,YAC5CjW,EAAO0kB,gBAAgBE,SAAS3O,YAChCjW,EAAO0kB,gBAAgB5H,GAAG7G,YAC1BjW,EAAO0kB,gBAAgBxO,KAAKD,YAC5BjW,EAAO0kB,gBAAgBpc,YAAY2N,YACnCjW,EAAO0kB,gBAAgBzG,KAAKhI,YAE3BjW,EAAO0kB,gBAAgB,OAAUhB,EAAmBtnB,OAAOwB,EAAG6H,OAAOvK,KAAK,WAC1EyC,EAAO6B,GAAG,yBAA0B,MAAQG,QAAQ,MAChD/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG2Z,QACH3Z,EAAG4Z,YAEI5Z,EAhPRxD,QACEC,OAAO,gBACP+C,WAAW,wBAAyB4mB,GACpC5mB,WAAW,8BAA+B6mB,GAC1C7mB,WAAW,8BAA+BynB,GAiF5Cb,EAAsBnnB,SAAW,SAAU,eAAgB,sBAoG3DonB,EAA4BpnB,SAAW,SAAU,SAAU,WAAY,YAAa,0BAA2B,eAAgB,sBAsH/HgoB,EAA4BhoB,SAAW,SAAU,SAAU,WAAY,cAAe,YAAa,0BAA2B,eAAgB,yBAzD/I,WACC,YAKA,SAASqnB,GAAc3pB,EAAOC,EAAIC,EAAeC,EAAQC,GAExD,QAASupB,KACR,GAAItpB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,UACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAASW,GACpB,GAAIrB,GAAWR,EAAGS,OAIlB,OAHAV,GAAMQ,IAAIJ,EAAW,UAAY0B,GAASnB,KAAK,SAASC,GACvDH,EAASO,QAAQJ,EAASG,QAEpBN,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAYlB,OAXAP,GAAO4B,QACNC,IAAK5B,EAAW,SAChBW,KAAMe,IAENnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAGVH,EAASS,SAGjBb,EAAKwB,OAAS,SAASC,GACtB,GAAIrB,GAAWR,EAAGS,OAalB,OAZAP,GAAO4B,QACNC,IAAK5B,EAAW,UAAY0B,EAAQ0E,GACpCzF,KAAMe,EACNI,iBAAkB,SAASJ,GAE1B,MADAA,GAAQK,QAAU,MACXL,KAENnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,KAGXH,EAASS,SAGjBb,EAAKkY,QAAU,SAASzW,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,UAAY0B,GAClCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwiB,iBAAmB,SAAU/gB,GACjC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,2BAA6B0B,GAChDnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKiiB,aAAe,SAASxgB,GAC5B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,wBAA0B0B,EAAQygB,GAAK,IAAMzgB,EAAQ0E,IACxE7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKmiB,sBAAwB,SAAS1gB,GACrC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,iCAAmC0B,EAAQiM,YAAc,IAAMjM,EAAQ0E,IAC1F7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIyoB,GA5GZ9pB,QACEC,OAAO,gBACPuC,QAAQ,gBAAiB,QAAS,KAAM,gBAAiB,SAAU,WAAYsnB,OA6GlF,WACC,YAKA,SAASe,GAAWloB,GACnBA,EACEC,MAAM,oBACNT,IAAK,SACLU,OACCC,SACCC,YAAa,kCACbC,WAAY,0BAGd7B,SACC4oB,QAAA,eAAQ,SAASD,GAChB,MAAOA,GAAanpB,WAKtBiC,MAAM,2BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,kCACbC,WAAY,gCAGd7B,SACC2hB,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAKzBiC,MAAM,2BACNT,IAAK,YACLU,OACCuW,sBACCrW,YAAa,kCACbC,WAAY,gCAGd7B,SACCooB,OAAA,eAAA,eAAO,SAASnmB,EAAc0mB,GAC7B,MAAOA,GAAaxoB,KAAK8B,EAAa0nB,WAEvChI,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAjD5BX,QACEC,OAAO,gBACPoD,OAAOwnB,GAkHTA,EAAWpoB,SAAW,qBA5DvB,WACC,YAOA,SAASsoB,GAAiBxnB,EAAQwmB,EAAQD,GACzC,GAAItmB,GAAK/C,IAcT,OAbA+C,GAAGumB,OAASA,EAEZvmB,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,2BAA4B0lB,QAASnkB,KAGhDnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,yDACV,IAATpN,EAAiBmd,EAAapR,QAAQ/R,GAAI7F,KAAK,WAC/C0C,EAAGumB,OAAO/P,OAAOF,EAAO,KACpB,MAGCtW,EAGR,QAASwnB,GAAsBplB,EAAQrC,EAAQ6H,EAAU0X,EAAWP,EAAyBuH,GAC5F,GACI1G,GAAkBC,EADlB7f,EAAK/C,IAsFT,OApFA+C,GAAG6H,SACH7H,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAEpB9f,EAAGwkB,OAAS,SAAUrhB,GACrBnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDF,QAAQC,IAAIC,GACZsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/DtkB,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAOqlB,UAAUvI,GAAGzH,SACjCqF,EAAa1a,EAAOqlB,UAAUvI,GAAGvH,QAEhCiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3B0e,EAAarH,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAChDA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAOqlB,UAAU/c,YAAY+M,SAC1CqF,EAAa1a,EAAOqlB,UAAU/c,YAAYiN,QAEzCiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpC0e,EAAanH,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACzDA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAOqlB,UAAUrH,YAAY/H,YAC7BjW,EAAOqlB,UAAUV,qBAAqB1O,YACtCjW,EAAOqlB,UAAUvI,GAAG7G,YACpBjW,EAAOqlB,UAAUnP,KAAKD,YACtBjW,EAAOqlB,UAAU/c,YAAY2N,YAC7BjW,EAAOqlB,UAAUpH,KAAKhI,YAErBjW,EAAOqlB,UAAU,OAAUnB,EAAatR,MAAMhV,EAAG6H,OAAOvK,KAAK,WAC7DyC,EAAO6B,GAAG,mBAAoB,MAAQG,QAAQ,MAC1C/B,EAAGgX,WAAY,GAGrBhX,EAAG2Z,MAAQ,WACV3Z,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YAEI5Z,EAGR,QAAS0nB,GAAuBtlB,EAAQrC,EAAQ6H,EAAUme,EAAOzG,EAAWP,EAAyBuH,GACpG,GACI1G,GAAkBC,EADlB7f,EAAK/C,IAwFT,OAtFA+C,GAAG6H,MAAQke,EACX/lB,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAEpB9f,EAAG6H,MAAMyQ,KAAO,GAAI3X,MAAKX,EAAG6H,MAAMyQ,MAClCtY,EAAGogB,YAAcpgB,EAAG6H,MAAMuf,kBAAkBpI,SAAS7b,GACrDnD,EAAG6mB,qBAAsB,EAEzB7mB,EAAGwkB,OAAS,SAASrhB,GACpBnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAGwkB,OAAOxkB,EAAGogB,aAEbhe,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAOqlB,UAAUvI,GAAGzH,SACjCqF,EAAa1a,EAAOqlB,UAAUvI,GAAGvH,QAEhCiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3B0e,EAAarH,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAChDA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAOqlB,UAAU/c,YAAY+M,SAC1CqF,EAAa1a,EAAOqlB,UAAU/c,YAAYiN,QAEzCiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpC0e,EAAanH,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACzDA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAOqlB,UAAUrH,YAAY/H,YAC7BjW,EAAOqlB,UAAUvI,GAAG7G,YACpBjW,EAAOqlB,UAAUnP,KAAKD,YACtBjW,EAAOqlB,UAAU/c,YAAY2N,YAC7BjW,EAAOqlB,UAAUpH,KAAKhI,YAErBjW,EAAOqlB,UAAU,OAAUnB,EAAa9nB,OAAOwB,EAAG6H,OAAOvK,KAAK,WAC9DyC,EAAO6B,GAAG,mBAAoB,MAAQG,QAAQ,MAC1C/B,EAAGgX,WAAY,GAKrBhX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YAEI5Z,EA3MRxD,QACEC,OAAO,gBACP+C,WAAW,kBAAmB+nB,GAC9B/nB,WAAW,wBAAyBgoB,GACpChoB,WAAW,wBAAyBkoB,GAkFtCH,EAAgBtoB,SAAW,SAAU,SAAU,gBA2F/CuoB,EAAsBvoB,SAAW,SAAU,SAAU,WAAY,YAAa,0BAA2B,gBA6FzGyoB,EAAsBzoB,SAAW,SAAU,SAAU,WAAY,QAAS,YAAa,0BAA2B,mBA7DnH,WACC,YAMA,SAAS4W,GAAiBlZ,EAAOC,EAAIC,EAAeE,GAEnD,QAAS8Y,KAER,GAAI7Y,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAASW,GACpB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,aAAe0B,GAClCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAAUvW,GACtB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,YAAa0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,aAAe0B,EAAQ0E,GAAI1E,GAChDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,aAAe0B,GACrCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKoY,eAAiB,SAAU3W,GAC/B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,6BAA+B0B,EAAQ4E,KAAO,IAAM5E,EAAQ0E,IAC/E7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIgY,GAGZ,QAAS8R,GAAuBhrB,EAAOC,EAAIC,EAAeE,GAEzD,QAAS4qB,KACR,GAAI3qB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAG1CH,GAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,aAAe0B,EAAQmpB,YAAc,OAAQnpB,GAASnB,KAAK,SAASC,GACzFL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,aAAe0B,EAAQmpB,YAAc,QAAUnpB,EAAQiF,OAAQjF,GAASnB,KAAK,SAASC,GAC5GL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,aAAe0B,EAAQmpB,YAAc,QAAUnpB,EAAQiF,QAAQpG,KAAK,SAASC,GACpGL,EAAkB6B,YAClB3B,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,EAASG,QAGnBN,EAASS,SAGlB,MAAO,IAAI8pB,GAhIZnrB,QACEC,OAAO,gBACPuC,QAAQ,kBAAmB6W,GAC3B7W,QAAQ,wBAAyB2oB,GAmJnC9R,EAAgB5W,SAAW,QAAS,KAAM,gBAAiB,YA+C3D0oB,EAAsB1oB,SAAW,QAAS,KAAM,gBAAiB,eAlElE,WACC,YAKA,SAAS4oB,GAAc1oB,GACtBA,EACEC,MAAM,uBACNT,IAAK,YACLU,OACCC,SACCC,YAAa,qCACbC,WAAY,6BAGd7B,SACC4G,WAAA,kBAAW,SAASsR,GACnB,MAAOA,GAAgB1Y,WAKzBiC,MAAM,8BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,qCAKdJ,MAAM,8BACNT,IAAK,eACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,mCAGd7B,SACCmqB,UAAA,eAAA,kBAAU,SAASloB,EAAciW,GAChC,MAAOA,GAAgB/X,KAAK8B,EAAamoB,iBAzC9CvrB,QACEC,OAAO,gBACPoD,OAAOgoB,GAgHTA,EAAc5oB,SAAW,qBAlE1B,WACC,YAOA,SAAS+oB,GAAoBjoB,EAAQwE,EAAWsR,GAC/C,GAAI7V,GAAK/C,IAcT,OAbA+C,GAAGuE,UAAYA,EAEfvE,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,8BAA+BmmB,WAAY5kB,KAGtDnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,mDACV,IAATpN,EAAiB0M,EAAgBX,QAAQ/R,GAAI7F,KAAK,WAClDiH,EAAUiS,OAAOF,EAAO,KACpB,MAGCtW,EAGR,QAASioB,GAA0BtR,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQuT,GAChF,GACIe,GADA5W,EAAK/C,IA4ET,OA1EA+C,GAAG6H,SACH7H,EAAG6H,MAAMvH,QACTN,EAAGgX,WAAY,EAIf5U,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIqM,GAAaxa,EAAO8lB,aAAa7kB,KAAKoU,SACtCqF,EAAa1a,EAAO8lB,aAAa7kB,KAAKsU,QAErCiF,GAAcE,IAClBlV,EAASgQ,OAAOhB,GAChB5W,EAAG6X,aAAc,EACjBjB,EAAqBhP,EAAS,WAC7BiO,EAAgBT,eAAepV,EAAG6H,OAAOvK,KAAK,SAASI,GACrDA,EAAK6C,OAAS,EAAKP,EAAG8X,WAAY,EAAO9X,EAAG8X,WAAY,EACzD9X,EAAG6X,aAAc,KAEhB,QAIL7X,EAAGsd,OAAS,WACX,GAAIpZ,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC4f,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClC7G,EAAWmC,aAAa9Y,EAAG6H,MAAMvH,KAAMkd,IACrC,eAKJxd,EAAGxB,OAAS,SAAUua,EAAQzC,GAC7B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC6f,IAAKzE,EACLwE,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GACY,IAA7C7G,EAAWqC,WAAWhZ,EAAG6H,MAAMvH,KAAMkd,GACpCxd,EAAG6H,MAAMvH,KAAKgW,GAASkH,EACvBrU,MAAM,0CACN,eAKJnJ,EAAGkV,QAAU,SAAU6D,EAAQzC,GAC9B,GAAInN,GAAQoN,QAAQ,2DACP,IAATpN,GACHnJ,EAAG6H,MAAMvH,KAAKkW,OAAOF,EAAO,IAI9BtW,EAAG8B,OAAS,WACXM,EAAO8lB,aAAa7kB,KAAKgV,YACzBjW,EAAO8lB,aAAaxd,YAAY2N,YAC/BjW,EAAO8lB,aAAa,OAAUrS,EAAgBb,MAAMhV,EAAG6H,OAAOvK,KAAK,WACnEyC,EAAO6B,GAAG,sBAAuB,MAAOG,QAAQ,MAC5C/B,EAAGgX,WAAY,GAGdhX,EAGR,QAASmoB,GAA0BxR,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQwlB,EAAUjS,EAAiB8R,GAC3G,GACI/Q,GADA5W,EAAK/C,IAiGT,OA/FA+C,GAAG6H,MAAQigB,EACX9nB,EAAGgX,WAAY,EAEf5U,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIqM,GAAaxa,EAAO8lB,aAAa7kB,KAAKoU,SACtCqF,EAAa1a,EAAO8lB,aAAa7kB,KAAKsU,QAErCiF,GAAcE,IAClBlV,EAASgQ,OAAOhB,GAChB5W,EAAG6X,aAAc,EACjBjB,EAAqBhP,EAAS,WAC7BiO,EAAgBT,eAAepV,EAAG6H,OAAOvK,KAAK,SAASI,GACrDA,EAAK6C,OAAS,EAAKP,EAAG8X,WAAY,EAAO9X,EAAG8X,WAAY,EACzD9X,EAAG6X,aAAc,KAEhB;GAIL7X,EAAGsd,OAAS,WACX,GAAIpZ,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC4f,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClC,GAAI9f,IACHkqB,YAAa5nB,EAAG6H,MAAM1E,GACtBA,GAAIqa,EAAIra,GAGTwkB,GAAsB3S,MAAMtX,GAAMJ,KAAK,SAASI,GAC/CsC,EAAG6H,MAAMvH,KAAKyD,KAAKrG,IACjB,SAASA,GACXyL,MAAMzL,EAAKid,SAEV,eAGJ3a,EAAGxB,OAAS,SAAUua,EAAQzC,GAC7B,GAAIpS,GAAgB5B,EAAO6B,MAC1BC,WAAW,EACX7E,YAAa,iCACbC,WAAY,iCACZ7B,SACC6f,IAAK,WAEJ,aADOzE,GAAOtV,MACPsV,GAERwE,cAAc,IAIhBrZ,GAAcI,OAAOhH,KAAK,SAASkgB,GAClC,GAAI9f,IACHkqB,YAAa5nB,EAAG6H,MAAM1E,GACtBO,OAAQqV,EAAO5V,GACfA,GAAIqa,EAAIra,GAGTwkB,GAAsBnpB,OAAOd,GAAMJ,KAAK,SAASI,GAChDsC,EAAG6H,MAAMvH,KAAKgW,GAAS5Y,GACrB,SAASA,GACXyL,MAAMzL,EAAKid,SAEV,eAKJ3a,EAAGkV,QAAU,SAAU6D,EAAQzC,GAC9B,GAAI5Y,IACHkqB,YAAa5nB,EAAG6H,MAAM1E,GACtBO,OAAQqV,EAAO5V,IAEZgG,EAAQoN,QAAQ,2DACP,IAATpN,GACHwe,EAAsBzS,QAAQxX,GAAMJ,KAAK,SAASI,GACjDsC,EAAG6H,MAAMvH,KAAKkW,OAAOF,EAAO,IAC1B,SAAS5Y,OAIdsC,EAAG8B,OAAS,WACXM,EAAO8lB,aAAa7kB,KAAKgV,YACzBjW,EAAO8lB,aAAaxd,YAAY2N,YAC/BjW,EAAO8lB,aAAa,OAAUrS,EAAgBb,MAAMhV,EAAG6H,OAAOvK,KAAK,WACnEyC,EAAO6B,GAAG,sBAAuB,MAAOG,QAAQ,MAC5C/B,EAAGgX,WAAY,GAGdhX,EA1MRxD,QACEC,OAAO,gBACP+C,WAAW,qBAAsBwoB,GACjCxoB,WAAW,2BAA4ByoB,GACvCzoB,WAAW,2BAA4B2oB,GAwFzCH,EAAmB/oB,SAAW,SAAU,YAAa,mBAiFrDgpB,EAAyBhpB,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,mBAsG5FkpB,EAAyBlpB,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,WAAY,kBAAmB,4BA7D5H,WACC,YAKA,SAASmpB,GAAazrB,EAAOC,EAAIC,EAAeC,EAAQC,GACvD,QAASqrB,KACR,GAAIprB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,SAAW0B,GAC9BnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAAUvW,GAEtB,GAAIrB,GAAWR,EAAGS,OAWlB,OATAP,GAAO4B,QACNC,IAAK5B,EAAW,QAChBW,KAAMe,IACJnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEVH,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAclB,OAbAP,GAAO4B,QACNC,IAAK5B,EAAW,SAAW0B,EAAQ0E,GACnCzF,KAAMe,EACNI,iBAAkB,SAASJ,GAE1B,MADAA,GAAQK,QAAU,MACXL,KAENnB,KAAK,SAASC,GAChBL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEVH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,SAAW0B,GACjCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkpB,YAAc,SAASznB,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,qBAAuB0B,GAC1CnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKiiB,aAAe,SAASxgB,GAC5B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,uBAAyB0B,EAAQygB,GAAK,IAAMzgB,EAAQ0E,IACvE7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKmiB,sBAAwB,SAAS1gB,GACrC,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,gCAAkC0B,EAAQygB,GAAK,IAAMzgB,EAAQ0E,IAChF7F,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAIuqB,GA/GZ5rB,QACEC,OAAO,gBACPuC,QAAQ,eAAgB,QAAS,KAAM,gBAAiB,SAAU,WAAYopB,OAgHjF,WACC,YAKA,SAASC,GAAUlpB,GAClBA,EACEC,MAAM,mBACNT,IAAK,QACLU,OACCC,SACCC,YAAa,iCACbC,WAAY,yBAGd7B,SACCwK,OAAA,cAAO,SAASigB,GACf,MAAOA,GAAYjrB,WAKrBiC,MAAM,0BACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,+BAGd7B,SACC2hB,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAKzBiC,MAAM,0BACNT,IAAK,WACLU,OACCuW,sBACCrW,YAAa,iCACbC,WAAY,+BAGd7B,SACC8H,MAAA,eAAA,cAAM,SAAS7F,EAAcwoB,GAC5B,MAAOA,GAAYtqB,KAAK8B,EAAa8F,UAEtC4Z,WAAA,kBAAW,SAASC,GACnB,MAAOA,GAAgBpiB,WAjD5BX,QACEC,OAAO,gBACPoD,OAAOwoB,GA4HTA,EAAUppB,SAAW,qBAtEtB,WACC,YAaA,SAASqpB,GAAgBvoB,EAAQoI,EAAOigB,GACvC,GAAIpoB,GAAK/C,IAaT,OAZA+C,GAAGmI,MAAQA,EAEXnI,EAAGxB,OAAS,SAAS2E,GACpBpD,EAAO6B,GAAG,0BAA2B8D,OAAQvC,KAG9CnD,EAAGkV,QAAU,SAAU/R,EAAImT,GAC1B,GAAInN,GAAQoN,QAAQ,8CACV,IAATpN,EAAiBif,EAAYlT,QAAQ/R,GAAI7F,KAAK,WAC9C0C,EAAGmI,MAAMqO,OAAOF,EAAO,KACnB,MAECtW,EAGR,QAASuoB,GAAsBnmB,EAAQrC,EAAQ6H,EAAU0X,EAAWP,EAAyBuH,EAAcR,EAAoBsC,GAC9H,GACIxI,GAAkBC,EADlB7f,EAAK/C,IAyGT,OAvGA+C,GAAG6H,SACH7H,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGimB,gBACHjmB,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAGpB9f,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAAUI,GAChDsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAO7mB,EAAG6mB,qBAAsB,KAI/E7mB,EAAGwoB,YAAc,SAAUrlB,GAC1BnD,EAAGyoB,oBAAqB,EACxB3C,EAAmBC,MAAM5iB,GAAI7F,KAAK,SAASI,GAC1CsC,EAAGimB,aAAevoB,EAClBsC,EAAGyoB,oBAAqB,EACvB/qB,EAAK6C,OAAS,EAAKP,EAAGknB,UAAW,EAAOlnB,EAAGknB,UAAW,KAIzD9kB,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAOsmB,SAASxJ,GAAGzH,SAChCqF,EAAa1a,EAAOsmB,SAASxJ,GAAGvH,QAC/BiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3BwgB,EAAYnJ,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAC/CA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAOsmB,SAAShe,YAAY+M,SACzCqF,EAAa1a,EAAOsmB,SAAShe,YAAYiN,QACxCiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCwgB,EAAYjJ,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACxDA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAOsmB,SAAStI,YAAY/H,YAC5BjW,EAAOsmB,SAAS3B,qBAAqB1O,YACrCjW,EAAOsmB,SAAS1B,SAAS3O,YACzBjW,EAAOsmB,SAASC,eAAetQ,YAC/BjW,EAAOsmB,SAASxJ,GAAG7G,YACnBjW,EAAOsmB,SAASpQ,KAAKD,YACrBjW,EAAOsmB,SAAShe,YAAY2N,YAC5BjW,EAAOsmB,SAASrI,KAAKhI,YAEpBjW,EAAOsmB,SAAS,OAAUN,EAAYpT,MAAMhV,EAAG6H,OAAOvK,KAAK,WAC3DyC,EAAO6B,GAAG,kBAAmB,MAAQG,QAAQ,MACzC/B,EAAGgX,WAAY,GAGrBhX,EAAGA,GAAK,WACPA,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAETtgB,EAAG4Z,YAEI5Z,EAGR,QAAS4oB,GAAsBxmB,EAAQrC,EAAQH,EAAcgI,EAAUnC,EAAM6Z,EAAWP,EAAyBuH,EAAcR,EAAoBsC,GAClJ,GACIxI,GAAkBC,EADlB7f,EAAK/C,IAmIT,OAjIA+C,GAAG6H,MAAQpC,EACXzF,EAAGsf,UAAYA,EACftf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGimB,gBACHjmB,EAAGgX,WAAY,EACfhX,EAAG8f,gBAAiB,EAEpB9f,EAAG0mB,YAAc1mB,EAAG6mB,oBAAsB7mB,EAAGknB,SAAWlnB,EAAGmnB,gBAAiB,EAC5EnnB,EAAG6H,MAAMyQ,KAAO,GAAI3X,MAAKX,EAAG6H,MAAMyQ,MAClCtY,EAAGogB,YAAcpgB,EAAG6H,MAAMqe,YAAYH,MAAMqB,kBAAkBpI,SAAS7b,GAGvE4b,EAAwBC,SAAShf,EAAGogB,aAAa9iB,KAAK,SAASI,GAM9D,MALAsC,GAAGqf,kBAAoB3hB,EACvBsC,EAAG+mB,qBAAuB/mB,EAAG6H,MAAMqe,YAAYH,MAAMqB,kBAAkBjkB,GACvEnD,EAAGymB,yBAA0B,EAC7BzmB,EAAG4mB,cAAe,EAClB5mB,EAAG6mB,qBAAsB,EAClBP,EAAa9G,iBAAiBxf,EAAG+mB,wBACtCzpB,KAAK,SAASI,GAMhB,MALAsC,GAAGumB,OAAS7oB,EACZsC,EAAGgnB,SAAWhnB,EAAG6H,MAAMqe,YAAYH,MAAM5iB,GACzCnD,EAAG4mB,cAAe,EAClB5mB,EAAGyoB,oBAAqB,EACxBzoB,EAAGknB,UAAW,EACPpB,EAAmBC,MAAM/lB,EAAGgnB,YACjC1pB,KAAK,SAASI,GAChBsC,EAAGimB,aAAevoB,EAClBsC,EAAG2oB,eAAiB3oB,EAAG6H,MAAMqe,YAAY/iB,GACzCnD,EAAGyoB,oBAAqB,EACxBzoB,EAAGmnB,gBAAiB,IAGrBnnB,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAAUI,GAChDsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAO7mB,EAAG6mB,qBAAsB,KAI/E7mB,EAAGwoB,YAAc,SAASrlB,GACzBnD,EAAGyoB,oBAAqB,EACxB3C,EAAmBC,MAAM5iB,GAAI7F,KAAK,SAASI,GAC1CsC,EAAGimB,aAAevoB,EAClBsC,EAAGyoB,oBAAqB,EACvB/qB,EAAK6C,OAAS,EAAKP,EAAGknB,UAAW,EAAOlnB,EAAGknB,UAAW,KAIzD9kB,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAOsmB,SAASxJ,GAAGzH,SAChCqF,EAAa1a,EAAOsmB,SAASxJ,GAAGvH,QAC/BiF,GAAcE,IAClBlV,EAASgQ,OAAOgI,GAChB5f,EAAGggB,WAAY,EACfJ,EAAmBhY,EAAS,WAC3BwgB,EAAYnJ,aAAajf,EAAG6H,OAAOvK,KAAK,SAASI,GAC/CA,EAAK6C,OAAS,EAAKP,EAAGigB,SAAU,EAAOjgB,EAAGigB,SAAU,EACrDjgB,EAAGggB,WAAY,KAEd,QAIL5d,EAAOmO,OAAO,uBAAwB,WACrC,GAAIqM,GAAaxa,EAAOsmB,SAAShe,YAAY+M,SACzCqF,EAAa1a,EAAOsmB,SAAShe,YAAYiN,QACxCiF,GAAcE,IAClBlV,EAASgQ,OAAOiI,GAChB7f,EAAGkgB,oBAAqB,EACxBL,EAA4BjY,EAAS,WACpCwgB,EAAYjJ,sBAAsBnf,EAAG6H,OAAOvK,KAAK,SAASI,GACxDA,EAAK6C,OAAS,EAAKP,EAAGmgB,kBAAmB,EAAOngB,EAAGmgB,kBAAmB,EACvEngB,EAAGkgB,oBAAqB,KAEvB,QAILlgB,EAAG8B,OAAS,WACXM,EAAOsmB,SAAStI,YAAY/H,YAC5BjW,EAAOsmB,SAAS3B,qBAAqB1O,YACrCjW,EAAOsmB,SAAS1B,SAAS3O,YACzBjW,EAAOsmB,SAASC,eAAetQ,YAC/BjW,EAAOsmB,SAASxJ,GAAG7G,YACnBjW,EAAOsmB,SAASpQ,KAAKD,YACrBjW,EAAOsmB,SAAShe,YAAY2N,YAC5BjW,EAAOsmB,SAASrI,KAAKhI,YAEpBjW,EAAOsmB,SAAS,OAAUN,EAAY5pB,OAAOwB,EAAG6H,OAAOvK,KAAK,WAC5DyC,EAAO6B,GAAG,kBAAmB,MAAQG,QAAQ,MACzC/B,EAAGgX,WAAY,GAGrBhX,EAAGA,GAAK,WACPA,EAAG6H,MAAMyQ,KAAO,GAAI3X,OAGrBX,EAAG4Z,UAAY,WACd5Z,EAAG6Z,QAAU7Z,EAAG6Z,QAAU,KAAO,GAAIlZ,OAGtCX,EAAGmE,KAAO,SAAS4V,GAClB/Z,EAAGyB,OAAO6e,QAAS,GAGpBtgB,EAAGma,aACFC,WAAY,KACZC,YAAa,GAGdra,EAAGyB,QACF6e,QAAQ,GAGTtgB,EAAG4Z,YAEI5Z,EAGR,QAAS6oB,GAA0BzmB,EAAQqC,EAAgB8a,EAAiBR,EAAyBuH,EAAcR,EAAoBsC,GACtI,GAAIpoB,GAAK/C,IAiET,OAhEA+C,GAAG6H,SACH7H,EAAGsf,aACHtf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGimB,gBACHjmB,EAAGgX,WAAY,EAGfhX,EAAG8oB,iBAAkB,EACrBvJ,EAAgBpiB,MAAMG,KAAK,SAASI,GACnCsC,EAAGsf,UAAY5hB,EACfsC,EAAG0mB,aAAc,EACjB1mB,EAAG8oB,iBAAkB,IAGtB9oB,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,EAC7D1mB,EAAGqf,kBAAoB3hB,KAIzBsC,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAAUI,GAChDsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAO7mB,EAAG6mB,qBAAsB,KAI/E7mB,EAAGwoB,YAAc,SAASrlB,GACzBnD,EAAGyoB,oBAAqB,EACxB3C,EAAmBC,MAAM5iB,GAAI7F,KAAK,SAASI,GAC1CsC,EAAGimB,aAAevoB,EAClBsC,EAAGyoB,oBAAqB,EACvB/qB,EAAK6C,OAAS,EAAKP,EAAGknB,UAAW,EAAOlnB,EAAGknB,UAAW,KAIzDlnB,EAAG+oB,kBAAoB,SAAS5lB,GAC/BnD,EAAGgpB,aAAc,EACjBZ,EAAYlC,YAAY/iB,GAAI7F,KAAK,SAASI,GACzCsC,EAAGmI,MAAQzK,EACXsC,EAAGgpB,aAAc,EAChBtrB,EAAK6C,OAAS,EAAKP,EAAGmnB,gBAAiB,EAAOnnB,EAAGmnB,gBAAiB,KAIrEnnB,EAAG8B,OAAS,SAASue,GACpBje,EAAOsmB,SAAS1J,SAAS3G,YACzBjW,EAAOsmB,SAAStB,kBAAkB/O,YAClCjW,EAAOsmB,SAAS3C,MAAM1N,YACtBjW,EAAOsmB,SAASxC,YAAY7N,YAC5BjW,EAAOsmB,SAASjjB,KAAK4S,YAEpBjW,EAAOsmB,SAAS,OAAUjkB,EAAeM,MAAM/E,EAAG6H,OAAS7H,EAAGgX,WAAY,GAG5EhX,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAEjBhF,EAGR,QAASipB,GAA2B3U,EAAMqC,EAAYvU,EAAQqC,EAAgBgB,EAAM8Z,EAAiBR,EAAyBuH,EAAcR,EAAoBsC,GAC/J,GAAIpoB,GAAK/C,IAmGT,OAlGA+C,GAAG6H,MAAQpC,EACXzF,EAAGsf,aACHtf,EAAGqf,qBACHrf,EAAGumB,UACHvmB,EAAGimB,gBACHjmB,EAAGgX,WAAY,EAGfhX,EAAG8oB,iBAAkB,EACrBvJ,EAAgBpiB,MAAMG,KAAK,SAASI,GAMnC,MALAsC,GAAGsf,UAAY5hB,EACfsC,EAAGgf,SAAWhf,EAAGsf,UAAU3I,EAAWqC,WAAWhZ,EAAGsf,UAAWtf,EAAG6H,MAAMqe,YAAYH,MAAMqB,kBAAkBpI,WAC5Ghf,EAAG8oB,iBAAkB,EACrB9oB,EAAGymB,yBAA0B,EAC7BzmB,EAAG0mB,aAAc,EACV3H,EAAwBC,SAAShf,EAAGgf,SAAS7b,MAClD7F,KAAK,SAASI,GAMhB,MALAsC,GAAGqf,kBAAoB3hB,EACvBsC,EAAGonB,kBAAoBpnB,EAAGqf,kBAAkB1I,EAAWqC,WAAWhZ,EAAGqf,kBAAmBrf,EAAG6H,MAAMqe,YAAYH,MAAMqB,oBACnHpnB,EAAGymB,yBAA0B,EAC7BzmB,EAAG4mB,cAAe,EAClB5mB,EAAG6mB,qBAAsB,EAClBP,EAAa9G,iBAAiBxf,EAAGonB,kBAAkBjkB,MACxD7F,KAAK,SAASI,GAShB,MARAsC,GAAGumB,OAAS7oB,EACZF,QAAQC,IAAIC,GACZsC,EAAG+lB,MAAQ/lB,EAAGumB,OAAO5P,EAAWqC,WAAWhZ,EAAGumB,OAAQvmB,EAAG6H,MAAMqe,YAAYH,QAC3EvoB,QAAQC,IAAIuC,EAAG+lB,OACf/lB,EAAG4mB,cAAe,EAClB5mB,EAAGyoB,oBAAqB,EACxBzoB,EAAGknB,UAAW,EACd5S,EAAKI,KAAK,YAAc1U,EAAG+lB,MAAM5iB,IAC1B2iB,EAAmBC,MAAM/lB,EAAG+lB,MAAM5iB,MACvC7F,KAAK,SAASI,GAOhB,MANAsC,GAAGimB,aAAevoB,EAClBsC,EAAGkmB,YAAclmB,EAAGimB,aAAatP,EAAWqC,WAAWhZ,EAAGimB,aAAcjmB,EAAG6H,MAAMqe,cACjFlmB,EAAGyoB,oBAAqB,EACxBzoB,EAAGgpB,aAAc,EACjBhpB,EAAGmnB,gBAAiB,EACpB7S,EAAKI,KAAK,kBAAoB1U,EAAGkmB,YAAY/iB,IACtCilB,EAAYlC,YAAYlmB,EAAGkmB,YAAY/iB,MAC5C7F,KAAK,SAASI,GAChBsC,EAAGmI,MAAQzK,EACXsC,EAAG6H,MAAQ7H,EAAGmI,MAAMwO,EAAWqC,WAAWhZ,EAAGmI,MAAOnI,EAAG6H,QACvD7H,EAAGgpB,aAAc,EACjBhpB,EAAGkpB,SAAU,IAGdlpB,EAAGwmB,eAAiB,SAASrjB,GAC5BnD,EAAGymB,yBAA0B,EAC7B1H,EAAwBC,SAAS7b,GAAI7F,KAAK,SAASI,GAClDsC,EAAGqf,kBAAoB3hB,EACvBsC,EAAGymB,yBAA0B,EAC5B/oB,EAAK6C,OAAS,EAAKP,EAAG0mB,aAAc,EAAO1mB,EAAG0mB,aAAc,KAI/D1mB,EAAG2mB,uBAAyB,SAASxjB,GACpCnD,EAAG4mB,cAAe,EAClBN,EAAa9G,iBAAiBrc,GAAI7F,KAAK,SAAUI,GAChDsC,EAAGumB,OAAS7oB,EACZsC,EAAG4mB,cAAe,EACjBlpB,EAAK6C,OAAS,EAAKP,EAAG6mB,qBAAsB,EAAO7mB,EAAG6mB,qBAAsB,KAI/E7mB,EAAGwoB,YAAc,SAASrlB,GACzBnD,EAAGyoB,oBAAqB,EACxB3C,EAAmBC,MAAM5iB,GAAI7F,KAAK,SAASI,GAC1CsC,EAAGimB,aAAevoB,EAClBsC,EAAGyoB,oBAAqB,EACvB/qB,EAAK6C,OAAS,EAAKP,EAAGknB,UAAW,EAAOlnB,EAAGknB,UAAW,KAIzDlnB,EAAG+oB,kBAAoB,SAAS5lB,GAC/BnD,EAAGgpB,aAAc,EACjBZ,EAAYlC,YAAY/iB,GAAI7F,KAAK,SAASI,GACzCsC,EAAGmI,MAAQzK,EACXsC,EAAGgpB,aAAc,EAChBtrB,EAAK6C,OAAS,EAAKP,EAAGmnB,gBAAiB,EAAOnnB,EAAGmnB,gBAAiB,KAIrEnnB,EAAG8B,OAAS,SAASue,GACpBje,EAAOsmB,SAAS1J,SAAS3G,YACzBjW,EAAOsmB,SAAStB,kBAAkB/O,YAClCjW,EAAOsmB,SAAS3C,MAAM1N,YACtBjW,EAAOsmB,SAASxC,YAAY7N,YAC5BjW,EAAOsmB,SAASjjB,KAAK4S,YAEpBjW,EAAOsmB,SAAS,OAAUjkB,EAAeM,MAAM/E,EAAG6H,OAAS7H,EAAGgX,WAAY,GAG5EhX,EAAG+E,MAAQ,WACVN,EAAeO,QAAQ,WAGjBhF,EA1bRxD,QACEC,OAAO,gBACP+C,WAAW,iBAAkB8oB,GAC7B9oB,WAAW,uBAAwB+oB,GACnC/oB,WAAW,uBAAwBopB,GACnCppB,WAAW,4BAA6BqpB,GACxCrpB,WAAW,4BAA6BypB,GA+F1CX,EAAerpB,SAAW,SAAU,QAAS,eA8G7CspB,EAAqBtpB,SAAW,SAAU,SAAU,WAAY,YAAa,0BAA2B,eAAgB,qBAAsB,eAwI9I2pB,EAAqB3pB,SAAW,SAAU,SAAU,eAAgB,WAAY,OAAQ,YAAa,0BAA2B,eAAgB,qBAAsB,eAsEtK4pB,EAA0B5pB,SAAW,SAAU,iBAAkB,kBAAmB,0BAA2B,eAAgB,qBAAsB,eAwGrJgqB,EAA0BhqB,SAAW,OAAQ,aAAc,SAAU,iBAAkB,OAAQ,kBAAmB,0BAA2B,eAAgB,qBAAsB,kBA1EpL,WACC,YAKA,SAASkqB,GAAiBhqB,GACzBA,EACEC,MAAM,uBACNT,IAAK,YACLU,OACCuW,sBACCrW,YAAa,qCACbC,WAAY,qBACZ6F,aAAc,OAGhB1H,SACCyrB,WAAA,kBAAW,SAAS7J,GACnB,MAAOA,GAAgBiB,cAjB5BhkB,QACEC,OAAO,gBACPoD,OAAOspB,GAkGTA,EAAiBlqB,SAAW,qBA5E7B,WACI,YAOA,SAASoqB,GAAmBjnB,EAAQrC,EAAQ6H,EAAUwhB,EAAWrsB,GACjE,GAAIiD,GAAK/C,IA+FL,OA7FAmF,GAAOknB,OAAU,iEAEjBtpB,EAAGopB,UAAYA,EACfppB,EAAGuC,QAEHvC,EAAG6C,QAAU,WACT,IAAI,GAAIxC,GAAI,EAAIA,EAAIL,EAAGopB,UAAU7oB,OAASF,IAAK,CAK3C,IAAI,GAHA2e,GAAWhf,EAAGopB,UAAU/oB,GACxBkpB,KAEI9oB,EAAI,EAAIA,EAAIue,EAASuK,mBAAmBhpB,OAASE,IAAK,CAK1D,IAAI,GAHA2mB,GAAoBpI,EAASuK,mBAAmB9oB,GAChD+oB,KAEIhoB,EAAI,EAAIA,EAAI4lB,EAAkBb,OAAOhmB,OAASiB,IAAK,CAKvD,IAAI,GAHAukB,GAAQqB,EAAkBb,OAAO/kB,GACjCykB,KAEIwD,EAAI,EAAIA,EAAI1D,EAAME,aAAa1lB,OAASkpB,IAAK,CAKjD,IAAI,GAHAvD,GAAcH,EAAME,aAAawD,GACjCthB,KAEIuhB,EAAI,EAAIA,EAAIxD,EAAY/d,MAAM5H,OAASmpB,IAAK,CAEhD,GAAIjkB,GAAOygB,EAAY/d,MAAMuhB,EAG7BvhB,GAAMpE,MACFX,MAAOqC,EAAKiF,YACZif,SAAUlkB,EAAKkkB,SACfhmB,SAAU,SAASZ,GACfX,EAAOknB,OAASvsB,EAAW,gBAAkBgG,EAAO4mB,UAExDrmB,KAAOmC,EAAK,UAAY,GAAO,IAOvCwgB,EAAaliB,MACTX,MAAO8iB,EAAYxb,YACnBif,SAAUzD,EAAYyD,SACtBhmB,SAAU,SAASZ,GACfX,EAAOknB,OAASvsB,EAAW,uBAAyBgG,EAAO4mB,UAE/DrmB,KAAO4iB,EAAY,UAAY,GAAO,EACtCljB,SAAUmF,IAIlB,GAAIyhB,IAAc,CACK,MAAnB7D,EAAM4D,WACNC,GAAc,GAGlBJ,EAAWzlB,MACPX,MAAO2iB,EAAMrb,YACbif,SAAU5D,EAAM4D,SAChBhmB,SAAU,SAASZ,GACfX,EAAOknB,OAASvsB,EAAW,iBAAmBgG,EAAO4mB,UAEzDrmB,KAAOyiB,EAAM,UAAY,GAAO,EAChC/iB,SAAUijB,IAIlBsD,EAAmBxlB,MACfX,MAAOgkB,EAAkB1c,YACzBif,SAAUvC,EAAkBuC,SAC5BhmB,SAAU,SAASZ,GACfvF,QAAQC,IAAIV,EAAW,4BAA8BgG,EAAO4mB,UAC5DvnB,EAAOknB,OAASvsB,EAAW,4BAA8BgG,EAAO4mB,UAEpErmB,KAAO8jB,EAAkB,UAAY,GAAO,EAC5CpkB,SAAUwmB,IAIlBxpB,EAAGuC,KAAKwB,MACJX,MAAO4b,EAAStU,YAChBpH,MAAM,EACNN,SAAUumB,MAKtBvpB,EAAG6C,UAEI7C,EAKX,QAAS6pB,GAAajiB,GAElB,OACI9B,SAAU,IACVW,SAAU,qlBAUVT,SAAS,EACTE,OACI+H,SAAU,IACVtK,SAAU,IACVuK,iBAAkB,IAClBC,YAAa,KAGjB7H,KAAM,SAASJ,EAAOkI,EAASC,GAE3B,GAAIC,GAAOC,EAAoBC,EAAcC,EAAmBC,EAAiBC,EAAY7D,EAAG8D,EAAoBC,EAAeC,EAAiBvM,CA0BpJ,IAxBA+L,EAAQ,SAAS1C,GAGb,WAFApO,SAAQC,IAAI,SAAWmO,IAKH,MAApByC,EAAMU,aACNV,EAAMU,WAAa,wCAGG,MAAtBV,EAAMW,eACNX,EAAMW,aAAe,yCAGH,MAAlBX,EAAMY,WACNZ,EAAMY,SAAW,IAGI,MAArBZ,EAAMa,cACNb,EAAMa,YAAc,KAGxBV,EAAepD,SAASiD,EAAMa,YAAa,KAEtChJ,EAAM+H,SAEP,WADA9E,OAAM,oCAIV,IAA6B,MAAzBjD,EAAM+H,SAAS1N,OAAgB,CAC/B,GAAsB,MAAlB0N,SAAS7K,MAIT,WADA+F,OAAM,+CAFNjD,GAAM+H,UAAYA,UAmPlC,MA5OQS,GAAkB,SAASS,GACvB,GAAIC,GAAMC,EAAaC,EAAIC,EAAMC,EAAMC,CAkBvC,KAhBAL,EAAO,SAASrM,EAAQ2M,GACpB,GAAIC,GAAOL,EAAIC,EAAMC,EAAMC,CAE3B,IADAN,EAAEpM,EAAQ2M,GACa,MAAnB3M,EAAOC,SAAkB,CAGzB,IAFAwM,EAAOzM,EAAOC,SACdyM,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAKqL,EAAKO,EAAOD,EAAQ,GAEtC,OAAOD,KAIfD,EAAOtJ,EAAM+H,SACbwB,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCD,EAAcG,EAAKF,GACnBG,EAAS1L,KAAKqL,EAAKC,EAAa,GAEpC,OAAOI,IAGXX,EAAkB,KAElBD,EAAgB,SAAS9L,GAErB,IAAKA,EAKD,MAJuB,OAAnB+L,IACAA,EAAgBtF,UAAW,QAE/BsF,EAAkB,KAItB,IAAI/L,IAAW+L,EAAiB,CAQ5B,GAPuB,MAAnBA,IACAA,EAAgBtF,UAAW,GAE/BzG,EAAOyG,UAAW,EAClBsF,EAAkB/L,EAClBwL,EAAmBxL,GAEI,MAAnBA,EAAOY,SACP,MAAOiE,GAAS,WACZ,MAAO7E,GAAOY,SAASZ,IAG3B,IAAsB,MAAlBmD,EAAMvC,SACN,MAAOiE,GAAS,WACZ,MAAO1B,GAAMvC,UACTZ,OAAQA,QAQhCmD,EAAM0J,mBAAqB,SAAS7M,GAChC,MAAIA,KAAW+L,EACJD,EAAc9L,GADzB,QAKJ4L,EAAa,SAASgB,GAClB,GAAI7M,EAWJ,OAVAA,GAAS,OAEL6M,EAAME,YACNnB,EAAgB,SAASoB,GACrB,MAAIA,GAAEC,MAAQJ,EAAME,WACT/M,EAASgN,EADpB,SAMDhN,GAGX2L,EAAoB,SAASkB,EAAOK,GAChC,GAAIlN,EAGJ,OAFAA,GAAS6L,EAAWgB,GAEN,MAAV7M,GACAkN,EAAGlN,GACI2L,EAAkB3L,EAAQkN,IAFrC,QAMJzB,EAAqB,SAASoB,GAC1B,MAAOlB,GAAkBkB,EAAO,SAASG,GACrC,MAAOA,GAAEtM,UAAW,KAI5B0C,EAAM+J,aAENrB,EAAqB,WACjB,GAAIsB,GAAoBb,EAAaC,EAAIC,EAAMC,EAAMC,CA2GrD,KAzGAf,EAAgB,SAASoB,EAAGJ,GAExB,MAAKI,GAAEC,IAAP,OACWD,EAAEC,IAAM,GAAK9O,KAAKkP,WAMjCzB,EAAgB,SAASoB,GAErB,GAAIH,GAAOL,EAAIC,EAAMC,EAAMC,CAE3B,IAAIjT,QAAQkK,QAAQoJ,EAAE9M,UAAW,CAI7B,IAHAwM,EAAOM,EAAE9M,SACTyM,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAK4L,EAAME,WAAaC,EAAEC,IAEvC,OAAON,MAIfvJ,EAAM+J,aAENvB,EAAgB,SAAS3L,GAErB,GAAI4M,GAAOR,CAEX,OAAIpM,GAAOC,SACHD,EAAOC,SAASzC,OAAS,GACzB4O,EAAI,SAASpE,GACT,MAAiB,gBAANA,IAEH3H,MAAO2H,EACP/H,aAGG+H,GAIRhI,EAAOC,SAAW,WAErB,GAAIsM,GAAIC,EAAMC,EAAMC,CAGpB,KAFAD,EAAOzM,EAAOC,SACdyM,KACKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbG,EAAS1L,KAAKoL,EAAEQ,GAGpB,OAAOF,OAtBf,OA0BO1M,EAAOC,cAKtBkN,EAAqB,SAASR,EAAO3M,EAAQqN,GACzC,GAAIT,GAAOU,EAAeC,EAAWhB,EAAIC,EAAMC,EAAMC,CAyBrD,IAvBuB,MAAnB1M,EAAOS,WACPT,EAAOS,UAAW,GAOd8M,EAJHvN,EAAOC,UAAuC,IAA3BD,EAAOC,SAASzC,OAGhCwC,EAAOS,SACK6K,EAAMW,aAENX,EAAMU,WALVV,EAAMY,SAStB/I,EAAM+J,UAAUlM,MACZ2L,MAAOA,EACP3M,OAAQA,EACRK,MAAOL,EAAOK,MACdE,KAAMP,EAAOO,KACbgN,UAAWA,EACXF,QAASA,IAGU,MAAnBrN,EAAOC,SAAkB,CAIzB,IAHAwM,EAAOzM,EAAOC,SACdyM,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCK,EAAQH,EAAKF,GACbe,EAAgBD,GAAWrN,EAAOS,SAClCiM,EAAS1L,KAAKmM,EAAmBR,EAAQ,EAAGC,EAAOU,GAEvD,OAAOZ,KAIfD,EAAOtJ,EAAM+H,SACbwB,KAEKH,EAAK,EAAGC,EAAOC,EAAKjP,OAAagP,EAALD,EAAWA,IACxCD,EAAcG,EAAKF,GACnBG,EAAS1L,KAAKmM,EAAmB,EAAGb,GAAa,GAGrD,OAAOI,IAGXvJ,EAAMqK,OAAO,WAAY3B,GAAoB,GAEf,MAA1BP,EAAMH,kBACNQ,EAAgB,SAASoB,GACrB,MAAIA,GAAE1M,QAAUiL,EAAMH,iBACXtG,EAAS,WACZ,MAAOiH,GAAciB,KAF7B,SAQRhF,EAAI5E,EAAM+H,SAAS1N,OAE3BmO,EAAgB,SAASoB,EAAGJ,GAExB,MADAI,GAAEJ,MAAQA,EACHI,EAAEtM,SAAWsM,EAAEJ,MAAQlB,IAGT,MAArBtI,EAAMiI,aACF3R,QAAQqP,SAAS3F,EAAMiI,cACvB5L,EAAO2D,EAAMiI,YAEb5L,EAAKiO,WAAa,WACd,MAAO9B,GAAgB,SAASoB,EAAGJ,GAC/B,MAAOI,GAAEtM,UAAW,KAI5BjB,EAAKkO,aAAe,WAChB,MAAO/B,GAAgB,SAASoB,EAAGJ,GAC/B,MAAOI,GAAEtM,UAAW,KAI5BjB,EAAKmO,iBAAmB,WAEpB,MADA5F,GAAI5E,EAAM+H,SAAS1N,OACfuK,EAAI,EACG5E,EAAM+H,SAAS,GAD1B,QAKJ1L,EAAKoO,oBAAsB,WACvB,GAAIb,EAEJ,OADAA,GAAIvN,EAAKmO,mBACFnO,EAAKsM,cAAciB,IAG9BvN,EAAKqO,oBAAsB,WACvB,MAAO9B,IAGXvM,EAAKsO,kBAAoB,SAASf,GAC9B,MAAOnB,GAAWmB,IAGtBvN,EAAKsM,cAAgB,SAASiB,GAE1B,MADAjB,GAAciB,GACPA,GAGXvN,EAAKuO,aAAe,SAAShB,GACzB,MAAOA,GAAE9M,UAGbT,EAAKwO,qBAAuB,SAASjB,GACjC,GAAIkB,EAKJ,OAJS,OAALlB,IACAA,EAAIvN,EAAKqO,uBAGJ,MAALd,IACAkB,EAAIzO,EAAKsO,kBAAkBf,GAClB,MAALkB,IACAzO,EAAKsM,cAAcmC,GACZA,GAJf,QASJzO,EAAK0O,WAAa,SAASnO,EAAQoO,GAO/B,MANc,OAAVpO,GACAA,EAAOE,SAASe,KAAKmN,GACrBpO,EAAOU,UAAW,GAElB0C,EAAM+H,SAASlK,KAAKmN,GAEjBA,GAGX3O,EAAK4O,gBAAkB,SAASD,GAE5B,MADA3O,GAAK0O,WAAW,KAAMC,GACfA,GAGX3O,EAAK6O,cAAgB,SAAStB,GAK1B,MAJS,OAALA,IACAA,EAAIvN,EAAKqO,uBAGJ,MAALd,GACAA,EAAEtM,UAAW,EACNsM,GAFX,QAMJvN,EAAK8O,gBAAkB,SAASvB,GAK5B,MAJS,OAALA,IACAA,EAAIhB,GAGC,MAALgB,GACAA,EAAEtM,UAAW,EACNsM,GAFX,QAMJvN,EAAK+O,aAAe,SAASxB,GACzB,GAAIkB,GAAGO,CAKP,OAJS,OAALzB,IACAA,EAAIhB,GAGC,MAALgB,GACAkB,EAAIzO,EAAKsO,kBAAkBf,GAEvByB,EADAP,EACWA,EAAEhO,SAEFkD,EAAM+H,UALzB,QAWJ1L,EAAKiP,iBAAmB,SAAS1B,GAC7B,GAAIzP,GAAGkR,CAIP,OAHS,OAALzB,IACAA,EAAIhB,GAEC,MAALgB,IACAyB,EAAWhP,EAAK+O,aAAaxB,GAC7BhF,EAAIyG,EAAShR,OACbF,EAAIkR,EAAS/E,QAAQsD,GACbhF,EAAJzK,GACOkR,EAASlR,EAAI,GAL5B,QAUJkC,EAAKkP,iBAAmB,SAAS3B,GAC7B,GAAIzP,GAAGkR,CAOP,OANS,OAALzB,IACAA,EAAIhB,GAERyC,EAAWhP,EAAK+O,aAAaxB,GAC7BhF,EAAIyG,EAAShR,OACbF,EAAIkR,EAAS/E,QAAQsD,GACjBzP,EAAI,EACGkR,EAASlR,EAAI,GADxB,QAKJkC,EAAKmP,oBAAsB,SAAS5B,GAChC,GAAI6B,EAIJ,OAHS,OAAL7B,IACAA,EAAIhB,GAEC,MAALgB,IACA6B,EAAOpP,EAAKiP,iBAAiB1B,GACjB,MAAR6B,GACOpP,EAAKsM,cAAc8C,GAHlC,QAQJpP,EAAKqP,oBAAsB,SAAS9B,GAChC,GAAI+B,EAIJ,OAHS,OAAL/B,IACAA,EAAIhB,GAEC,MAALgB,IACA+B,EAAOtP,EAAKkP,iBAAiB3B,GACjB,MAAR+B,GACOtP,EAAKsM,cAAcgD,GAHlC,QAQJtP,EAAKuP,gBAAkB,SAAShC,GAC5B,GAAIN,EAIJ,OAHS,OAALM,IACAA,EAAIhB,GAEC,MAALgB,IAC4B,OAAtBN,EAAOM,EAAE9M,UAAoBwM,EAAKjP,OAAS,QAAU,EAChDuP,EAAE9M,SAAS,GAF1B,QAOJT,EAAKwP,kCAAoC,SAASjC,GAC9C,GAAI6B,GAAM7O,CAEV,OADA6O,GAAOpP,EAAKiP,iBAAiB1B,GACjB,MAAR6B,EACOA,GAEP7O,EAASP,EAAKsO,kBAAkBf,GACzBvN,EAAKwP,kCAAkCjP,KAItDP,EAAKyP,gBAAkB,SAASlC,GAC5B,GAAI6B,EAIJ,OAHS,OAAL7B,IACAA,EAAIhB,GAEC,MAALgB,GACA6B,EAAOpP,EAAKuP,gBAAgBhC,GAChB,MAAR6B,EACOA,EAEPA,EAAOpP,EAAKwP,kCAAkCjC,IALtD,QAWJvN,EAAK0P,mBAAqB,SAASnC,GAC/B,GAAI6B,EAIJ,OAHS,OAAL7B,IACAA,EAAIhB,GAEC,MAALgB,IACA6B,EAAOpP,EAAKyP,gBAAgBlC,GAChB,MAAR6B,IACApP,EAAKsM,cAAc8C,GACZA,GAJf,QASJpP,EAAK2P,gBAAkB,SAASpC,GAC5B,GAAIqC,EAKJ,OADArH,GAAIgF,EAAE9M,SAASzC,OACL,IAANuK,EACOgF,GAEPqC,EAAarC,EAAE9M,SAAS8H,EAAI,GACrBvI,EAAK2P,gBAAgBC,KAIpC5P,EAAK6P,gBAAkB,SAAStC,GAC5B,GAAIhN,GAAQuP,CAIZ,OAHS,OAALvC,IACAA,EAAIhB,GAEC,MAALgB,GACAuC,EAAe9P,EAAKkP,iBAAiB3B,GACjB,MAAhBuC,EACO9P,EAAK2P,gBAAgBG,GAE5BvP,EAASP,EAAKsO,kBAAkBf,IALxC,QAWGvN,EAAK+P,mBAAqB,SAASxC,GACtC,GAAI+B,EAIJ,OAHS,OAAL/B,IACAA,EAAIhB,GAEC,MAALgB,IACA+B,EAAOtP,EAAK6P,gBAAgBtC,GAChB,MAAR+B,IACAtP,EAAKsM,cAAcgD,GACZA,GAJf,SAjQZ,SAtZPrV,QACEC,OAAO,gBACP+C,WAAW,qBAAsB6pB,GACjCjiB,UAAU,eAAgByiB,GAmLzBR,EAAmBpqB,SAAW,SAAU,SAAU,WAAY,YAAa,YA8jB3E4qB,EAAa5qB,SAAW,eA5E5B,WACC,YAMC,SAAS0lB,GAAmBhoB,EAAOC,EAAIC,EAAeE,GACrD,QAAS4nB,KACR,GAEI3nB,GAAOC,KACPC,EAAoBL,EAAcM,IAAI,QAE1CH,GAAKG,IAAM,WACV,GAAIC,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,eACnBO,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKc,KAAO,SAAUW,GACrB,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,eAAiB0B,GACpCnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKgY,MAAQ,SAASvW,GACrB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAM+Q,KAAK3Q,EAAW,cAAe0B,GACnCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKwB,OAAS,SAAUC,GACvB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAMsY,MAAMlY,EAAW,eAAiB0B,EAAQ0E,GAAI1E,GAClDnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAGjBb,EAAKkY,QAAU,SAAUzW,GACxB,GAAIrB,GAAWR,EAAGS,OAQlB,OAPAV,GAAAA,UAAaI,EAAW,eAAiB0B,GACvCnB,KAAK,SAASC,GACdL,EAAkB6B,YAClB3B,EAASO,QAAQJ,IACf,SAASA,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAKjBb,EAAKihB,WAAa,SAAUxf,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,0BAA4B0B,GAC/CnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIjBb,EAAKkhB,WAAa,SAAUzf,GAC3B,GAAIrB,GAAWR,EAAGS,OAOlB,OANAV,GAAMQ,IAAIJ,EAAW,0BAA4B0B,EAAQ4E,KAAO,IAAM5E,EAAQ0E,GAAK,IAAM1E,EAAQgmB,eAC/FnnB,KAAK,SAASC,GACdH,EAASO,QAAQJ,EAASG,OACxB,SAASH,GACXH,EAASQ,OAAOL,KAEXH,EAASS,SAIlB,MAAO,IAAI8mB,GAhGbnoB,QACEC,OAAO,gBACPuC,QAAQ,qBAAsB,QAAS,KAAM,gBAAiB,WAAY2lB,OAiG7E,WACC,YAKA,SAASwE,GAAiBhqB,GACzBA,EACEC,MAAM,yBACNT,IAAK,cACLU,OACCC,SACCC,YAAa,uCACbC,WAAY,+BAGd7B,SACCinB,aAAA,oBAAa,SAASD,GACrB,MAAOA,GAAkBxnB,WAK3BiC,MAAM,gCACNT,IAAK,UACLU,OACCuW,sBACCrW,YAAa,uCACbC,WAAY,qCAGd7B,SACCygB,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,WAK3BiC,MAAM,gCACNT,IAAK,iBACLU,OACCuW,sBACCrW,YAAa,uCACbC,WAAY,qCAGd7B,SACCymB,YAAA,eAAA,oBAAY,SAASxkB,EAAc+kB,GAClC,MAAOA,GAAkB7mB,KAAK8B,EAAakqB,gBAE5C1L,cAAA,oBAAc,SAASJ,GACtB,MAAOA,GAAkB7gB,QAE1BynB,aAAA,oBAAa,SAASD,GACrB,MAAOA,GAAkBxnB,WApD9BX,QACEC,OAAO,gBACPoD,OAAOspB,GAwITA,EAAiBlqB,SAAW,qBA/E7B,WACC,YAOA,SAAS8qB,GAAsBhqB,EAAQ6kB,EAAaD,GACnD,GAAI3kB,GAAK/C,IAgBT,OAfA+C,GAAG4kB,YAAcA,EAEjB5kB,EAAGxB,OAAS,SAAU2E,GACrBpD,EAAO6B,GAAG,gCAAiCkoB,aAAc3mB,KAG1DnD,EAAGkV,QAAU,SAAS/R,EAAImT,GACzB,GAAInN,GAAQoN,QAAQ,oDACP,IAATpN,GACHwb,EAAkBzP,QAAQ/R,GAAI7F,KAAK,WAClC0C,EAAG4kB,YAAYpO,OAAOF,EAAO,MAKzBtW,EAGR,QAASgqB,GAA4B5nB,EAAQrC,EAAQ6H,EAAUwW,EAAcuG,GAE5E,GAAInG,GACAxe,EAAK/C,IAET+C,GAAG6H,SACH7H,EAAGoe,aAAeA,EAClBpe,EAAG4kB,eACH5kB,EAAGgX,WAAY,EAEfhX,EAAGwkB,OAAS,WACXxkB,EAAG8kB,mBAAoB,EACvBH,EAAkB1G,WAAWje,EAAG6H,MAAM4c,eAAennB,KAAK,SAASI,GAClEsC,EAAG8kB,mBAAoB,EACvB9kB,EAAG4kB,YAAclnB,EACbsC,EAAG6H,MAAMxE,OACZuE,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzB,MAAO+c,GAAkBzG,WAAWle,EAAG6H,QACrC,KACFvK,KAAK,SAAUI,GACdA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,QAMjBtc,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAO6nB,eAAe5mB,KAAKoU,SACvCC,EAAYtV,EAAO6nB,eAAe5mB,KAAKsU,QAEtCJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzB+c,EAAkBzG,WAAWle,EAAG6H,OAAOvK,KAAK,SAAUI,GACpDA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAIL1e,EAAG8B,OAAS,WACXM,EAAO6nB,eAAe5mB,KAAKgV,YAC3BjW,EAAO6nB,eAAexF,cAAcpM,YAEhCjW,EAAO6nB,eAAe/Q,OACzByL,EAAkB3P,MAAMhV,EAAG6H,OAAOvK,KAAK,WACtCyC,EAAO6B,GAAG,wBAAyB,MAAQG,QAAQ,MAE9C/B,EAAGgX,WAAY,GAIxB,QAASkT,GAA4B9nB,EAAQrC,EAAQ6H,EAAUwc,EAAYhG,EAAcwG,EAAaD,GACrG,GAAInG,GACAxe,EAAK/C,IA0CT,OAxCA+C,GAAG6H,MAAQuc,EACXpkB,EAAG4kB,YAAcA,EACjB5kB,EAAGoe,aAAeA,EAClBpe,EAAGgX,WAAY,EAEfhX,EAAGwkB,OAAS,WACXxkB,EAAG8kB,mBAAoB,EACvBH,EAAkB1G,WAAWje,EAAG6H,MAAM4c,eAAennB,KAAK,SAASI,GAClEsC,EAAG8kB,mBAAoB,EACvB9kB,EAAG4kB,YAAclnB,KAInB0E,EAAOmO,OAAO,gBAAiB,WAC9B,GAAIgH,GAAYnV,EAAO6nB,eAAe5mB,KAAKoU,SACvCC,EAAYtV,EAAO6nB,eAAe5mB,KAAKsU,QAEtCJ,GAAaG,IACjB9P,EAASgQ,OAAO4G,GAChBxe,EAAG0e,SAAU,EACbF,EAAiB5W,EAAS,WACzB+c,EAAkBzG,WAAWle,EAAG6H,OAAOvK,KAAK,SAAUI,GACpDA,EAAK6C,OAAS,EAAKP,EAAG2e,OAAQ,EAAO3e,EAAG2e,OAAQ,EACjD3e,EAAG0e,SAAU,KAEZ,QAIL1e,EAAG8B,OAAS,WACXM,EAAO6nB,eAAe5mB,KAAKgV,YAC3BjW,EAAO6nB,eAAexF,cAAcpM,YAEhCjW,EAAO6nB,eAAe/Q,OACzByL,EAAkBnmB,OAAOwB,EAAG6H,OAAOvK,KAAK,SAAUI,GACjDqC,EAAO6B,GAAG,wBAAyB,MAAOG,QAAQ,MAE7C/B,EAAGgX,WAAY,GAGhBhX,EA/HRxD,QACEC,OAAO,gBACP+C,WAAW,uBAAwBuqB,GACnCvqB,WAAW,6BAA8BwqB,GACzCxqB,WAAW,6BAA8B0qB,GAuG3CH,EAAqB9qB,SAAW,SAAU,cAAe,qBA0DzD+qB,EAA2B/qB,SAAW,SAAU,SAAU,WAAY,eAAgB,qBAgDtFirB,EAA2BjrB,SAAW,SAAU,SAAU,WAAY,aAAc,eAAgB,cAAe,wBA7EpH,WACC,YAIA,SAASkrB,GAAWhrB,GACnBA,EAAeC,MAAM,cACpBT,IAAI,QACJmE,OAAQ,OACRzD,OACC6K,KACC3K,YAAa,sCACbC,WAAY,4BAEboW,sBACCrW,YAAa,2CACbC,WAAY,6BAGd9B,MACC4F,MAAO,QAlBV9G,QAAQC,OAAO,gBACboD,OAAOsqB,GA0GTA,EAAWlrB,SAAW,qBAnFvB,WACC,YAMA,SAASmrB,GAAiBrqB,EAAQ6H,EAAUwC,EAAOzB,GAClD,GAAI0hB,GAAQptB,IAuEZ,OArEAotB,GAAMjlB,KAAOuD,EACb0hB,EAAMhgB,OAAQ,EAEdggB,EAAM/f,OAAS,WACdF,EAAME,SAAShN,KAAK,WACnBqL,KACA5I,EAAO6B,GAAG,UACR,SAASrE,OAGb8sB,EAAMC,MACLC,QAAS,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,QACjEC,QAAS,WAAY,YACrB9sB,OACC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACxB,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEzB+sB,QAAS,SAAUC,EAAQC,GAC3BntB,QAAQC,IAAIitB,EAAQC,KAIrBN,EAAMO,KACLL,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QACzDC,QAAS,WAAY,YAErB9sB,OACC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACxB,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,MAK1B2sB,EAAMQ,OACLN,QAAS,iBAAkB,iBAAkB,oBAC7C7sB,MAAO,IAAK,IAAK,MAGlB2sB,EAAMS,OACLP,QAAQ,SAAU,WAAY,WAAY,YAAa,SAAU,UAAW,WAE5E7sB,OACE,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KACxB,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAI3B2sB,EAAMU,KACLR,QAAU,iBAAkB,iBAAkB,oBAC9C7sB,MAAQ,IAAK,IAAK,MAGnB2sB,EAAMW,OACLT,QAAU,iBAAkB,iBAAkB,mBAAoB,aAAc,mBAChF7sB,MAAQ,IAAK,IAAK,IAAK,GAAI,MAG5B2sB,EAAMY,SACLV,QAAU,iBAAkB,iBAAkB,mBAAoB,aAAc,mBAChF7sB,MAAQ,IAAK,IAAK,IAAK,GAAI,KAC3B4F,KAAO,YAEP4nB,OAAS,WAERjuB,KAAKqG,KAAqB,cAAdrG,KAAKqG,KACjB,MAAQ,cAIH+mB,EA7ER7tB,QACEC,OAAO,gBACP+C,WAAW,kBAAmB4qB,GAmKhCA,EAAgBnrB,SAAW,SAAU,WAAY,QAAS,mBAjF3D,WACC,YAKA,SAASmd,KAIR,IAAK,GAHDzC,IAAQ,GAAIhZ,OAAO0b,cAEnBtD,KACK1Y,EAAI,GAAQ,IAAJA,EAASA,IACzB0Y,EAAOhV,MAAMuY,KAAM3C,EAAMtZ,GAE1B,OAAO0Y,GAGR,QAAS/C,KACR,QACE7S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,UACd9S,GAAI,EAAG8S,MAAO,QACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,SACd9S,GAAI,EAAG8S,MAAO,YACd9S,GAAI,EAAG8S,MAAO,cACd9S,GAAI,GAAI8S,MAAO,YACf9S,GAAI,GAAI8S,MAAO,aACf9S,GAAI,GAAI8S,MAAO,aAIlB,QAASC,GAAaoG,EAAMrG,GAC3B,GAAIE,MACA1V,EAAI,CAGPA,GADG6b,EAAKA,KAAO,GAAK,GAAc,GAATrG,EACrB,GACe,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,GAATA,GAAuB,IAATA,GAAwB,IAATA,EAC3F,GACe,GAATA,EACN,GAEA,EAGL,KAAK,GAAI5V,GAAI,EAASI,GAALJ,EAASA,IACzB8V,EAAQpS,MAAMqS,IAAK/V,GAGpB,OAAO8V,GAGR,QAASgV,GAAmBxU,EAAYvU,EAAQrC,EAAQ6H,EAAUtF,EAAQJ,GACzE,GAAIua,GAAmBC,CACvBta,GAAOyF,SACPzF,EAAOyF,MAAMujB,YACbhpB,EAAOua,SACPva,EAAOkV,UACPlV,EAAOyU,QACPzU,EAAO4U,WAAY,EAEnB5U,EAAOipB,KAAO,WACbjpB,EAAOkpB,YAAa,EACpBlpB,EAAOua,MAASP,KAGjBha,EAAOmO,OAAO,YAAa,WAC1B,GAAIqM,GAAaxa,EAAOmpB,iBAAiBzP,IAAIrE,SACzCqF,EAAa1a,EAAOmpB,iBAAiBzP,IAAInE,QAExCiF,GAAcE,IAClBlV,EAASgQ,OAAO6E,GAChBra,EAAO2a,YAAa,EACpBN,EAAoB7U,EAAS,WAC5B1F,EACE2Z,cAAczZ,EAAOyF,OACrBvK,KAAK,SAAUI,GACXA,EAAK6C,OAAS,EACjB6B,EAAO4a,UAAW,EAElB5a,EAAO4a,UAAW,EAEnB5a,EAAO2a,YAAa,KAEpB,QAIL3a,EAAOmO,OAAO,cAAe,WAC5B,GAAIqM,GAAaxa,EAAOmpB,iBAAiBvP,MAAMvE,SAC3CqF,EAAa1a,EAAOmpB,iBAAiBvP,MAAMrE,QAE1CiF,GAAcE,IAClBlV,EAASgQ,OAAO8E,GAChBta,EAAO6a,cAAe,EACtBP,EAAsB9U,EAAS,WAC9B1F,EACE6Z,gBAAgB3Z,EAAOyF,OACvBvK,KAAK,SAAUI,GAEXA,EAAK6C,OAAS,EACjB6B,EAAO8a,YAAa,EAEpB9a,EAAO8a,YAAa,EAErB9a,EAAO6a,cAAe,KAEtB,QAIL7a,EAAO+a,WAAa,WAEnB/a,EAAO6T,MAAQ+B,OACf5V,EAAOgU,IAAM4B,OACb5V,EAAOkV,OAAStB,IAChB5T,EAAOyF,MAAMuV,KAAOpF,QAGrB5V,EAAOuW,YAAc,WAEpBvW,EAAOgU,IAAM4B,OACb5V,EAAOyU,KAAOX,EAAY9T,EAAOka,KAAMla,EAAO6T,OAC9C7T,EAAOyF,MAAMuV,KAAOpF,QAGrB5V,EAAOib,UAAY,WAClBjb,EAAOyF,MAAMuV,KAAO,GAAIzc,MAAKyB,EAAOka,KAAKA,KAAMla,EAAO6T,MAAQ,EAAG7T,EAAOgU,IAAIA,IAAM,IAGnFhU,EAAON,OAAS,WAEfM,EAAOmpB,iBAAiBzP,IAAIzD,YAC5BjW,EAAOmpB,iBAAiBloB,KAAKgV,YAC7BjW,EAAOmpB,iBAAiBnV,IAAIiC,YAC5BjW,EAAOmpB,iBAAiB9N,QAAQpF,YAChCjW,EAAOmpB,iBAAiBvP,MAAM3D,YAC9BjW,EAAOmpB,iBAAiBC,SAASnT,YACjCjW,EAAOmpB,iBAAiBE,aAAapT,YAEjCjW,EAAOmpB,iBAAiBrS,QAC3B9W,EAAOkpB,YAAa,EACpBppB,EAAY+Z,SAAS7Z,EAAOyF,OAAOvK,KAAK,SAAUI,GACjD0E,EAAOkpB,YAAa,EACpBvrB,EAAO6B,GAAG,wBAAyBoa,MAAO5Z,EAAOyF,MAAMmU,SAErD,WACFjc,EAAO6B,GAAG,YAGXQ,EAAO4U,WAAY,GAKrB5U,EAAOipB,OA3JR7uB,QACEC,OAAO,gBACP+C,WAAW,qBAAsB2rB,GAkPnCA,EAAmBlsB,SAAW,aAAc,SAAU,SAAU,WAAY,SAAU,kBAtFvF,WACI,YAOA,SAASysB,GAAe3rB,EAAQ6H,EAAUwC,GAEtC,GAAIpK,GAAK/C,IAST,OAPA+C,GAAGqrB,KAAO,WACN7tB,QAAQC,IAAI2M,EAAM+Q,oBAGtBnb,EAAGqrB,OAGIrrB,EAhBXxD,QACKC,OAAO,gBACP+C,WAAW,iBAAkBksB,GAwGlCA,EAAezsB,SAAW,SAAU,WAAY,YArFpD,WACC,YAKA,SAAS0sB,GAAWxsB,GACnBA,EACEC,MAAM,SACNT,IAAI,SACJU,OACCusB,IACCrsB,YAAa,uBACbC,WAAY,0BAGd9B,MACC4F,WAfJ9G,QACEC,OAAO,gBACPoD,OAAO8rB,GA8HTA,EAAW1sB,SAAW,qBAxFvB,WACC,YAKA,SAAS4sB,GAAiBzpB,EAAQrC,EAAQH,EAAcksB,EAAW1hB,EAAOzB,EAAczG,GAEvF,GAAIlC,GAAK/C,IAqDT,OAnDA+C,GAAG6H,SACH7H,EAAGgX,WAAY,EACfhX,EAAG+rB,YAAa,EAChB/rB,EAAGmJ,SAEHnJ,EAAGqrB,KAAO,aAIVrrB,EAAG8B,OAAS,WAEXM,EAAO4pB,UAAUhQ,MAAM3D,YACvBjW,EAAO4pB,UAAUR,SAASnT,YAEtBjW,EAAO4pB,UAAU9S,QACpBlZ,EAAG6H,MAAMmU,MAAQ8P,EAAU9rB,EAAG6H,MAAMmU,OACpChc,EAAG6H,MAAM2jB,SAAWM,EAAU9rB,EAAG6H,MAAM2jB,UACvCphB,EAAM+J,MAAMnU,EAAG6H,OAAOvK,KAAK,SAASI,GACnC,MAAOwE,GAAYsZ,YACjB,SAAS9d,GACXyL,MAAMzL,KACJJ,KAAK,SAASI,GAChBiL,EAAaxF,GAAKzF,EAAKyF,GACvBwF,EAAatF,KAAO3F,EAAK2F,KACzBsF,EAAarF,KAAO5F,EAAK4F,KACzBqF,EAAalH,OAAS/D,EAAK+D,OAC3BkH,EAAamT,IAAMpe,EAAKoe,IACN,GAAfpe,EAAK+D,QACS,GAAb/D,EAAK4F,MACPvD,EAAO6B,GAAG,QAEK,GAAblE,EAAK4F,MACPvD,EAAO6B,GAAG,cAGX7B,EAAO6B,GAAG,WAGT,eAGH5B,EAAGgX,WAAY,GAIjBhX,EAAGic,SAAW,WACblc,EAAO6B,GAAG,aAGX5B,EAAGqrB,OAEIrrB,EA3DRxD,QACEC,OAAO,gBACP+C,WAAW,kBAAmBqsB,GAqJhCA,EAAgB5sB,SAAW,SAAU,SAAU,eAAgB,YAAa,QAAS,eAAgB,kBAzFtG,WAEC,YAOA,SAASgtB,GAAe3X,EAAMqC,EAAY5W,EAAQ6H,EAAUhL,EAAIwN,EAAOlI,EAAayG,GAEnF,QAASsjB,KACR,GAAIjvB,GAAOC,IAEXD,GAAKme,gBAAkB,WAEtB,GAAI/d,GAAWR,EAAGS,OA2BlB,OA1BAuK,GAAS,WACR,MAAGwC,GAAM+Q,mBACR7G,EAAKI,KAAKtK,EAAM+Q,mBACQ,OAApBxS,EAAaxF,IAAmC,KAApBwF,EAAaxF,IAAiC6U,SAApBrP,EAAaxF,IACtEmR,EAAKjK,MAAM,sBAAwB1B,EAAaxF,IACzCwF,IAEP2L,EAAK4X,KAAK,gDACHhqB,EAAYsZ,cAGpBlH,EAAKhG,MAAM,gDACXlR,EAASQ,SACT+K,KACA5I,EAAO6B,GAAG,SAHV0S,SAKA,GAAGhX,KAAK,SAASI,GAClBF,QAAQC,IAAIC,GACZiL,EAAaxF,GAAKzF,EAAKyF,GACvBwF,EAAatF,KAAO3F,EAAK2F,KACzBsF,EAAarF,KAAO5F,EAAK4F,KACzBqF,EAAalH,OAAS/D,EAAK+D,OAC3BkH,EAAamT,IAAMpe,EAAKoe,IACxB1e,EAASO,YAGHP,EAASS,SAGjBb,EAAKmvB,UAAY,WAChB3uB,QAAQC,IAAI,cAEZ,IAAIL,GAAWR,EAAGS,OAmBlB,OAlBA6E,GAAYsZ,WACVle,KAAK,SAASC,GACdH,EAASO,UACLgZ,EAAWyV,QAAQ1uB,KAAK4F,MAAQqT,EAAWyV,QAAQ1uB,KAAK4F,KAAK/C,OAAS,IACxE2B,EAAYoZ,YAAY3E,EAAWyV,QAAQ1uB,KAAK4F,OAEjDvD,EAAO6B,GAAG,eAGoB,SAA3B+U,EAAWyV,QAAQ/oB,MACtBtD,EAAO6B,GAAG+U,EAAW0V,UAAUhpB,OAG9B,SAAS9F,GACVH,EAASO,UACToC,EAAO6B,GAAG,WAGNxE,EAASS,SAKlB,MAAO,IAAIouB,GArEZzvB,QACEC,OAAO,gBACPuC,QAAQ,gBAAiBitB,GAgK3BA,EAAchtB,SAAW,OAAQ,aAAc,SAAU,WAAY,KAAM,QAAS,cAAe,mBA1FpG,WACI,YAOA,SAASqtB,GAAO3V,EAAY5W,EAAQH,EAAcgI,EAAU7K,GAExD4Z,EAAW5Z,SAAWA,EACtB4Z,EAAWmC,aAAe,SAAUhW,EAAQ6M,GACxC,GAAItP,GAAI,EACJwI,EAAU,CAEd,KAAKxI,EAAI,EAAIA,EAAIyC,EAAOvC,SAChB/D,QAAQ+vB,OAAOzpB,EAAOzC,GAAIsP,GADDtP,IAK7BwI,GAEJ,OAAIA,KAAY/F,EAAOvC,QACnBuC,EAAOiB,KAAK4L,GACL9G,GAFX,QAOJ8N,EAAWqC,WAAa,SAAUlW,EAAQ6M,GACtC,GAAItP,GAAI,EACJwI,EAAU,CAEd,KAAKxI,EAAI,EAAIA,EAAIyC,EAAOvC,OAASF,IAAK,CAClC,GAAI7D,QAAQ+vB,OAAOzpB,EAAOzC,GAAIsP,GAC1B,MAAOtP,EAEXwI,KAGJ,MAAIA,KAAY/F,EAAOvC,OACZ,GADX,QAMJoW,EAAW6V,OAAQ,EACnB7V,EAAW8V,UAAW,EAEtB9V,EAAW5I,KAAM,EAEjB4I,EAAWvC,IAAI,oBAAqB,SAASsY,EAAON,EAASO,EAAeN,GAGxE1V,EAAWyV,QAAUA,EACrBzV,EAAWgW,cAAgBA,EAE3BhW,EAAW0V,UAAYA,IAtD/B7vB,QACKC,OAAO,gBACPsR,IAAIue,GAsJTA,EAAOrtB,SAAW,aAAc,SAAU,eAAgB,WAAY;IAzF1E,WACE,YAOA,SAAS2tB,GAAaztB,EAAgB0tB,GAEvCA,EAAmBC,UAAU,IAkB7B3tB,GACEC,MAAM,QACNT,IAAK,IACLY,YAAa,qBACbC,WAAY,uBACZ7B,SACCwd,iBAAA,gBAAiB,SAAS8Q,GACzB,MAAOA,GAAc9Q,uBAKzBhc,EACEC,MAAM,YACNT,IAAI,YACJU,OACCusB,IACCrsB,YAAa,6BACbC,WAAY,6BAGd9B,MACC4F,WAuBDlE,MAAM,SACNC,OACCusB,IACCrsB,YAAa,oCAGf7B,MACC4F,WAsBDlE,MAAM,wBACNT,IAAK,eACLouB,QAIO/Q,SAKAgR,YAAa,OAEpB3tB,OACC6K,KACC3K,YAAa,wCACbC,WAAY,wCAedJ,MAAM,UACNT,IAAK,UACLouB,QAIO/Q,SAKAgR,YAAa,OAEpB3tB,OACC6K,KACC3K,YAAa,mCACbC,YAAA,SAAA,SAAA,eAAA,cAAY,SAAU4C,EAAQrC,EAAQH,EAAcsC,GACnDE,EAAO4Z,MAAQpc,EAAaoc,MAE5B5Z,EAAOkI,OAAS,WACfpI,EACEoI,SACAhN,KAAK,WACLyC,EAAO6B,GAAG,gBAMhBlE,MACC4F,WAhKF9G,QACGC,OAAO,gBACPoD,OAAO+sB,GAgQZA,EAAa3tB,SAAW,iBAAkB,yBAzF1C,WACI,YAGAzC,SACKC,OAAO,gBACPwwB,SAAS,WAAYha,UACrBga,SAAS,SAAUta,QACnBsa,SAAS,WAAY,4BAI9B,WACI,YASA,SAASC,GAAgB5Y,EAAM1X,EAAIuwB,EAAWC,GAChD,OAEUC,cAAe,SAAS9vB,GACpB,MAAwB,OAApBA,EAASkE,QACT6S,EAAKhG,MAAM,kBACX6e,EAAUhwB,IAAI,UAAUmwB,aAAa,SAC7C1wB,EAAGgB,OAAOL,KAEN+W,EAAKhG,MAAM,mBAEJ1R,EAAGgB,OAAOL,MAM7B,QAASgwB,GAAYC,EAAcC,EAAcC,EAAeC,EAAe5wB,GAE3E4wB,EAAcC,SAAW7wB,EAAW,gBAGpCywB,EAAaK,cAAa,GAG1BJ,EAAaK,WAAY,EACzBL,EAAaM,QAAU,IACvBN,EAAaO,cAAgB,kBAC7BP,EAAaQ,mBAAoB,EACjCR,EAAaS,aAAc,EAE3BR,EAAcS,SAASC,OAAQ,QAQxBV,GAAcS,SAASzS,QAAQ2S,OAAO,oBAwB7CX,EAAcY,aAAavqB,KAAK,mBAtEpCvH,QACKC,OAAO,gBACPoD,OAAO0tB,GACPvuB,QAAQ,kBAAmBkuB,GAC3BnZ,MAAM,mBAgHdmZ,EAAgBjuB,SAAW,OAAQ,KAAM,YAAa,aAmDrDsuB,EAAYtuB,SAAW,eAAgB,eAAgB,gBAAiB,gBAAiB,eA5F3FzC,QAAQC,OAAO,gBAAgBsR,KAAK,iBAAkB,SAASwgB,GAAiBA,EAAevgB,IAAI,uBAAuB,u2EAC1HugB,EAAevgB,IAAI,qBAAqB,m0BACxCugB,EAAevgB,IAAI,6BAA6B,0qRAChDugB,EAAevgB,IAAI,oCAAoC,umBACvDugB,EAAevgB,IAAI,mCAAmC,6ZACtDugB,EAAevgB,IAAI,kCAAkC,yXACrDugB,EAAevgB,IAAI,wCAAwC,2cAC3DugB,EAAevgB,IAAI,sCAAsC,+vBACzDugB,EAAevgB,IAAI,qCAAqC,IACxDugB,EAAevgB,IAAI,mCAAmC,IACtDugB,EAAevgB,IAAI,2CAA2C,g1EAC9DugB,EAAevgB,IAAI,sCAAsC,2uFACzDugB,EAAevgB,IAAI,uCAAuC,i9HAC1DugB,EAAevgB,IAAI,uCAAuC,yoDAC1DugB,EAAevgB,IAAI,qCAAqC,+qBACxDugB,EAAevgB,IAAI,iCAAiC;AACpDugB,EAAevgB,IAAI,iCAAiC,urDACpDugB,EAAevgB,IAAI,kCAAkC,i+QACrDugB,EAAevgB,IAAI,qCAAqC,qoJACxDugB,EAAevgB,IAAI,qCAAqC,s9CACxDugB,EAAevgB,IAAI,kCAAkC,62RACrDugB,EAAevgB,IAAI,kCAAkC,o2DACrDugB,EAAevgB,IAAI,gCAAgC;AACnDugB,EAAevgB,IAAI,gCAAgC,80DACnDugB,EAAevgB,IAAI,iCAAiC,wgKACpDugB,EAAevgB,IAAI,wCAAwC,8+VAC3DugB,EAAevgB,IAAI,wCAAwC,6uDAC3DugB,EAAevgB,IAAI,sCAAsC,uiLACzDugB,EAAevgB,IAAI,oCAAoC,q2IACvDugB,EAAevgB,IAAI,qCAAqC;AACxDugB,EAAevgB,IAAI,qCAAqC,gmPACxDugB,EAAevgB,IAAI,qCAAqC,izDACxDugB,EAAevgB,IAAI,qCAAqC,grGACxDugB,EAAevgB,IAAI,qCAAqC,4nDACxDugB,EAAevgB,IAAI,6CAA6C,gmOAChEugB,EAAevgB,IAAI,6CAA6C,41DAChEugB,EAAevgB,IAAI,uCAAuC,oqKAC1DugB,EAAevgB,IAAI,uCAAuC,ugDAC1DugB,EAAevgB,IAAI,iCAAiC;AACpDugB,EAAevgB,IAAI,iCAAiC,0sDACpDugB,EAAevgB,IAAI,kCAAkC,yzDACrDugB,EAAevgB,IAAI,iCAAiC,8leACpDugB,EAAevgB,IAAI,iCAAiC,0wGACpDugB,EAAevgB,IAAI,0CAA0C,IAC7DugB,EAAevgB,IAAI,qCAAqC,giDACxDugB,EAAevgB,IAAI,qCAAqC,k+EACxDugB,EAAevgB,IAAI,mCAAmC,mgFACtDugB,EAAevgB,IAAI,qCAAqC;AACxDugB,EAAevgB,IAAI,sCAAsC,s2FACzDugB,EAAevgB,IAAI,gCAAgC,o9GACnDugB,EAAevgB,IAAI,gCAAgC,wuGACnDugB,EAAevgB,IAAI,iCAAiC","file":"scripts/app-f498b564b8.js","sourcesContent":["(function() {\n    'use strict';\n    \n    \n\n    /*\n    var xhReq = new XMLHttpRequest();\n    xhReq.open(\"GET\", 'http://localhost:8000/auth/token', false);\n    xhReq.send(null);\n    */\n    \n    angular\n        .module('spmiFrontEnd', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', \n            'ngAria', 'restangular', 'ui.router', 'ui.bootstrap', 'toastr', 'ngFileUpload', \n            'satellizer', 'chart.js', 'angularBootstrapNavTree', 'pdf'])\n        \n        \n        //.constant(\"CSRF_TOKEN\", xhReq.responseText)\n     \n\n})();\n\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.factory('TaskService', TaskService)\r\n\r\n\r\n\tfunction TaskService ($http, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\t\r\n\t\tfunction TaskService(){\r\n\t\t\t\r\n\t\t\tvar self = this;\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.get(API_HOST + '/task').then(function(response){\r\n\t\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (batchId) {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.get(API_HOST + '/task/' + batchId).then(function(response){\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//for subordinate task browse\r\n\t\t\tself.retrive = function (userId, jobId, display, progress, complete, overdue, page) {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.get(API_HOST + '/task/retrive/' + userId + '/' + jobId + '/' + \r\n\t\t\t\t\tdisplay + '/' + progress + '/' + complete + '/' + overdue + '/?page=' + page)\r\n\t\t\t\t.then(function(response){\r\n\t\t\t\t\t//$httpDefaultCache.removeAll();\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(request);\r\n\t\t\t\t\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/task/' + request.batch_id,\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttransformRequest: function(request){\r\n\t\t\t\t\t\trequest._method = 'PUT';\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\tvar rq  = {\r\n\t\t\t\t\turl: API_HOST + '/task/update'\r\n\t\t\t\t\t, method: 'POST'\r\n\t\t\t\t\t, fields: request\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\trq['file'] = []\r\n\t\t\t\trq['fileFormDataName'] = []\r\n\t\r\n\t\t\t\tvar counter = 0\r\n\t\t\t\tfor (var i = 0 ; i < files.length ; i++) {\r\n\t\t\t\t\tif(files[Object.keys(files)[i]]) {\r\n\t\t\t\t\t\trq['file'][counter] = files[Object.keys(files)[i]] \r\n\t\t\t\t\t\trq['fileFormDataName'][counter] =  Object.keys(files)[i]\r\n\t\t\t\t\t\tcounter++\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(rq);\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t{\r\n\t\t\t\t\turl: API_HOST + '/task/update',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tfields: request\r\n\t\t\t\t\t, file: [files[1], files[7]]\r\n\t\t\t\t\t, fileFormDataName: ['document_1','document_7']\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\treturn Upload.upload(rq)\r\n\t\t\t\t\r\n\t\t\t\t//return $http.post('/task/update', request);\r\n\t\t\t\t*/\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new TaskService();\r\n\t}\r\n\r\n})();\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(TaskRouter)\r\n\t\r\n\tfunction TaskRouter($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.user.task', {\r\n\t\t\t\turl: '/task',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/task/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'TaskController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t}, \r\n\t\t\t\tresolve: {\r\n\t\t\t\t\ttasks: function(TaskService) {\r\n\t\t\t\t\t\treturn TaskService.get();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.user.task.form', {\r\n\t\t\t\turl:'/:batchId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.user': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/task/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'TaskFormController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\ttask: function($stateParams, TaskService) {\r\n\t\t\t\t\t\treturn TaskService.show($stateParams.batchId)\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.controller('TaskController', TaskController)\r\n\t\t.controller('TaskFormController', TaskFormController)\r\n\t\t\r\n\t\t\r\n\tfunction TaskController ($state, tasks, TaskService) {\r\n\t\tvar vm = this;\r\n\t\tvm.tasks = tasks;\r\n\t\tconsole.log(vm.tasks);\r\n\t\t\r\n\t\tvm.ongoing = vm.tasks.ongoing[0]\r\n\t\t//console.log(vm.ongoing)\r\n\r\n\t\tvm.toDo = 0;\r\n\t\tvm.homeWork = 0;\r\n\t\tvm.done = 0;\r\n\t\t\r\n\t\t//console.log(vm.ongoing)\r\n\t\tif ( vm.ongoing ) {\r\n\t\t\tfor (var i = 0 ; i < vm.ongoing.jobs.length ; i++) {\r\n\t\t\t\tvm.toDo += vm.ongoing.jobs[i].works.length\r\n\t\t\t\tfor (var j = 0 ; j < vm.ongoing.jobs[i].works.length ; j++) {\r\n\t\t\t\t\tvm.ongoing.jobs[i].works[j].created_at = Date.parse(vm.ongoing.jobs[i].works[j].created_at);\r\n\t\t\t\t\tvm.ongoing.jobs[i].works[j].expired_at = Date.parse(vm.ongoing.jobs[i].works[j].expired_at);\r\n\t\t\t\t\tvar now = new Date();\r\n\t\t\t\t\tvar expired = new Date(vm.ongoing.jobs[i].works[j].expired_at);\r\n\t\t\t\t\tvar timeDiff = Math.abs(now.getTime() - expired.getTime());\r\n\t\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\t\tvm.ongoing.jobs[i].works[j].remaining = diffDays;\r\n\t\r\n\t\t\t\t\tvar jobsDone = 0;\r\n\t\t\t\t\tfor (var k = 0 ; k < vm.ongoing.jobs[i].works[j].tasks.length ; k++) {\r\n\t\t\t\t\t\tif (vm.ongoing.jobs[i].works[j].tasks[k].status == 2) {\r\n\t\t\t\t\t\t\tjobsDone++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tvm.ongoing.jobs[i].works[j].progress = '(' + jobsDone + '/' +vm.ongoing.jobs[i].works[j].tasks.length + ')'\r\n\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvm.overdue = vm.tasks.overdue[0]\r\n\t\t//console.log(vm.overdue)\r\n\t\t\r\n\t\tif ( vm.overdue )\r\n\t\tfor (var i = 0 ; i < vm.overdue.jobs.length ; i++) {\r\n\t\t\tvm.homeWork += vm.overdue.jobs[i].works.length\r\n\t\t\tfor (var j = 0 ; j < vm.overdue.jobs[i].works.length ; j++) {\r\n\t\t\t\tvm.overdue.jobs[i].works[j].created_at = Date.parse(vm.overdue.jobs[i].works[j].created_at);\r\n\t\t\t\tvm.overdue.jobs[i].works[j].expired_at = Date.parse(vm.overdue.jobs[i].works[j].expired_at);\r\n\t\t\t\tvar now = new Date();\r\n\t\t\t\tvar expired = new Date(vm.overdue.jobs[i].works[j].expired_at);\r\n\t\t\t\tvar timeDiff = Math.abs(now.getTime() - expired.getTime());\r\n\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\tvm.overdue.jobs[i].works[j].remaining = diffDays;\r\n\r\n\t\t\t\tvar jobsDone = 0;\r\n\t\t\t\tfor (var k = 0 ; k < vm.overdue.jobs[i].works[j].tasks.length ; k++) {\r\n\t\t\t\t\tif (vm.overdue.jobs[i].works[j].tasks[k].status == 2) {\r\n\t\t\t\t\t\tjobsDone++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvm.overdue.jobs[i].works[j].progress = '(' + jobsDone + '/' +vm.overdue.jobs[i].works[j].tasks.length + ')'\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvm.complete = vm.tasks.complete[0]\r\n\t\t//console.log(vm.complete)\r\n\t\t\r\n\t\tif ( vm.complete )\r\n\t\tfor (var i = 0 ; i < vm.complete.jobs.length ; i++) {\r\n\t\t\tvm.done += vm.complete.jobs[i].works.length\r\n\t\t\tfor (var j = 0 ; j < vm.complete.jobs[i].works.length ; j++) {\r\n\t\t\t\tvm.complete.jobs[i].works[j].created_at = Date.parse(vm.complete.jobs[i].works[j].created_at);\r\n\t\t\t\tvm.complete.jobs[i].works[j].expired_at = Date.parse(vm.complete.jobs[i].works[j].expired_at);\r\n\t\t\t\tvar now = new Date();\r\n\t\t\t\tvar expired = new Date(vm.complete.jobs[i].works[j].expired_at);\r\n\t\t\t\tvar timeDiff = Math.abs(now.getTime() - expired.getTime());\r\n\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\tvm.complete.jobs[i].works[j].remaining = diffDays;\r\n\r\n\t\t\t\tvar jobsDone = 0;\r\n\t\t\t\tfor (var k = 0 ; k < vm.complete.jobs[i].works[j].tasks.length ; k++) {\r\n\t\t\t\t\tif (vm.complete.jobs[i].works[j].tasks[k].status == 2) {\r\n\t\t\t\t\t\tjobsDone++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvm.complete.jobs[i].works[j].progress = '(' + jobsDone + '/' +vm.complete.jobs[i].works[j].tasks.length + ')'\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\r\n\t\tvm.detail = function (work) {\r\n\t\t\tconsole.log(work.batch_id);\r\n\t\t\t//console.log({ userId: vm.user.id, jobId: work.job_id, batchId: work.batch_id});\r\n\t\t\t$state.go('main.user.task.form', {batchId: work.batch_id});\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction TaskFormController($state, task, TaskService){\r\n\t\tvar vm = this;\r\n\t\tvm.task = task;\r\n\t\tconsole.log(vm.task);\r\n\t\t\r\n\t\tvm.submit = function() {\r\n\t\t\tTaskService.update(task).then(function(data){\r\n\t\t\t\t$state.go('main.user.task', null, {reload: true});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\r\n})();\r\n\r\n\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(SubordinatRouter)\r\n\t\r\n\tfunction SubordinatRouter($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.user.subordinat', {\r\n\t\t\t\turl: '/subordinat',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/subordinat/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'SubordinatController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\thierarchy: function(UserService) {\r\n\t\t\t\t\t\treturn UserService.jobs();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.controller('SubordinatController', SubordinatController)\r\n\t\t.controller('SubordinatTaskController', SubordinatTaskController)\r\n\t\r\n\t\r\n\tfunction SubordinatController ($scope, $filter, $modal, hierarchy, TaskService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.tree = []\r\n\t\tvm.hierarchy = hierarchy\r\n\t\t\r\n\t\tconsole.log(vm.hierarchy)\r\n\t\t\r\n\t\tvm.tasks = []\r\n\t\tvm.virtualTasks = []\r\n\t\tvm.filteredTasks = []\r\n\t\r\n\t\tvm.now = new Date();\r\n\t\r\n\t\tvm.showLimit = 10\r\n\t\tvm.currentPage = 1;\r\n\t\r\n\t\tvm.show = {}\r\n\t\tvm.show.complete = true;\r\n\t\tvm.show.progress = true;\r\n\t\tvm.show.overdue = true;\r\n\t\t\r\n\t\tvm.selectedNode = {}\r\n\t\t\r\n\t\tfunction performance (userId) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//var counter = 0;\r\n\t\tvm.convert = function(parent, branch){\r\n\t\t\t//console.log(counter++);\r\n\t\t\t//console.log(vm.tree);\r\n\t\t\tfor (var i = 0; i < branch.length; i++) {\r\n\t\t\t\tvar children = branch[i].jobs || branch[i].users || branch[i].subs \r\n\t\t\t\tif ( children ) {\r\n\t\t\t\t\tparent.children = []\r\n\t\t\t\t\tvm.convert(parent.children, children)\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\tid: branch[i].id,\r\n\t\t\t\t\t\tlabel: branch[i].name,\r\n\t\t\t\t\t\ttype: branch[i].node,\r\n\t\t\t\t\t\texpanded: false,\r\n\t\t\t\t\t\tchildren: parent.children,\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( branch[i].pivot ) {\r\n\t\t\t\t\t\tdata.parent = branch[i].pivot.job_id\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdata.onSelect = function(branch) {\r\n\t\t\t\t\t\tif (branch.type == 'user') {\r\n\t\t\t\t\t\t\tvm.showed = true;\r\n\t\t\t\t\t\t\tconsole.log(branch.id + ', ' + branch.parent);\r\n\t\t\t\t\t\t\tvm.selectedNode.userId = branch.id;\r\n\t\t\t\t\t\t\tvm.selectedNode.jobId = branch.parent;\r\n\t\t\t\t\t\t\t//vm.showLimit = 10;\r\n\t\t\t\t\t\t\t//vm.show.complete = true;\r\n\t\t\t\t\t\t\t//vm.show.progress = true;\r\n\t\t\t\t\t\t\t//vm.show.overdue = true;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tTaskService.retrive(branch.id\r\n\t\t\t\t\t\t\t\t, branch.parent\r\n\t\t\t\t\t\t\t\t, vm.showLimit\r\n\t\t\t\t\t\t\t\t, vm.show.progress\r\n\t\t\t\t\t\t\t\t, vm.show.complete\r\n\t\t\t\t\t\t\t\t, vm.show.overdue\r\n\t\t\t\t\t\t\t\t, vm.currentPage).then(function(data) {\r\n\t\t\t\t\t\t\t\t\tvm.total = data.total;\r\n\t\t\t\t\t\t\t\t\tvm.currentPage = data.current_page;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < data.data.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tdata.data[i].created_at = new Date(data.data[i].created_at);\r\n\t\t\t\t\t\t\t\t\t\tdata.data[i].expired_at = new Date(data.data[i].expired_at); \r\n\t\t\t\t\t\t\t\t\t\tvar expired = data.data[i].expired_at;\r\n\t\t\t\t\t\t\t\t\t\tvar timeDiff = Math.abs(vm.now.getTime() - expired.getTime());\r\n\t\t\t\t\t\t\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\t\t\t\t\t\t\tdata.data[i].remaining = diffDays;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvm.tasks = data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvm.showed = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tparent.push(data)\r\n\t\t\t\t} \r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\tvm.convert(vm.tree, vm.hierarchy);\r\n\t\t\r\n\t\tvm.onShowChange = function() {\r\n\t\t\tTaskService.retrive(vm.selectedNode.userId\r\n\t\t\t\t, vm.selectedNode.jobId\r\n\t\t\t\t, vm.showLimit\r\n\t\t\t\t, vm.show.progress\r\n\t\t\t\t, vm.show.complete\r\n\t\t\t\t, vm.show.overdue\r\n\t\t\t\t, vm.currentPage).then(function(data) {\r\n\t\t\t\t\tvm.total = data.total;\r\n\t\t\t\t\tvm.currentPage = data.current_page;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < data.data.length; i++) {\r\n\t\t\t\t\t\tdata.data[i].created_at = new Date(data.data[i].created_at);\r\n\t\t\t\t\t\tdata.data[i].expired_at = new Date(data.data[i].expired_at); \r\n\t\t\t\t\t\tvar expired = data.data[i].expired_at;\r\n\t\t\t\t\t\tvar timeDiff = Math.abs(vm.now.getTime() - expired.getTime());\r\n\t\t\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\t\t\tdata.data[i].remaining = diffDays;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tvm.tasks = data.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tvm.pagging = function() {\r\n\t\t\tTaskService.retrive(vm.selectedNode.userId\r\n\t\t\t\t, vm.selectedNode.jobId\r\n\t\t\t\t, vm.showLimit\r\n\t\t\t\t, vm.show.progress\r\n\t\t\t\t, vm.show.complete\r\n\t\t\t\t, vm.show.overdue\r\n\t\t\t\t, vm.currentPage).then(function(data) {\r\n\t\t\t\t\tvm.total = data.total;\r\n\t\t\t\t\tvm.currentPage = data.current_page;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < data.data.length; i++) {\r\n\t\t\t\t\t\tdata.data[i].created_at = new Date(data.data[i].created_at);\r\n\t\t\t\t\t\tdata.data[i].expired_at = new Date(data.data[i].expired_at);\r\n\t\t\t\t\t\tvar expired = data.data[i].expired_at;\r\n\t\t\t\t\t\tvar timeDiff = Math.abs(vm.now.getTime() - expired.getTime());\r\n\t\t\t\t\t\tvar diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\r\n\t\t\t\t\t\tdata.data[i].remaining = diffDays;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tvm.tasks = data.data;\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tvm.detail = function (work) {\r\n\t\t\t\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/user/task/views/modal.html',\r\n\t\t\t\tcontroller: 'SubordinatTaskController',\r\n\t\t\t\tsize: 'lg',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\ttask: function () {\r\n\t\t\t\t\t\treturn work;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function (groupJobs) {\r\n\t\t\t\t//$rootScope.pushIfUnique(vm.input.groupJobs, groupJobs)\r\n\t\t\t\t\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction SubordinatTaskController ($scope, $modalInstance, task, TaskService, UserService, JobService, WorkService) {\r\n\t\t$scope.tasks = task;\r\n\t\t$scope.users = {}\r\n\t\t$scope.jobs = {}\r\n\t\t$scope.Works = {}\r\n\t\r\n\t\t\r\n\t\tUserService.show($scope.tasks.user_id).then(function (data) {\r\n\t\t\t$scope.tasks.users = data;\r\n\t\t\treturn JobService.show($scope.tasks.job_id);\r\n\t\t}).then(function (data) {\r\n\t\t\t$scope.tasks.jobs = data;\r\n\t\t\treturn WorkService.show($scope.tasks.work_id)\r\n\t\t}).then(function (data) {\r\n\t\t\t$scope.tasks.works = data;\r\n\t\t})\t\r\n\t\r\n\t\t$scope.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\r\n\t\t\r\n\t}\r\n\r\n})();\r\n\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(ProjectRouter)\r\n\t\r\n\tfunction ProjectRouter($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.user.project', {\r\n\t\t\t\turl: '/project',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/project/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'UserProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tprojects: function ( ProjectService ) {\r\n\t\t\t\t\t\treturn ProjectService.user();\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.user.project.detail', {\r\n\t\t\t\turl: '/:projectId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.user': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/project/views/detail.html',\r\n\t\t\t\t\t\tcontroller: 'DetailUserProjectController',\r\n\t\t\t\t\t\tcontrollerAs: 'vm',\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tproject: function ($stateParams, ProjectService) {\r\n\t\t\t\t\t\treturn ProjectService.showLast($stateParams.projectId);\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t.state('main.user.project.detail.form', {\r\n\t\t\t\turl: '/:formId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.user': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/project/views/upload.html',\r\n\t\t\t\t\t\tcontroller: 'FormDetailUserProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tform: function($stateParams, ProjectService) {\r\n\t\t\t\t\t\treturn ProjectService.form($stateParams.formId);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproject: function($stateParams, ProjectService) {\r\n\t\t\t\t\t\treturn ProjectService.leader($stateParams.projectId)\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.directive('userNodeList', ['$compile', userNodeList])\r\n\t\t.directive('userNode', ['$compile', userNode])\r\n\t\t.directive('userNodeFormList', ['$compile', userNodeFormList])\r\n\t\t\r\n\tfunction userNodeList ($compile) {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tterminal: true,\r\n\t\t\treplace: true,\r\n\t\t\ttransclude: true,\r\n\t\t\tscope: {\r\n\t\t\t\tnodes: '=ngModel',\r\n\t\t\t\tnode: '=',\r\n\t\t\t\tusers: '=',\r\n\t\t\t\tnodeController: '@',\r\n\t\t\t\tparentIndex: '@'\r\n\t\t\t},\r\n\t\t\tcontroller: '@',\r\n\t\t\tname: 'nodeController',\r\n\t\t\tlink: function ($scope, $element, $attrs) {\r\n\r\n\t\t\t\t$scope.template = ''\r\n\t\t\t\t\t+ '<accordion close-others=\"false\">'\r\n\t\t\t\t\t\t+ '<user-node ng-repeat=\"item in nodes track by $index\" ng-model=\"item\" nodes=\"nodes\" node-index=\"$index + 1\" parent-index=\"' + $scope.parentIndex + '\"  users=\"users\" node-controller=\"' + $scope.nodeController + '\"></user-node>'\r\n\t\t\t\t\t+ '</accordion>'\r\n\t\r\n\t\t\t\t//console.log($scope.template)\r\n\t\t\t\tif (angular.isArray($scope.nodes)) {\r\n\t\t\t\t\t$element.append($scope.template);\r\n\t\t\t\t} \r\n\t\t\t\t$compile($element.contents())($scope.$new());\r\n\t\t\t}, \r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction userNode ($compile) {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tterminal: true,\r\n\t\t\treplace: true,\r\n\t\t\ttransclude: true,\r\n\t\t\tscope: {\r\n\t\t\t\tnode: '=ngModel',\r\n\t\t\t\tnodes: '=',\r\n\t\t\t\tusers: '=',\r\n\t\t\t\tnodeController: '@',\r\n\t\t\t\tnodeIndex: '=',\r\n\t\t\t\tparentIndex: '@'\r\n\t\t\t},\r\n\t\t\tcontroller: '@',\r\n\t\t\tname: 'nodeController',\r\n\t\r\n\t\t\tlink: function ($scope, $element, $attrs) {\r\n\r\n\t\t\t\tif ($scope.parentIndex == 'undefined') {\r\n\t\t\t\t\t$scope.parentIndexString = ''\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$scope.parentIndexString = $scope.parentIndex + '.'\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t$scope.parentIndexStringNode = $scope.parentIndexString + $scope.nodeIndex\r\n\t\t\t\t\r\n\t\t\t\tif (angular.isArray($scope.node.children) && $scope.node.children.length > 0) {\r\n\t\t\t\t\t$scope.template = ''\r\n\t\t\t\t\t\t+ '<div style=\"margin-top: 5px;\">'\r\n\t\t\t\t\t\t\t+ '<accordion-group is-open=\"node.open\">'\r\n\t\t\t\t\t\t\t\t+ '<accordion-heading>'\r\n\t\t\t\t\t\t\t\t\t+ '<i class=\"pull-left glyphicon\" ng-class=\"{'\r\n\t\t\t\t\t\t\t\t\t\t+ '\\'glyphicon-chevron-down\\': node.open,'\r\n\t\t\t\t\t\t\t\t\t\t+ '\\'glyphicon-chevron-right\\': !node.open}\">'\r\n\t\t\t\t\t\t\t\t\t+ '</i>&nbsp;'\r\n\t\t\t\t\t\t\t\t\t+ '{{ parentIndexString }}{{ nodeIndex }}. {{node.header}}'\r\n\t\t\t\t\t\t\t\t+ '</accordion-heading>'\r\n\t\r\n\t\t\t\t\t\t\t\t+ '<div class=\"row\">'\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-7\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<h3>{{ parentIndexString }}{{ nodeIndex }}. {{ node.header }}</h3>'\r\n\t\t\t\t\t\t\t\t\t\t+ '<h3>Deskripsi</h3>'\r\n\t\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-12\">'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<p>{{ node.description }}</p>'\r\n\t\t\t\t\t\t\t\t\t\t+ '</div><br/>'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-5\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel panel-default\">'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-heading clearfix\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-title pull-left\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ 'Delegation'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-title pull-right\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<button ng-if=\"isLeaderLocal\" ng-click=\"delegateNode(node)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-plus fa-xs\"></i></button>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-body\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"list-group\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<a href=\"\" ng-click=\"detail(work)\" class=\"list-group-item\" ng-repeat=\"object in node.delegations\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<i class=\"fa\" ng-class=\"{'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '\\'fa-user\\': object.id !== ' + $scope.isLeader + ','\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '\\'fa-star\\': object.id == ' + $scope.isLeader \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '}\"></i>&nbsp;{{ object.name }}'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</a>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t\t\t\t+ '<div ng-if=\"node.forms\">'\r\n\t\t\t\t\t\t\t\t\t+ '<node-form-list ng-model=\"node\" node-controller=\"' + $scope.nodeController + '\"></node-form-list>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '<user-node-list ng-model=\"node.children\" node=\"node\" users=\"users\" node-controller=\"' + $scope.nodeController + '\" parent-index=\"' + $scope.parentIndexStringNode + '\"></user-node-list>'\r\n\t\t\t\t\t\t\t+ '</accordion-group>'\r\n\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t$element.append($scope.template);\r\n\t\r\n\t\t\t\t} else {\r\n\t\r\n\t\t\t\t\t$scope.template = ''\r\n\t\t\t\t\t\t+ '<div style=\"margin-top: 5px;\">'\r\n\t\t\t\t\t\t\t+ '<accordion-group>'\r\n\t\t\t\t\t\t\t\t+ '<accordion-heading>'\r\n\t\t\t\t\t\t\t\t\t+ '<i class=\"pull-left glyphicon\" ng-class=\"{'\r\n\t\t\t\t\t\t\t\t\t\t+ '\\'glyphicon-chevron-down\\': node.open,'\r\n\t\t\t\t\t\t\t\t\t\t+ '\\'glyphicon-chevron-right\\': !node.open}\">'\r\n\t\t\t\t\t\t\t\t\t+ '</i>&nbsp;'\r\n\t\t\t\t\t\t\t\t\t+ '{{ parentIndexString }}{{ nodeIndex }}. {{node.header}}'\r\n\t\t\t\t\t\t\t\t+ '</accordion-heading>'\r\n\t\r\n\t\t\t\t\t\t\t\t+ '<div class=\"row\">'\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-7\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<h3>{{ parentIndexString }}{{ nodeIndex }}. {{ node.header }}</h3>'\r\n\t\t\t\t\t\t\t\t\t\t+ '<h3>Deskripsi</h3>'\r\n\t\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-12\">'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<p>{{ node.description }}</p>'\r\n\t\t\t\t\t\t\t\t\t\t+ '</div><br/>'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-5\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel panel-default\">'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-heading clearfix\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-title pull-left\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ 'Delegation'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-title pull-right\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<button ng-if=\"isLeaderLocal\" ng-click=\"delegateNode(node)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-plus fa-xs\"></i></button>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"panel-body\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"list-group\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<a href=\"\" ng-click=\"detail(work)\" class=\"list-group-item\" ng-repeat=\"object in node.delegations\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<i class=\"fa\" ng-class=\"{'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '\\'fa-user\\': object.id !== ' + $scope.isLeader + ','\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '\\'fa-star\\': object.id == ' + $scope.isLeader \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '}\"></i>&nbsp;{{ object.name }}'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</a>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\r\n\t\t\t\t\t\t\t\t+ '<div ng-if=\"node.forms\">'\r\n\t\t\t\t\t\t\t\t\t+ '<user-node-form-list ng-model=\"node\" node-controller=\"' + $scope.nodeController + '\"></node-form-list>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '<user-node-list ng-model=\"node.children\" node=\"node\" users=\"users\" node-controller=\"' + $scope.nodeController + '\" parent-index=\"' + $scope.parentIndexStringNode + '\"></user-node-list>'\r\n\t\t\t\t\t\t\t+ '</accordion-group>'\r\n\t\t\t\t\t\t+ '</div>'\r\n\t\r\n\t\t\t\t\t$element.append($scope.template);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t$compile($element.contents())($scope.$new());\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction userNodeFormList ($compile) {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tterminal: true,\r\n\t\t\treplace: true,\r\n\t\t\ttransclude: true,\r\n\t\t\tscope: {\r\n\t\t\t\tnode: '=ngModel',\r\n\t\t\t\tnodes: '=',\r\n\t\t\t\tnodeController: '@',\r\n\t\t\t},\r\n\t\t\tcontroller: '@',\r\n\t\t\tname: 'nodeController',\r\n\t\t\tlink: function ($scope, $element, $attrs) {\r\n\t\r\n\t\t\t\t$scope.template = ''\r\n\t\t\t\t\t+ '<div class=\"row\">'\r\n\t\t\t\t\t\t+ '<div class=\"col-lg-12\">'\r\n\t\t\t\t\t\t\t+ '<h3>Formulir</h3>'\r\n\t\t\t\t\t\t\t+ '<div class=\"row\">'\r\n\t\t\t\t\t\t\t\t+ '<div class=\"col-md-6\">'\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"form-group has-feedback\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<label class=\"control-label\">Bobot Pekerjaan:&nbsp;</label>'\r\n\t\t\t\t\t\t\t\t\t\t+ '{{ node.weight }}'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t+ '<div class=\"panel panel-default\">'\r\n\t\t\t\t\t\t\t\t+ '<div class=\"panel-heading clearfix\">'\r\n\t\t\t\t\t\t\t\t\t+ '<label class=\"control-label\">Dafar Formulir Penugasan</label>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '<div class=\"panel-body\">'\r\n\t\t\t\t\t\t\t\t\t+ '<div class=\"row\">'\r\n\t\t\t\t\t\t\t\t\t\t+ '<div class=\"col-md-12\">'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<div class=\"table-responsive\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '<table class=\"table table-hover\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<thead>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<tr>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th>#</th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th><a href=\"\" ng-click=\"sortField = \\'name\\'\t; reverse = !reverse\">Formulir</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th><a href=\"\" ng-click=\"sortField = \\'uploader\\'; reverse = !reverse\">Uploader</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th><a href=\"\" ng-click=\"sortField = \\'date\\'\t; reverse = !reverse\">Date Upload</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th>Action</th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</tr>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</thead>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<tbody>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<tr ng-repeat=\"object in node.forms | filter:query |   orderBy:sortField:reverse track by $index\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td>{{ $index + 1 }}</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td>{{ object.description }}</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td>{{ object.uploads.users.name }}</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td>{{ object.uploads.created_at | date:\\'dd-MM-yyyy hh:mm\\' }}</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<button ng-if=\"isDelegate\" popover=\"Detail\" popover-trigger=\"mouseenter\" ng-click=\"detailForm(object.project_form_item_id)\" class=\"btn btn-info btn-xs\"><i class=\"fa fa-search\"></i></button>&nbsp;'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</tr>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</tbody>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ '</table>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t\t\t+ '<pre>{{ isDelegate | json }}</pre>'\r\n\t\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t\t+ '</div>'\r\n\t\t\t\t\t+ '</div>\t'\r\n\t\r\n\t\t\t\t$element.append($scope.template);\r\n\t\r\n\t\t\t\t$compile($element.contents())($scope.$new());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();\n(function () {\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('UserProjectController', UserProjectController)\r\n\t\t.controller('DetailUserProjectController', ['$state', 'project', '$timeout', '$modal', 'CURRENT_USER', 'ProjectService', DetailUserProjectController])\r\n\t\t.controller('NodeUserProjectController', NodeUserProjectController)\r\n\t\t.controller('ModalDetailUserProjectController', ModalDetailUserProjectController)\r\n\t\t.controller('FormDetailUserProjectController', FormDetailUserProjectController)\r\n\t\r\n\tfunction showStatus(start, ended, status) {\r\n\t\t\tvar now = new Date();\r\n\t\t\t\r\n\t\t\tstart = new Date(start);\r\n\t\t\tended = new Date(ended);\r\n\t\t\t\r\n\t\t\tif (start > now && status == 1) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 1,\r\n\t\t\t\t\ttext : 'Preparation',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (start < now && ended > now && status == 1) {\r\n\t\t\t\treturn { \r\n\t\t\t\t\tcode: 2,\r\n\t\t\t\t\ttext: 'On Progress',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (ended < now && status == 1) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 3,\r\n\t\t\t\t\ttext: 'Waiting for Scoring',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (status == 2) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 4,\r\n\t\t\t\t\ttext: 'Complete',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (status == 3) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 5,\r\n\t\t\t\t\ttext: 'Terminated',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tfunction UserProjectController($state, projects, ProjectService) {\r\n\t\tvar vm = this;\r\n\t\tvm.projects = projects;\r\n\t\r\n\t\tvm.detail = function (request) {\r\n\t\t\t$state.go('main.user.project.detail', {projectId: request})\r\n\t\t}\r\n\t\t\r\n\t\tvm.showStatus = showStatus;\r\n\t\t\r\n\t\t\r\n\t\treturn vm;\r\n\t\r\n\t}\r\n\t\r\n\tfunction DetailUserProjectController($state, project, $timeout, $modal, ProjectService) {\r\n\t\t//console.log(project);\r\n\t\r\n\t\tvar vm = this;\r\n\t\tvm.input = project;\r\n\t\r\n\t\tvm.status = {}\r\n\t\tvm.project_id = {}\r\n\t\t\r\n\t\tvm.input.start = new Date(vm.input.date_start);\r\n\t\tvm.input.ended = new Date(vm.input.date_ended);\r\n\t\t\r\n\t\tswitch (showStatus(vm.input.start, vm.input.ended, vm.input.status).code) {\r\n\t\t\tcase 1: vm.phase = '2'; break;\r\n\t\t\tcase 2: vm.phase = '4'; break;\r\n\t\t\tcase 3: vm.phase = '6'; break;\r\n\t\t\tcase 4: vm.phase = '6'; break;\r\n\t\t\tcase 5: vm.phase = '6'; break;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tvar recursiveChecking = function(node) {\r\n\t\t\tfor (var i = 0 ; i < node.length ; i++) {\r\n\t\t\t\tif (node[i].children.length > 0) {\r\n\t\t\t\t\trecursiveChecking(node[i].children)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor(var j = 0 ; j < node[i].forms.length ; j++) {\r\n\t\t\t\t\t\tif(node[i].forms[j].uploads) {\r\n\t\t\t\t\t\t\tvar time = new Date(node[i].forms[j].uploads.created_at)\r\n\t\t\t\t\t\t\ttime.addHours(7)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tnode[i].forms[j].uploads.created_at = time\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var j = 0 ; j < node[i].delegations.length ; j++) {\r\n\t\t\t\t\t\tif(node[i].delegations[j].id == ProjectService.userId) {\r\n\t\t\t\t\t\t\tnode[i].isDelegate = true\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\trecursiveChecking(vm.input.projects)\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tvm.back = function() {\r\n\t\t\t$state.go('main.user.project');\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\t\r\n\tfunction NodeUserProjectController($scope, $state, $modal, ProjectService, CURRENT_USER) {\r\n\t\t\r\n\t\tconsole.log($scope.users); //users only triggerd once\r\n\t\t\r\n\t\tif ( typeof $scope.users !== \"undefined\" ) {\r\n\t\t\tfor ( var i = 0; i < $scope.users.length; i++ ) {\r\n\t\t\t\tif ( $scope.users[i].leader == true ) {\r\n\t\t\t\t\t$scope.isLeader = $scope.users[i].id;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//check if current user is leader\r\n\t\t//console.log($scope.isLeader);\r\n\t\t//console.log(CURRENT_USER.id);\r\n\t\tif ($scope.isLeader === CURRENT_USER.id) {\r\n\t\t\t$scope.isLeaderLocal = true ;\r\n\t\t} else {\r\n\t\t\t $scope.isLeaderLocal = false;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\tif(typeof $scope.node !== \"undefined\") {\r\n\t\t\tif (typeof $scope.node.delegations !== \"undefined\") {\r\n\t\t\t\tvar counter = 0;\r\n\t\t\t\tfor ( var i = 0; i < $scope.node.delegations.length; i++ ){\r\n\t\t\t\t\tif( CURRENT_USER.id === $scope.node.delegations[i].id ) {\r\n\t\t\t\t\t\t$scope.isDelegate = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( counter === $scope.node.delegations.length ) {\r\n\t\t\t\t\t$scope.isDelegate = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$scope.inheritDelegation = function(nodes, delegations) {\r\n\t\t\tfor (var i = 0; i < nodes.length; i++) {\r\n\t\t\t\tnodes[i].delegations = [];\r\n\t\t\t\tfor (var j = 0; j < delegations.length; j++) {\r\n\t\t\t\t\tnodes[i].delegations.push(delegations[j]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$scope.inheritDelegation(nodes[i].children, delegations);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\r\n\t\t$scope.delegateNode = function(node) {\r\n\t\t\tvar projectId = node.id; //get project node id to send after delegations\r\n\t\t\t\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimate: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/user/views/modal.html',\r\n\t\t\t\tcontroller: 'ModalDetailUserProjectController as vm',\r\n\t\t\t\tsize: 'lg',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: function() {\r\n\t\t\t\t\t\treturn $scope.users;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdelegations: function () {\r\n\t\t\t\t\t\treturn node.delegations\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tproject_id: projectId,\r\n\t\t\t\t\tdelegations: result.users,\r\n\t\t\t\t\tinherit: result.inherit,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tProjectService.delegate(data).then(function(data) {\r\n\t\t\t\t\tnode.delegations = result.users;\r\n\t\t\t\t\tif (result.inherit == true) {\r\n\t\t\t\t\t\t$scope.inheritDelegation(node.children, result.users);\r\n\t\t\t\t\t}\r\n\t\t\t\t\talert('Project Ini berhasil didelegasikan')\r\n\t\t\t\t}, function() {})\r\n\t\t\t\t\r\n\t\t\t}, function () {})\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t$scope.detailForm = function(formId){\r\n\t\t\t$state.go('main.user.project.detail.form', {formId: formId})\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction ModalDetailUserProjectController($timeout, $modalInstance, users, delegations) {\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\tvm.useInherit = true\t//configuration for allows inherit delegation\r\n\t\tvm.leader = {}\t\t\t//leader for this project\r\n\t\tvm.users = [] \t\t\t//all users that colaborate on this project\r\n\t\tvm.delegations = [] \t//users that already delegate before on this project node\r\n\t\tvm.input = {}\t\t\t//variable for return from this modal\r\n\t\t\r\n\t\t//console.log(delegations);\r\n\t\t\r\n\t\t//check inheritance configuration is undefined or defined\r\n\t\tif (vm.inherit) {\r\n\t\t\tvm.inherit = true;\r\n\t\t} else {\r\n\t\t\tvm.inherit = false;\r\n\t\t}\r\n\t\t\r\n\t\t//remove leader form users and delegations so he/she cannot be undelegetae\r\n\t\tfor (var i = 0; i < users.length; i++ ) {\r\n\t\t\tif ( users[i].leader == true ) {\r\n\t\t\t\tvm.leader = users[i];\t\t\r\n\t\t\t} else {\r\n\t\t\t\tvm.users.push(users[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i = 0; i < delegations.length; i++ ) {\r\n\t\t\tif ( delegations[i].id !== vm.leader.id ) {\r\n\t\t\t\tvm.delegations.push(delegations[i]);\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//remove user check before checking user that already delegate\r\n\t\tfor (var i = 0; i < vm.users.length; i++) {\r\n\t\t\tvm.users[i].check = false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//check users if already delegate\r\n\t\tfor (var i = 0 ; i < vm.users.length; i++ ) {\r\n\t\t\tfor ( var j = 0; j < vm.delegations.length; j++ ) {\r\n\t\t\t\tif ( vm.users[i].id == vm.delegations[j].id ) {\r\n\t\t\t\t\tvm.users[i].check = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//set default message when popup shows\r\n\t\tvm.selected = vm.delegations.length + ' user selected from ' + vm.users.length\r\n\t\t\r\n\t\r\n\t\tvm.checkAll = function() {\r\n\t\t\tif (vm.checked) {\r\n\t\t\t\tfor ( var i = 0 ; i < vm.users.length; i++ ) {\r\n\t\t\t\t\tvm.users[i].check = true;\r\n\t\t\t\t}\r\n\t\t\t\tvm.selected = vm.users.length + ' user selected from ' + vm.users.length\r\n\t\t\t} else {\r\n\t\t\t\tfor ( var i = 0 ; i < vm.users.length; i++ ) {\r\n\t\t\t\t\tvm.users[i].check = false;\r\n\t\t\t\t}\r\n\t\t\t\tvm.selected = 0 + ' user selected from ' + vm.users.length\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tvm.checkCustom = function() {\r\n\t\t\t//if all users is selected global check turn true\r\n\t\t\tvar counter = 0;\r\n\t\t\tfor ( var i = 0; i < vm.users.length; i++ ) {\r\n\t\t\t\tif ( vm.users[i].check == true ) {\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( counter == vm.users.length ) {\r\n\t\t\t\tvm.checked = true;\r\n\t\t\t} else {\r\n\t\t\t\tvm.checked = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvm.selected = counter + ' user selected from ' + vm.users.length\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\tvm.input = {}\r\n\t\t\tvm.input.users = []\r\n\t\t\t\r\n\t\t\tvm.input.inherit = vm.inherit;\t//return inheritance configuration\r\n\t\t\tvm.input.users.push(vm.leader); //push leader back to project\r\n\t\t\t\r\n\t\t\t//push all checked users on list;\r\n\t\t\tfor ( var i = 0; i < vm.users.length; i++ ) {\r\n\t\t\t\tif ( vm.users[i].check == true ) {\r\n\t\t\t\t\tvm.input.users.push(vm.users[i]);\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\r\n\t\t\t$modalInstance.close(vm.input)\r\n\t\t}\r\n\t\r\n\t\tvm.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\t\r\n\t\tvm.checkCustom(); //check if all users is delegate for set global check\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction FormDetailUserProjectController($scope, $state, $timeout, form, project, CURRENT_USER, ProjectService) {\r\n\t\tconsole.log(form)\r\n\t\tconsole.log(project)\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\t\r\n\t\tvm.form = form;\r\n\t\tvm.project = project\r\n\t\tvm.leader = project.leader\r\n\t\tvm.projectFormItemId = null\r\n\t\t\r\n\t\tfor (var i = 0 ; i < vm.form.uploads.length ; i++) {\r\n\t\t\tconsole.log(vm.form.uploads[i])\r\n\t\t\t\r\n\t\t\tif (vm.projectFormItemId === null)\r\n\t\t\tvm.projectFormItemId = vm.form.uploads[i].project_form_item_id;\r\n\t\t\t\r\n\t\t\tvar time = new Date(vm.form.uploads[i].created_at)\r\n\t\t\ttime.addHours(7)\r\n\t\t\tvm.form.uploads[i].created_at = time\r\n\t\t}\r\n\t\t\r\n\t\tvm.sortField = 'created_at';\r\n\t\tvm.reverse = true;\r\n\t\t\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tvm.upload = function() {\r\n\t\t\t\r\n\t\t\t//vm.input.user_id = CURRENT_USER.id;\r\n\t\t\tconsole.log(vm.form.id)\r\n\t\t\tvm.input.project_form_item_id = vm.form.id\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tProjectService.upload(vm.input).then(function(data) {\r\n\t\t\t\talert('Upload Success');\r\n\t\t\t\tvm.form.uploads.push(data);\r\n\t\t\t}, function() {\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\r\n\r\n\n\n(function(){\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.config(EndUserRoute)\r\n\t\t\r\n\tfunction EndUserRoute($stateProvider){\r\n\t\r\n\t\t$stateProvider.state('main.user', {\r\n\t\t\turl:'user',\r\n\t\t\tparent: 'main',\r\n\t\t\tviews: {\r\n\t\t\t\t'@': {\r\n\t\t\t\t\ttemplateUrl: 'app/user/dashboard/views/main.html',\r\n\t\t\t\t\tcontroller: 'EndUserController as user'\r\n\t\t\t\t},\r\n\t\t\t\t'content@main.user': {\r\n\t\t\t\t\ttemplateUrl: 'app/user/dashboard/views/dashboard.html',\r\n\t\t\t\t\tcontroller: 'EndUserController as user',\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\ttype: ['1','2']\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.controller('EndUserController',  EndUserController)\t\r\n\t\t\r\n\tfunction EndUserController ($state, $auth, CURRENT_USER) {\r\n\t\tvar user = this;\r\n\t\tuser.debug = true\r\n\t\tuser.user = CURRENT_USER\r\n\t\r\n\t\tuser.logout = function(){\r\n\t\t\t$auth.logout().then(function(){\r\n\t\t\t\tCURRENT_USER = {}\r\n\t\t\t\t$state.go('login');\r\n\t\t\t}, function(response){})\r\n\t\t}\r\n\t\t\r\n\t\treturn user;\r\n\t}\t\r\n\t\r\n})();\r\n\r\n\r\n\r\n\n(function() {\n  'use strict';\n\n  angular\n      .module('spmiFrontEnd')\n      .service('webDevTec', webDevTec);\n\n  /** @ngInject */\n  function webDevTec() {\n    var data = [\n      {\n        'title': 'AngularJS',\n        'url': 'https://angularjs.org/',\n        'description': 'HTML enhanced for web apps!',\n        'logo': 'angular.png'\n      },\n      {\n        'title': 'BrowserSync',\n        'url': 'http://browsersync.io/',\n        'description': 'Time-saving synchronised browser testing.',\n        'logo': 'browsersync.png'\n      },\n      {\n        'title': 'GulpJS',\n        'url': 'http://gulpjs.com/',\n        'description': 'The streaming build system.',\n        'logo': 'gulp.png'\n      },\n      {\n        'title': 'Jasmine',\n        'url': 'http://jasmine.github.io/',\n        'description': 'Behavior-Driven JavaScript.',\n        'logo': 'jasmine.png'\n      },\n      {\n        'title': 'Karma',\n        'url': 'http://karma-runner.github.io/',\n        'description': 'Spectacular Test Runner for JavaScript.',\n        'logo': 'karma.png'\n      },\n      {\n        'title': 'Protractor',\n        'url': 'https://github.com/angular/protractor',\n        'description': 'End to end test framework for AngularJS applications built on top of WebDriverJS.',\n        'logo': 'protractor.png'\n      },\n      {\n        'title': 'Bootstrap',\n        'url': 'http://getbootstrap.com/',\n        'description': 'Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.',\n        'logo': 'bootstrap.png'\n      },\n      {\n        'title': 'Angular UI Bootstrap',\n        'url': 'http://angular-ui.github.io/bootstrap/',\n        'description': 'Bootstrap components written in pure AngularJS by the AngularUI Team.',\n        'logo': 'ui-bootstrap.png'\n      }\n    ];\n\n    this.getTec = getTec;\n\n    function getTec() {\n      return data;\n    }\n  }\n\n})();\n\n/*!\n * jsonformatter\n * \n * Version: 0.3.1 - 2015-08-21T22:35:19.035Z\n * License: MIT\n */\n\"use strict\";angular.module(\"jsonFormatter\",[\"RecursionHelper\"]).provider(\"JSONFormatterConfig\",function(){var n=!1,e=100,t=5;return{get hoverPreviewEnabled(){return n},set hoverPreviewEnabled(e){n=!!e},get hoverPreviewArrayCount(){return e},set hoverPreviewArrayCount(n){e=parseInt(n,10)},get hoverPreviewFieldCount(){return t},set hoverPreviewFieldCount(n){t=parseInt(n,10)},$get:function(){return{hoverPreviewEnabled:n,hoverPreviewArrayCount:e,hoverPreviewFieldCount:t}}}}).directive(\"jsonFormatter\",[\"RecursionHelper\",\"JSONFormatterConfig\",function(n,e){function t(n){return n.replace('\"','\"')}function r(n){if(void 0===n)return\"\";if(null===n)return\"Object\";if(\"object\"==typeof n&&!n.constructor)return\"Object\";var e=/function (.{1,})\\(/,t=e.exec(n.constructor.toString());return t&&t.length>1?t[1]:\"\"}function o(n){return null===n?\"null\":typeof n}function s(n,e){var r=o(n);return\"null\"===r||\"undefined\"===r?r:(\"string\"===r&&(e='\"'+t(e)+'\"'),\"function\"===r?n.toString().replace(/[\\r\\n]/g,\"\").replace(/\\{.*\\}/,\"\")+\"{}\":e)}function i(n){var e=\"\";return angular.isObject(n)?(e=r(n),angular.isArray(n)&&(e+=\"[\"+n.length+\"]\")):e=s(n,n),e}function a(n){n.isArray=function(){return angular.isArray(n.json)},n.isObject=function(){return angular.isObject(n.json)},n.getKeys=function(){return n.isObject()?Object.keys(n.json).map(function(n){return\"\"===n?'\"\"':n}):void 0},n.type=o(n.json),n.hasKey=\"undefined\"!=typeof n.key,n.getConstructorName=function(){return r(n.json)},\"string\"===n.type&&(\"Invalid Date\"!==new Date(n.json).toString()&&(n.isDate=!0),0===n.json.indexOf(\"http\")&&(n.isUrl=!0)),n.isEmptyObject=function(){return n.getKeys()&&!n.getKeys().length&&n.isOpen&&!n.isArray()},n.isOpen=!!n.open,n.toggleOpen=function(){n.isOpen=!n.isOpen},n.childrenOpen=function(){return n.open>1?n.open-1:0},n.openLink=function(e){e&&(window.location.href=n.json)},n.parseValue=function(e){return s(n.json,e)},n.showThumbnail=function(){return!!e.hoverPreviewEnabled&&n.isObject()&&!n.isOpen},n.getThumbnail=function(){if(n.isArray())return n.json.length>e.hoverPreviewArrayCount?\"Array[\"+n.json.length+\"]\":\"[\"+n.json.map(i).join(\", \")+\"]\";var t=n.getKeys(),r=t.slice(0,e.hoverPreviewFieldCount),o=r.map(function(e){return e+\":\"+i(n.json[e])}),s=t.length>=5?\"\":\"\";return\"{\"+o.join(\", \")+s+\"}\"}}return{templateUrl:\"json-formatter.html\",restrict:\"E\",replace:!0,scope:{json:\"=\",key:\"=\",open:\"=\"},compile:function(e){return n.compile(e,a)}}}]),\"object\"==typeof module&&(module.exports=\"jsonFormatter\"),angular.module(\"RecursionHelper\",[]).factory(\"RecursionHelper\",[\"$compile\",function(n){return{compile:function(e,t){angular.isFunction(t)&&(t={post:t});var r,o=e.contents().remove();return{pre:t&&t.pre?t.pre:null,post:function(e,s){r||(r=n(o)),r(e,function(n){s.append(n)}),t&&t.post&&t.post.apply(null,arguments)}}}}}]),angular.module(\"jsonFormatter\").run([\"$templateCache\",function(n){n.put(\"json-formatter.html\",'<div ng-init=\"isOpen = open && open > 0\" class=\"json-formatter-row\"><a ng-click=\"toggleOpen()\"><span class=\"toggler {{isOpen ? \\'open\\' : \\'\\'}}\" ng-if=\"isObject()\"></span> <span class=\"key\" ng-if=\"hasKey\">{{key}}:</span> <span class=\"value\"><span ng-if=\"isObject()\"><span class=\"constructor-name\">{{getConstructorName(json)}}</span> <span ng-if=\"isArray()\"><span class=\"bracket\">[</span><span class=\"number\">{{json.length}}</span><span class=\"bracket\">]</span></span></span> <span ng-if=\"!isObject()\" ng-click=\"openLink(isUrl)\" class=\"{{type}}\" ng-class=\"{date: isDate, url: isUrl}\">{{parseValue(json)}}</span></span> <span ng-if=\"showThumbnail()\" class=\"thumbnail-text\">{{getThumbnail()}}</span></a><div class=\"children\" ng-if=\"getKeys().length && isOpen\"><json-formatter ng-repeat=\"key in getKeys() track by $index\" json=\"json[key]\" key=\"key\" open=\"childrenOpen()\"></json-formatter></div><div class=\"children empty object\" ng-if=\"isEmptyObject()\"></div><div class=\"children empty array\" ng-if=\"getKeys() && !getKeys().length && isOpen && isArray()\"></div></div>')}]);\n(function() {\n    'use strict'\n\n    angular.module('angularBootstrapNavTree', []);\n\n    angular.module('angularBootstrapNavTree')\n    \n    .directive('abnTree', [\n        '$timeout', function($timeout) {\n        return {\n            restrict: 'E',\n            template: \"\" \n                + \"<ul class=\\\"nav nav-list nav-pills nav-stacked abn-tree\\\">\"\n                    + \"<li ng-repeat=\\\"row in tree_rows | filter:{visible:true} track by row.branch.uid\\\" ng-animate=\\\"'abn-tree-animate'\\\" ng-class=\\\"'level-' + {{ row.level }} + (row.branch.selected ? ' active':'')\\\" class=\\\"abn-tree-row\\\">\"\n                        + \"<a>\"\n                            + \"<i ng-class=\\\"row.tree_icon\\\" ng-click=\\\"row.branch.expanded = !row.branch.expanded\\\" class=\\\"indented tree-icon\\\"></i>\"\n                            + \"<i ng-class=\\\"{'fa fa-user': row.type == 'user', 'fa fa-briefcase': row.type == 'job'}\\\" class=\\\"indented tree-icon\\\"></i>\"\n                            + \"<span class=\\\"indented tree-label\\\" ng-click=\\\"user_clicks_branch(row.branch)\\\">{{ row.label }}</span>\"\n                        + \"</a>\"\n                    + \"</li>\"\n                + \"</ul>\",\n            replace: true,\n            scope: {\n                treeData: '=',\n                onSelect: '&',\n                initialSelection: '@',\n                treeControl: '='\n            },\n\n            link: function(scope, element, attrs) {\n                \n                var error, expand_all_parents, expand_level, for_all_ancestors, for_each_branch, get_parent, n, on_treeData_change, select_branch, selected_branch, tree;\n                \n                error = function(s) {\n                    console.log('ERROR:' + s);\n                    debugger;\n                    return void 0;\n                };\n          \n                if (attrs.iconExpand == null) {\n                    attrs.iconExpand = 'glyphicon glyphicon-plus  fa fa-plus';\n                }\n          \n                if (attrs.iconCollapse == null) {\n                    attrs.iconCollapse = 'glyphicon glyphicon-minus fa fa-minus';\n                }\n          \n                if (attrs.iconLeaf == null) {\n                    attrs.iconLeaf = '';\n                }\n          \n                if (attrs.expandLevel == null) {\n                    attrs.expandLevel = '3';\n                }\n          \n                expand_level = parseInt(attrs.expandLevel, 10);\n               \n                if (!scope.treeData) {\n                    alert('no treeData defined for the tree!');\n                    return;\n                }\n          \n                if (scope.treeData.length == null) {\n                    if (treeData.label != null) {\n                        scope.treeData = [treeData];\n                    } else {\n                        alert('treeData should be an array of root branches');\n                        return;\n                    }\n                }\n          \n                for_each_branch = function(f) {\n                    var do_f, root_branch, _i, _len, _ref, _results;\n\n                    do_f = function(branch, level) {\n                        var child, _i, _len, _ref, _results;\n                        f(branch, level);\n                        if (branch.children != null) {\n                            _ref = branch.children;\n                            _results = [];\n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                                child = _ref[_i];\n                                _results.push(do_f(child, level + 1));\n                            }\n                            return _results;\n                        }\n                    };\n                    \n                    _ref = scope.treeData;\n                    _results = [];\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                        root_branch = _ref[_i];\n                        _results.push(do_f(root_branch, 1));\n                    }\n                    return _results;\n                };\n          \n                selected_branch = null;\n                \n                select_branch = function(branch) {\n\n                    if (!branch) {\n                        if (selected_branch != null) {\n                            selected_branch.selected = false;\n                        }\n                        selected_branch = null;\n                        return;\n                    }\n            \n                    if (branch !== selected_branch) {\n                        if (selected_branch != null) {\n                            selected_branch.selected = false;\n                        }\n                        branch.selected = true;\n                        selected_branch = branch;\n                        expand_all_parents(branch);\n                        \n                        if (branch.onSelect != null) {\n                            return $timeout(function() {\n                                return branch.onSelect(branch);\n                            });\n                        } else {\n                            if (scope.onSelect != null) {\n                                return $timeout(function() {\n                                    return scope.onSelect({\n                                        branch: branch\n                                    });\n                                });\n                            }\n                        }\n                    }\n                };\n          \n                scope.user_clicks_branch = function(branch) {\n                    if (branch !== selected_branch) {\n                        return select_branch(branch);\n                    }\n                };\n          \n                get_parent = function(child) {\n                    var parent;\n                    parent = void 0;\n                    \n                    if (child.parent_uid) {\n                        for_each_branch(function(b) {\n                            if (b.uid === child.parent_uid) {\n                                return parent = b;\n                            }\n                        });\n                    }\n            \n                    return parent;\n                };\n          \n                for_all_ancestors = function(child, fn) {\n                    var parent;\n                    parent = get_parent(child);\n            \n                    if (parent != null) {\n                        fn(parent);\n                        return for_all_ancestors(parent, fn);\n                    }\n                };\n          \n                expand_all_parents = function(child) {\n                    return for_all_ancestors(child, function(b) {\n                        return b.expanded = true;\n                    });\n                };\n          \n                scope.tree_rows = [];\n\n                on_treeData_change = function() {\n                    var add_branch_to_list, root_branch, _i, _len, _ref, _results;\n                    \n                    for_each_branch(function(b, level) {\n                    \n                        if (!b.uid) {\n                            return b.uid = \"\" + Math.random();\n                        }\n                    });\n\n                    //console.log('UIDs are set.');\n        \n                    for_each_branch(function(b) {\n\n                        var child, _i, _len, _ref, _results;\n                        \n                        if (angular.isArray(b.children)) {\n                            _ref = b.children;\n                            _results = [];\n                            \n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                                child = _ref[_i];\n                                _results.push(child.parent_uid = b.uid);\n                            }\n                            return _results;\n                        }\n                    });\n\n                    scope.tree_rows = [];\n                \n                    for_each_branch(function(branch) {\n\n                        var child, f;\n                        \n                        if (branch.children) {\n                            if (branch.children.length > 0) {\n                                f = function(e) {\n                                    if (typeof e === 'string') {\n                                        return {\n                                            label: e,\n                                            children: []\n                                        };\n                                    } else {\n                                        return e;\n                                    }\n                                };\n                      \n                                return branch.children = (function() {\n                                    \n                                    var _i, _len, _ref, _results;\n                                    _ref = branch.children;\n                                    _results = [];\n                                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                                        child = _ref[_i];\n                                        _results.push(f(child));\n                                    }\n                            \n                                    return _results;\n                                })();\n                            }\n                        } else {\n                            return branch.children = [];\n                        }\n                    });\n\n\n                    add_branch_to_list = function(level, branch, visible) {\n                        var child, child_visible, tree_icon, _i, _len, _ref, _results;\n                  \n                        if (branch.expanded == null) {\n                            branch.expanded = false;\n                        }\n                  \n                        if (!branch.children || branch.children.length === 0) {\n                            tree_icon = attrs.iconLeaf;\n                        } else {\n                            if (branch.expanded) {\n                                tree_icon = attrs.iconCollapse;\n                            } else {\n                                tree_icon = attrs.iconExpand;\n                            }\n                        }\n\n                        scope.tree_rows.push({\n                            level: level,\n                            branch: branch,\n                            label: branch.label,\n                            type: branch.type,\n                            tree_icon: tree_icon,\n                            visible: visible\n                        });\n\n                        if (branch.children != null) {\n                            _ref = branch.children;\n                            _results = [];\n                            \n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                                child = _ref[_i];\n                                child_visible = visible && branch.expanded;\n                                _results.push(add_branch_to_list(level + 1, child, child_visible));\n                            }\n                            return _results;\n                        }\n                    };\n                \n                    _ref = scope.treeData;\n                    _results = [];\n                    \n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                        root_branch = _ref[_i];\n                        _results.push(add_branch_to_list(1, root_branch, true));\n                    }\n                    \n                    return _results;\n                };\n\n                scope.$watch('treeData', on_treeData_change, true);\n\n                if (attrs.initialSelection != null) {\n                    for_each_branch(function(b) {\n                        if (b.label === attrs.initialSelection) {\n                            return $timeout(function() {\n                                return select_branch(b);\n                            });\n                        }\n                    });\n                }\n          \n                n = scope.treeData.length;\n          //console.log('num root branches = ' + n);\n          for_each_branch(function(b, level) {\n            b.level = level;\n            return b.expanded = b.level < expand_level;\n          });\n          if (scope.treeControl != null) {\n            if (angular.isObject(scope.treeControl)) {\n              tree = scope.treeControl;\n              tree.expand_all = function() {\n                return for_each_branch(function(b, level) {\n                  return b.expanded = true;\n                });\n              };\n              tree.collapse_all = function() {\n                return for_each_branch(function(b, level) {\n                  return b.expanded = false;\n                });\n              };\n              tree.get_first_branch = function() {\n                n = scope.treeData.length;\n                if (n > 0) {\n                  return scope.treeData[0];\n                }\n              };\n              tree.select_first_branch = function() {\n                var b;\n                b = tree.get_first_branch();\n                return tree.select_branch(b);\n              };\n              tree.get_selected_branch = function() {\n                return selected_branch;\n              };\n              tree.get_parent_branch = function(b) {\n                return get_parent(b);\n              };\n              tree.select_branch = function(b) {\n                select_branch(b);\n                return b;\n              };\n              tree.get_children = function(b) {\n                return b.children;\n              };\n              tree.select_parent_branch = function(b) {\n                var p;\n                if (b == null) {\n                  b = tree.get_selected_branch();\n                }\n                if (b != null) {\n                  p = tree.get_parent_branch(b);\n                  if (p != null) {\n                    tree.select_branch(p);\n                    return p;\n                  }\n                }\n              };\n              tree.add_branch = function(parent, new_branch) {\n                if (parent != null) {\n                  parent.children.push(new_branch);\n                  parent.expanded = true;\n                } else {\n                  scope.treeData.push(new_branch);\n                }\n                return new_branch;\n              };\n              tree.add_root_branch = function(new_branch) {\n                tree.add_branch(null, new_branch);\n                return new_branch;\n              };\n              tree.expand_branch = function(b) {\n                if (b == null) {\n                  b = tree.get_selected_branch();\n                }\n                if (b != null) {\n                  b.expanded = true;\n                  return b;\n                }\n              };\n              tree.collapse_branch = function(b) {\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  b.expanded = false;\n                  return b;\n                }\n              };\n              tree.get_siblings = function(b) {\n                var p, siblings;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  p = tree.get_parent_branch(b);\n                  if (p) {\n                    siblings = p.children;\n                  } else {\n                    siblings = scope.treeData;\n                  }\n                  return siblings;\n                }\n              };\n              tree.get_next_sibling = function(b) {\n                var i, siblings;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  siblings = tree.get_siblings(b);\n                  n = siblings.length;\n                  i = siblings.indexOf(b);\n                  if (i < n) {\n                    return siblings[i + 1];\n                  }\n                }\n              };\n              tree.get_prev_sibling = function(b) {\n                var i, siblings;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                siblings = tree.get_siblings(b);\n                n = siblings.length;\n                i = siblings.indexOf(b);\n                if (i > 0) {\n                  return siblings[i - 1];\n                }\n              };\n              tree.select_next_sibling = function(b) {\n                var next;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  next = tree.get_next_sibling(b);\n                  if (next != null) {\n                    return tree.select_branch(next);\n                  }\n                }\n              };\n              tree.select_prev_sibling = function(b) {\n                var prev;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  prev = tree.get_prev_sibling(b);\n                  if (prev != null) {\n                    return tree.select_branch(prev);\n                  }\n                }\n              };\n              tree.get_first_child = function(b) {\n                var _ref;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  if (((_ref = b.children) != null ? _ref.length : void 0) > 0) {\n                    return b.children[0];\n                  }\n                }\n              };\n              tree.get_closest_ancestor_next_sibling = function(b) {\n                var next, parent;\n                next = tree.get_next_sibling(b);\n                if (next != null) {\n                  return next;\n                } else {\n                  parent = tree.get_parent_branch(b);\n                  return tree.get_closest_ancestor_next_sibling(parent);\n                }\n              };\n              tree.get_next_branch = function(b) {\n                var next;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  next = tree.get_first_child(b);\n                  if (next != null) {\n                    return next;\n                  } else {\n                    next = tree.get_closest_ancestor_next_sibling(b);\n                    return next;\n                  }\n                }\n              };\n              tree.select_next_branch = function(b) {\n                var next;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  next = tree.get_next_branch(b);\n                  if (next != null) {\n                    tree.select_branch(next);\n                    return next;\n                  }\n                }\n              };\n              tree.last_descendant = function(b) {\n                var last_child;\n                if (b == null) {\n                  debugger;\n                }\n                n = b.children.length;\n                if (n === 0) {\n                  return b;\n                } else {\n                  last_child = b.children[n - 1];\n                  return tree.last_descendant(last_child);\n                }\n              };\n              tree.get_prev_branch = function(b) {\n                var parent, prev_sibling;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  prev_sibling = tree.get_prev_sibling(b);\n                  if (prev_sibling != null) {\n                    return tree.last_descendant(prev_sibling);\n                  } else {\n                    parent = tree.get_parent_branch(b);\n                    return parent;\n                  }\n                }\n              };\n              return tree.select_prev_branch = function(b) {\n                var prev;\n                if (b == null) {\n                  b = selected_branch;\n                }\n                if (b != null) {\n                  prev = tree.get_prev_branch(b);\n                  if (prev != null) {\n                    tree.select_branch(prev);\n                    return prev;\n                  }\n                }\n              };\n            }\n          }\n        }\n      };\n        }\n    ]);\n    \n})();\n\n(function() {\r\n    'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\r\n\t\t.directive('nodeList', ['$compile', nodeList])\r\n\t\t.directive('node', ['$compile', node])\r\n\t\t.directive('nodeFormList', ['$compile', nodeFormList])\r\n    \r\n    function nodeList ($compile) {\r\n        return {\r\n            restrict: 'E',\t\t\t\t\t\t\t\t\t\t\t\t//PROJECT PHASE\r\n            terminal: true,\t\t\t\t\t\t\t\t\t\t\t\t// * 1 = Creation - Admin Stuff\r\n            replace: true,\t\t\t\t\t\t\t\t\t\t\t\t// * 2 = Delegation - User Stuff\r\n            transclude: true,\t\t\t\t\t\t\t\t\t\t\t// * 3 = Modification - Admin Stuff\r\n            scope: {\t\t\t\t\t\t\t\t\t\t\t\t\t// * 4 = Execution - User Stuff\r\n                nodes: '=ngModel',\t\t\t\t\t\t\t\t\t\t// * 5 = Assessment - Admin Stuff\r\n                node: '=',\t\t\t\t\t\t\t\t\t\t\t\t// * 6 = Completion - Admin Stuff\r\n\t\t\t\tusers: '=',                                             // * 7 = Termination - Admin Stuff\r\n\t\t\t\tphase: '=',\r\n                nodeController: '@',\r\n                parentIndex: '@'\r\n            },\r\n            controller: '@',\r\n            name: 'nodeController',\r\n            link: function ($scope, $element, $attrs) {\r\n    \r\n                $scope.template = ''\r\n                    + '<accordion close-others=\"false\">'\r\n                        + '<node ng-repeat=\"item in nodes track by $index\" ng-model=\"item\" nodes=\"nodes\" users=\"users\" phase=\"phase\" node-index=\"$index + 1\" parent-index=\"' + $scope.parentIndex + '\" node-controller=\"' + $scope.nodeController + '\"></node>'\r\n                        //button for add project node or project node form only available when Creation or Modification\r\n                        + '<div ng-if=\"phase == \\'1\\' || phase == \\'3\\'\" class=\"pull-left\" style=\"margin-top: 5px;\">'\r\n                            + '<button ng-if=\"!node.forms\" ng-click=\"create(nodes)\" class=\"btn btn-primary\"><i class=\"fa fa-plus\"></i></button>&nbsp;'\r\n                            + '<button ng-if=\"parentIndex && !nodes.length && !node.forms\" ng-click=\"createNodeForm(node)\" class=\"btn btn-warning\"><i class=\"fa fa-file-text-o\"></i></button>'\r\n                        + '</div>'\r\n                    + '</accordion>'\r\n    \r\n                if (angular.isArray($scope.nodes)) {\r\n                    $element.append($scope.template);\r\n                } \r\n                $compile($element.contents())($scope.$new());\r\n            }, \r\n        };\r\n    }\r\n    \r\n    function node ($compile) {\r\n        return {\r\n            restrict: 'E',\r\n            terminal: true,\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n                node: '=ngModel',\r\n                nodes: '=',\r\n                users: '=',\r\n                phase: '=',\r\n                nodeController: '@',\r\n                nodeIndex: '=',\r\n                parentIndex: '@'\r\n            },\r\n            controller: '@',\r\n            name: 'nodeController',\r\n    \r\n            link: function ($scope, $element, $attrs) {\r\n                if ($scope.parentIndex == 'undefined') {\r\n                    $scope.parentIndexString = ''\r\n                } else {\r\n                    $scope.parentIndexString = $scope.parentIndex + '.'\r\n                }\r\n    \r\n                $scope.parentIndexStringNode = $scope.parentIndexString + $scope.nodeIndex\r\n                \r\n                $scope.template = ''\r\n                    + '<div style=\"margin-top: 5px;\">'\r\n                        + '<accordion-group is-open=\"node.open\">'\r\n                            + '<accordion-heading>'\r\n                                + '<i class=\"pull-left glyphicon\" ng-class=\"{'\r\n                                    + '\\'glyphicon-chevron-down\\': node.open,'\r\n                                    + '\\'glyphicon-chevron-right\\': !node.open}\">'\r\n                                + '</i>&nbsp;'\r\n                                + '{{ parentIndexString }}{{ nodeIndex }}. {{node.header}}'\r\n                                //can update or delete node when Creation and Modification\r\n                                + '<div ng-if=\"phase == \\'1\\' || phase == \\'3\\'\" class=\"pull-right\">'\r\n                                    + '<button ng-click=\"update(nodeIndex, nodes)\" class=\"btn btn-success btn-xs\"><i class=\"fa fa-edit fa-xs\"></i></button>&nbsp;'\r\n                                    + '<button ng-click=\"delete(nodeIndex, nodes)\" class=\"btn btn-danger btn-xs\"><i class=\"fa fa-close fa-xs\"></i></button>'\r\n                                + '</div>'\r\n                            + '</accordion-heading>'\r\n                            \r\n                          \r\n                            \r\n                            \r\n                            + '<div ng-if=\"phase !== \\'1\\'\" class=\"row\">'\r\n                                + '<div class=\"col-md-7\">'\r\n                                    + '<h3>{{ parentIndexString }}{{ nodeIndex }}. {{ node.header }}</h3>'\r\n                                    + '<h3>Deskripsi</h3>'\r\n                                    + '<div class=\"col-md-12\">'\r\n                                        + '<p>{{ node.description }}</p>'\r\n                                    + '</div><br/>'\r\n                                + '</div>'\r\n\r\n                                + '<div class=\"col-md-5\">'\r\n                                    + '<div class=\"panel panel-default\">'\r\n                                        + '<div class=\"panel-heading clearfix\">'\r\n                                            + '<div class=\"panel-title pull-left\">'\r\n                                                + 'Delegation'\r\n                                            + '</div>'\r\n                                            //can delegate when Delegation or Execution\r\n                                            + '<div ng-if=\"phase == \\'2\\' || phase == \\'4\\'\" class=\"panel-title pull-right\">'\r\n                                                + '<button ng-if=\"isLeaderLocal\" ng-click=\"delegateNode(node)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-plus fa-xs\"></i></button>'\r\n                                            + '</div>'\r\n                                        + '</div>'\r\n                                        + '<div class=\"panel-body\">'\r\n                                            + '<div class=\"list-group\">'\r\n                                                + '<a href=\"\" ng-click=\"detail(work)\" class=\"list-group-item\" ng-repeat=\"object in node.delegations\">'\r\n                                                    + '<i class=\"fa\" ng-class=\"{'\r\n                                                        + '\\'fa-user\\': object.id !== ' + $scope.isLeader + ','\r\n                                                        + '\\'fa-star\\': object.id == ' + $scope.isLeader \r\n                                                    + '}\"></i>&nbsp;{{ object.name }}'\r\n                                                + '</a>'\r\n                                            + '</div>'\r\n                                        + '</div>'\r\n                                    + '</div>'\r\n                                + '</div>'\r\n                            + '</div>'\r\n                            \r\n                            + '<div ng-if=\"phase == \\'1\\'\" class=\"row\">'\r\n                                + '<div class=\"col-md-12\">'\r\n                                    + '<h3>{{ parentIndexString }}{{ nodeIndex }}. {{ node.header }}</h3>'\r\n                                    + '<h3>Deskripsi</h3>'\r\n                                    + '<div class=\"col-md-12\">'\r\n                                        + '<p>{{ node.description }}</p>'\r\n                                    + '</div><br/>'\r\n                                + '</div>'\r\n                            + '</div>'\r\n                             \r\n                            + '<div ng-if=\"node.forms\">'\r\n                                + '<node-form-list ng-model=\"node\" users=\"users\" phase=\"phase\" node-controller=\"' + $scope.nodeController + '\"></node-form-list>'\r\n                            + '</div>'\r\n                            + '<div ng-if=\"!node.forms\">'\r\n                                + '<node-list ng-model=\"node.children\" node=\"node\" users=\"users\" phase=\"phase\" node-controller=\"' + $scope.nodeController + '\" parent-index=\"' + $scope.parentIndexStringNode + '\"></node-list>'\r\n                            + '</div>'\r\n                            \r\n                        + '</accordion-group>'\r\n                    + '</div>'\r\n                    \r\n                        \r\n             \r\n                \r\n                $element.append($scope.template);\r\n                $compile($element.contents())($scope.$new());\r\n                \r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    function nodeFormList ($compile) {\r\n        return {\r\n            restrict: 'E',\r\n            terminal: true,\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n                node: '=ngModel',\r\n                nodes: '=',\r\n                phase: '=',\r\n                nodeController: '@',\r\n            },\r\n            controller: '@',\r\n            name: 'nodeController',\r\n            link: function ($scope, $element, $attrs) {\r\n    \r\n                $scope.template = ''\r\n                    + '<div class=\"row\">'\r\n                        + '<div class=\"col-lg-12\">'\r\n                            + '<h3>Formulir</h3>'\r\n                            + '<div class=\"row\">'\r\n                                + '<div class=\"col-md-6\">'\t\t\t\t\t\t\t\t\t\r\n                                    + '<div class=\"form-group has-feedback\">'\r\n                                        + '<label class=\"control-label\">Bobot Pekerjaan</label>&nbsp;<label ng-if=\"(phase == \\'1\\' || phase == \\'3\\')\" style=\"color: #a94442;\">*</label>'\r\n                                        // can set project weight when Creation or Modification\r\n                                        + '<input ng-if=\"phase == \\'1\\' || phase == \\'3\\'\" type=\"number\" min=\"0\" max=\"100\" ng-model=\"node.weight\" name=\"name\" class=\"form-control\">'\r\n                                        // show weight when not Creation and Modification \r\n                                        + '<span ng-if=\"phase !== \\'1\\' && phase !== \\'3\\'\">&nbsp;:&nbsp;</span>{{ (phase !== \\'1\\' && phase !== \\'3\\') ? node.weight : \\'\\' }}'\r\n                                    + '</div>'\r\n                                + '</div>'\r\n                                \r\n                                // can set score when Assessment or Completion or Termination\r\n                                + '<div ng-if=\"phase == \\'5\\' || phase ==\\'6\\' || phase == \\'7\\'\" class=\"col-md-6\">'\t\t\t\t\t\t\t\t\t\r\n                                    + '<div class=\"form-group has-feedback\">'\r\n                                        + '<label class=\"control-label\">Score Penilaian</label>&nbsp;<label style=\"color: #a94442;\">*</label>'\r\n                                        // show input when Assessment only\r\n                                        + '<input ng-if=\"phase == \\'5\\'\" type=\"number\" min=\"0\" max=\"4\" step=\"0.01\" ng-model=\"node.score\" name=\"name\" class=\"form-control\">'\r\n                                        // show score when Compelition or Termination \r\n                                        + '<span ng-if=\"phase == \\'6\\' || phase == \\'7\\'\">&nbsp;:&nbsp;</span>{{ (phase == \\'6\\' || phase == \\'7\\') ? node.score : \\'\\' }}'\r\n                                    + '</div>'\r\n                                + '</div>'\r\n                                \r\n                            + '</div>'\r\n                            + '<label class=\"control-label\">Dafar Formulir Penugasan</label>&nbsp;<label ng-if=\"(phase == \\'1\\' || phase == \\'3\\')\" style=\"color: #a94442;\">*</label>'\r\n                            + '<div class=\"panel panel-default\">'\r\n                                + '<div class=\"panel-heading clearfix\">'\r\n                                    //can add Form Panel when Creation or Modification\r\n                                    + '<div ng-if=\"phase == \\'1\\' || phase == \\'3\\'\" class=\"panel-title pull-left\">'\r\n                                        + '<div class=\"form-inline\">'\r\n                                            + '<div class=\"form-group\">'\r\n                                                + '<button ng-click=\"createNodeFormItem(node)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-plus fa-xs\"></i></button>'\r\n                                            + '</div>'\r\n                                        + '</div>'\r\n                                    + '</div>'\r\n                                    //can delete Form Panel when Creation or Modification\r\n                                    + '<div ng-if=\"phase == \\'1\\' || phase == \\'3\\'\" class=\"pull-right\">'\r\n                                        + '<button ng-click=\"deleteNodeForm(node)\" class=\"btn btn-danger btn-xs\"><i class=\"fa fa-close fa-xs\"></i></button>'\r\n                                    + '</div>'\r\n                                    //replace add and delete button if not Creation or Modification\r\n                                    + '<label ng-if=\"!(phase == \\'1\\' || phase == \\'3\\')\" class=\"control-label\">Dafar Formulir Penugasan</label>'\r\n                                + '</div>'\r\n                                + '<div class=\"panel-body\">'\r\n                                    + '<div class=\"row\">'\r\n                                        + '<div class=\"col-md-12\">'\r\n                                            + '<div class=\"table-responsive\">'\r\n                                                + '<table class=\"table table-hover\">'\r\n                                                    + '<thead>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<tr>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th>#</th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th><a href=\"\" ng-click=\"sortField = \\'name\\'\t; reverse = !reverse\">Formulir</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//show uploaded document if not Creation or Modification\r\n                                                            + '<th ng-if=\"!(phase == \\'1\\' || phase == \\'3\\' || phase == \\'2\\')\"><a href=\"\" ng-click=\"sortField = \\'uploader\\'; reverse = !reverse\">Uploader</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th ng-if=\"!(phase == \\'1\\' || phase == \\'3\\' || phase == \\'2\\')\"><a href=\"\" ng-click=\"sortField = \\'date\\'\t; reverse = !reverse\">Date Upload</a></th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<th>Action</th>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</tr>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</thead>'\r\n                                                    + '<tbody>'\r\n                                                        + '<tr ng-repeat=\"object in node.forms | filter:query |   orderBy:sortField:reverse track by $index\">'\r\n                                                            + '<td>{{ $index + 1 }}</td>'\r\n                                                            + '<td>{{ object.description }}</td>'\r\n                                                            + '<td ng-if=\"!(phase == \\'1\\' || phase == \\'3\\' || phase == \\'2\\')\">{{ object.uploads.users.name }}</td>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<td ng-if=\"!(phase == \\'1\\' || phase == \\'3\\' || phase == \\'2\\')\">{{ object.uploads.created_at | date:\\'dd-MM-yyyy hh:mm\\' }}</td>'\r\n                                                            //can update or delete when Creation or Modification\r\n                                                            + '<td ng-if=\"phase == \\'1\\' || phase == \\'3\\'\">'\r\n                                                                + '<button popover=\"Update\" popover-trigger=\"mouseenter\" ng-click=\"updateNodeFormItem($index, node.forms, node)\" class=\"btn btn-success btn-xs\"><i class=\"fa fa-edit\"></i></button>&nbsp;|&nbsp;'\r\n                                                                + '<button popover=\"Delete\" popover-trigger=\"mouseenter\" ng-click=\"deleteNodeFormItem($index, node.forms)\" class=\"btn btn-danger btn-xs\"><i class=\"fa fa-close\"></i></button>'\r\n                                                            + '</td>'\r\n                                                            //cannot show details when creation or Modification\r\n                                                            + '<td ng-if=\"!(phase == \\'1\\' || phase == \\'3\\')\">'\r\n                                                                //hide download master form when Delegation or user not delegate but shows when Assessment\r\n                                                                + '<a ng-if=\"(isDelegate && phase == \\'2\\') || phase == \\'5\\' || phase == \\'6\\'\" ng-href=\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\" target=\"_blank\" class=\"btn btn-info btn-xs\"><i class=\"fa fa-arrow-down\"></i></a>'\r\n                                                                \r\n                                                                //show detail when user delegate and when not Delegation and not Assessment\r\n                                                                + '<span ng-if=\"(isDelegate && (phase !== \\'2\\' || phase == \\'4\\')) && phase !== \\'5\\' && phase !==\\'6\\'\">&nbsp;|&nbsp;</span>'\r\n                                                                + '<button ng-if=\"(isDelegate && (phase !== \\'2\\' || phase == \\'4\\')) && phase !== \\'5\\' && phase !==\\'6\\'\" popover=\"Detail\" popover-trigger=\"mouseenter\" ng-click=\"detailForm(object.project_form_item_id)\" class=\"btn btn-info btn-xs\"><i class=\"fa fa-search\"></i></button>'\r\n                                                                \r\n                                                                //show download last uploaded form when Assessment\r\n                                                                + '<span ng-if=\"(phase == \\'5\\'  || phase == \\'6\\') && object.uploads.upload\">&nbsp;|&nbsp;</span>'\r\n                                                                + '<a ng-if=\"(phase == \\'5\\'  || phase == \\'6\\') && object.uploads.upload\" ng-href=\"{{ $root.API_HOST }}/upload/project/{{ object.uploads.upload }}\" target=\"_blank\" class=\"btn btn-success btn-xs\"><i class=\"fa fa-arrow-down\"></i></a>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ '</td>'\r\n                                                        + '</tr>'\r\n                                                    + '</tbody>'\r\n                                                + '</table>'\r\n                                            + '</div>'\r\n                                        + '</div>'\r\n                                    + '</div>'\r\n                                + '</div>'\r\n                            + '</div>'\r\n                        + '</div>'\r\n                    + '</div>\t'\r\n    \r\n                $element.append($scope.template);\r\n    \r\n                $compile($element.contents())($scope.$new());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n})();\r\n\r\n\r\n\r\n\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('spmiFrontEnd')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('spmiFrontEnd')\n    .directive('acmeMalarkey', acmeMalarkey);\n\n  /** @ngInject */\n  function acmeMalarkey(malarkey) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        extraValues: '='\n      },\n      template: '&nbsp;',\n      link: linkFunc,\n      controller: MalarkeyController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function linkFunc(scope, el, attr, vm) {\n      var watcher;\n      var typist = malarkey(el[0], {\n        typeSpeed: 40,\n        deleteSpeed: 40,\n        pauseDelay: 800,\n        loop: true,\n        postfix: ' '\n      });\n\n      el.addClass('acme-malarkey');\n\n      angular.forEach(scope.extraValues, function(value) {\n        typist.type(value).pause().delete();\n      });\n\n      watcher = scope.$watch('vm.contributors', function() {\n        angular.forEach(vm.contributors, function(contributor) {\n          typist.type(contributor.login).pause().delete();\n        });\n      });\n\n      scope.$on('$destroy', function () {\n        watcher();\n      });\n    }\n\n    /** @ngInject */\n    function MalarkeyController($log, githubContributor) {\n      var vm = this;\n\n      vm.contributors = [];\n\n      activate();\n\n      function activate() {\n        return getContributors().then(function() {\n          $log.info('Activated Contributors View');\n        });\n      }\n\n      function getContributors() {\n        return githubContributor.getContributors(10).then(function(data) {\n          vm.contributors = data;\n\n          return vm.contributors;\n        });\n      }\n    }\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('spmiFrontEnd')\n    .factory('githubContributor', githubContributor);\n\n  /** @ngInject */\n  function githubContributor($log, $http) {\n    var apiHost = 'https://api.github.com/repos/Swiip/generator-gulp-angular';\n\n    var service = {\n      apiHost: apiHost,\n      getContributors: getContributors\n    };\n\n    return service;\n\n    function getContributors(limit) {\n      if (!limit) {\n        limit = 30;\n      }\n\n      return $http.get(apiHost + '/contributors?per_page=' + limit)\n        .then(getContributorsComplete)\n        .catch(getContributorsFailed);\n\n      function getContributorsComplete(response) {\n        return response.data;\n      }\n\n      function getContributorsFailed(error) {\n        $log.error('XHR Failed for getContributors.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('WorkService', ['$http', '$q', '$cacheFactory', 'API_HOST', WorkService])\r\n\t\t.factory('WorkFormService', ['$http', '$q', '$cacheFactory', 'API_HOST', WorkFormService])\r\n\t\t\r\n\tfunction WorkService ($http, $q, $cacheFactory, API_HOST){\r\n\t\r\n\t\tfunction WorkService(){\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function() {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/work', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/work/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/work/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.execute = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/execute/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingName = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/validating/name/' + request.name + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.eventToggle = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/event/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.startAllEvent = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/event/start')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.pauseAllEvent = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/event/pause')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.executeAllWork = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/work/execute/all')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn new WorkService()\r\n\t}\r\n\t\r\n\tfunction WorkFormService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\tfunction WorkFormService(){\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\r\n\t\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/work/' + request.work_id + '/form', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/work/' + request.work_id + '/form/' + request.form_id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/work/' + request.work_id + '/form/' + request.form_id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn new WorkFormService()\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(WorkRoute)\r\n\t\r\n\tfunction WorkRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.work', {\r\n\t\t\t\turl: '/work',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/work/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'WorkController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tworks: function(WorkService){\r\n\t\t\t\t\t\treturn WorkService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.work.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/work/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateWorkController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tgroupJobs: function(GroupJobService){\r\n\t\t\t\t\t\treturn GroupJobService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.work.update', {\r\n\t\t\t\turl: '/:workId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/work/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateWorkController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\twork: function($stateParams, WorkService){\r\n\t\t\t\t\t\treturn WorkService.show($stateParams.workId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgroupJobs: function(GroupJobService){\r\n\t\t\t\t\t\treturn GroupJobService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('WorkController', WorkController)\r\n\t\t.controller('CreateWorkController', CreateWorkController)\r\n\t\t.controller('UpdateWorkController', UpdateWorkController)\r\n\t\t.filter('periode', [PeriodFilter])\r\n\t\t\r\n\tDate.prototype.addHours = function(h) {\r\n    \tthis.setHours(this.getHours()+h);\r\n    \treturn this;\r\n\t}\r\n\t\r\n\tfunction PeriodFilter(){\r\n\t\r\n\t\treturn function(type) {\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\treturn \"Harian\"\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\treturn \"Mingguan\"\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\treturn \"Bulanan\"\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"4\":\r\n\t\t\t\t\treturn \"Semesteran\"\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"5\":\r\n\t\t\t\t\treturn \"Tahunan\"\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction generateMonth () {\r\n\t\treturn [\r\n\t\t\t{id: 1, month: 'Januari'},\r\n\t\t\t{id: 2, month: 'Febuari'},\r\n\t\t\t{id: 3, month: 'Maret'},\r\n\t\t\t{id: 4, month: 'April'},\r\n\t\t\t{id: 5, month: 'Mei'},\r\n\t\t\t{id: 6, month: 'Juni'},\r\n\t\t\t{id: 7, month: 'Juli'},\r\n\t\t\t{id: 8, month: 'Agustus'},\r\n\t\t\t{id: 9, month: 'September'},\r\n\t\t\t{id: 10, month: 'Oktober'},\r\n\t\t\t{id: 11, month: 'November'},\r\n\t\t\t{id: 12, month: 'Desember'},\r\n\t\t]\r\n\t}\r\n\t\r\n\tfunction generateDay (month) {\r\n\t\tvar tanggal = []\r\n\t\tif (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n\t\t\tj = 31\r\n\t\t} else if (month == 2) {\r\n\t\t\tj = 28\r\n\t\t} else {\r\n\t\t\tj = 30\r\n\t\t}\r\n\t\r\n\t\tfor (var i = 1 ; i <= j ; i++) {\r\n\t\t\ttanggal.push({day: i})\r\n\t\t}\r\n\t\r\n\t\treturn tanggal\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction WorkController ($state, works, WorkService) {\r\n\t\tvar vm = this;\r\n\t\tvm.works = works;\r\n\t\r\n\t\r\n\t\tvm.update = function (id) {\r\n\t\t\t$state.go('main.admin.work.update', {workId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Tugas ini?\");\r\n\t\t\t(alert == true) ? WorkService.destroy(id).then(function(){\r\n\t\t\t\tvm.works.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\r\n\t\tvm.eventToggle = function(request, index){\r\n\t\t\tWorkService.eventToggle(request).then(function(){\r\n\t\t\t\tconsole.log(vm.works[index].schedule_status);\r\n\t\t\t\t(vm.works[index].schedule_status == 'ENABLED') \r\n\t\t\t\t? vm.works[index].schedule_status = 'DISABLED' \r\n\t\t\t\t: vm.works[index].schedule_status = 'ENABLED';\r\n\t\t\t\tconsole.log(vm.works[index].schedule_status);\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.execute = function(id, index){\r\n\t\t\tWorkService.execute(id).then(function(data){\r\n\t\t\t\tvm.works[index] = data\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.startAllEvent = function(){\r\n\t\t\tWorkService.startAllEvent().then(function(){\r\n\t\t\t\tfor(var i = 0 ; i < vm.works.length ; i++)\r\n\t\t\t\tvm.works[i].schedule_status = 'ENABLED';\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.pauseAllEvent = function(){\r\n\t\t\tWorkService.pauseAllEvent().then(function(){\r\n\t\t\t\tfor(var i = 0 ; i < vm.works.length ; i++)\r\n\t\t\t\tvm.works[i].schedule_status = 'DISABLED';\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.executeAllWork = function(){\r\n\t\t\tWorkService.executeAllWork().then(function(){\r\n\t\t\t\treturn WorkService.get();\r\n\t\t\t}).then(function(data){\r\n\t\t\t\tvm.works = data;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateWorkController ($rootScope, $scope, $state, $timeout, $modal, groupJobs, WorkService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNamePromise\r\n\t\tvm.input = {}\r\n\t\tvm.input.forms = []\r\n\t\tvm.status = {}\r\n\t\t\r\n\t\tvm.days = {}\r\n\t\tvm.dirtyDay = false\r\n\t\tvm.dirtyWeek = false;\r\n\t\tvm.validated = false;\r\n\t\r\n\t\tvm.groupJobs = groupJobs\r\n\t\tvm.dates = []\r\n\t\r\n\t\tvm.minDateStart = new Date()\r\n\t\tvm.minDateEnded = vm.minDateStart\r\n\t\tvm.startDay = \"Senin\"\t\r\n\t\tvm.input.time_start = new Date()\r\n\t\tvm.months = generateMonth();\r\n\t\tfor (var i = 0 ; i < 28 ; i++) {\r\n\t\t\tvm.dates.push({key: i, value: i + 1})\r\n\t\t}\r\n\t\t\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.WorkForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.WorkForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutNamePromise)\r\n\t\t\t\tvm.loadingName = true;\r\n\t\t\t\ttimeoutNamePromise = $timeout(function(){\r\n\t\t\t\t\tWorkService.validatingName(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existName = true : vm.existName = false;\r\n\t\t\t\t\t\tvm.loadingName = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\tif (vm.input.start > vm.input.ended) {\r\n\t\t\t\tvm.minDateEnded = vm.input.start;\r\n\t\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.checkLimit = function() {\r\n\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.type', function (newValue, oldValue, scope) {\r\n\t\t\t(vm.validated && newValue) ?\r\n\t\t\t\t$timeout(function() {\r\n\t\t\t\t\tswitch (newValue) {\r\n\t\t\t\t\t\tcase \"1\": $scope.dirtyDay = true; break;\r\n\t\t\t\t\t\tcase \"2\": $scope.WorkForm.day_start.$setDirty(); break;\r\n\t\t\t\t\t\tcase \"3\": $scope.WorkForm.date.$setDirty(); break;\r\n\t\t\t\t\t\tcase \"4\": break;\r\n\t\t\t\t\t\tcase \"5\":\r\n\t\t\t\t\t\t\t$scope.WorkForm.month.$setDirty();\r\n\t\t\t\t\t\t\t$scope.WorkForm.dateMonth.$setDirty();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 0) : null;\r\n\t\t})\r\n\t\r\n\t\t$scope.$watchCollection('vm.days', function(){\r\n\t\t\tvm.dirtyDay = true\r\n\t\t\tvm.input.days = [];\r\n\t\t\tfor(property in vm.days) {\r\n\t\t\t\t(vm.days[property]) ? vm.input.days.push(property) : null; ; \r\n\t\t\t}\r\n\t\t\t(vm.input.days.length > 0) ? vm.hasDays = true : vm.hasDays = false;\r\n\t\t})\r\n\t\r\n\t\tvm.selectMonth = function () {\r\n\t\t\tvm.datesMonth = generateDay(vm.input.month)\r\n\t\t}\r\n\t\r\n\t\tvm.addForm = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalFormController as vm',\r\n\t\t\t})\r\n\t\t\tmodalInstance.result.then(function(form){\r\n\t\t\t\tconsole.log(form);\r\n\t\t\t\t$rootScope.pushIfUnique(vm.input.forms, form)\r\n\t\t\t}, function(){})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (object, index) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalFormController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tform: object,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(form) {\r\n\t\t\t\t($rootScope.findObject(vm.input.forms, form) == -1) \r\n\t\t\t\t? vm.input.forms[index] = form\r\n\t\t\t\t: alert('Formulir ini sudah bagian dari pekerjaan');\r\n\t\t\t}, function(){})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (object, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Formulir ini dari Pekerjaan?\");\r\n\t\t\t(alert == true) ? vm.input.forms.splice(index, 1) : null;\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.WorkForm.name.$setDirty();\r\n\t\t\t$scope.WorkForm.description.$setDirty();\r\n\t\t\t$scope.WorkForm.group_job_id.$setDirty();\r\n\t\t\t$scope.WorkForm.start.$setDirty();\r\n\t\t\tif (vm.limit) $scope.WorkForm.ended.$setDirty();\r\n\t\t\t$scope.WorkForm.type.$setDirty();\r\n\t\r\n\t\t\tswitch (vm.input.type) {\r\n\t\t\t\tcase \"1\": vm.dirtyDay = true; break;\r\n\t\t\t\tcase \"2\": $scope.WorkForm.day_start.$setDirty(); break;\r\n\t\t\t\tcase \"3\": $scope.WorkForm.date.$setDirty(); break;\r\n\t\t\t\tcase \"4\": break;\r\n\t\t\t\tcase \"5\":\r\n\t\t\t\t\t$scope.WorkForm.month.$setDirty();\r\n\t\t\t\t\t$scope.WorkForm.dateMonth.$setDirty();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\r\n\t\t\tif ($scope.WorkForm.$valid && \r\n\t\t\t\t\t((vm.input.type == '1') && vm.hasDays) || \r\n\t\t\t\t\t((vm.input.type == '2') && vm.input.day_start) ||\r\n\t\t\t\t\t((vm.input.type == '3') && vm.input.date) ||\r\n\t\t\t\t\t((vm.input.type == '4')) ||\r\n\t\t\t\t\t((vm.input.type == '5') && vm.input.month && vm.input.dateMonth)) \r\n\t\t\t{\r\n\t\r\n\t\t\t\tvar dateStart = new Date(vm.input.start)\r\n\t\t\t\tvar timeStart = new Date(vm.input.time_start)\r\n\t\r\n\t\t\t\tdateStart.setHours(timeStart.getHours())\r\n\t\t\t\tdateStart.setMinutes(timeStart.getMinutes())\r\n\t\t\t\tdateStart.addHours(7)\r\n\t\t\t\tdateStart.setSeconds(0);\r\n\t\r\n\t\t\t\tvm.input.start = dateStart\r\n\t\r\n\t\t\t\tif (vm.input.ended) {\r\n\t\t\t\t\tvar dateEnded = new Date(vm.input.ended)\r\n\t\t\t\t\tdateEnded.setHours(timeStart.getHours())\r\n\t\t\t\t\tdateEnded.setMinutes(timeStart.getMinutes())\r\n\t\t\t\t\tdateEnded.addHours(7)\r\n\t\t\t\t\tdateEnded.setSeconds(0);\r\n\t\r\n\t\t\t\t\tvm.input.ended = dateEnded\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tWorkService.store(vm.input).then(function(data) {\r\n\t\t\t\t\t$state.go('main.admin.work', null, {reload: true })\r\n\t\t\t\t})\r\n\t\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.start = new Date();\r\n\t\t\t//$scope.input.ended = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\r\n\t\tvm.today();\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateWorkController ($rootScope, $scope, $state, $timeout, $modal, work, groupJobs, GroupJobService, WorkService, WorkFormService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNamePromise\r\n\t\t\r\n\t\tvm.input = work\r\n\t\tvm.status = {}\r\n\t\r\n\t\tvm.days = {}\r\n\t\tvm.dirtyDay = false\r\n\t\tvm.dirtyWeek = false;\r\n\t\tvm.validated = false;\r\n\t\r\n\t\tvm.groupJobs = groupJobs\r\n\t\tvm.dates = []\r\n\t\tvm.months = {}\r\n\t\r\n\t\tvm.months = generateMonth();\r\n\t\r\n\t\tfor (var i = 0 ; i < 28 ; i++) {\r\n\t\t\tvm.dates.push({key: i, value: i + 1})\r\n\t\t}\r\n\t\r\n\t\t\t\r\n\t\tvm.input.start = new Date(vm.input.start)\r\n\t\tif (vm.input.ended) {\r\n\t\t\tvm.limit = true\r\n\t\t\tvm.input.ended = new Date(vm.input.ended)\r\n\t\t}\r\n\t\r\n\t\t//console.log(response.data.schedule.time_start)\r\n\t\tvm.input.time_start = new Date(vm.input.start);\r\n\t\tvm.datesMonth = generateDay(vm.input.month)\r\n\t\r\n\t\t$timeout(function() {\r\n\t\t\tswitch (vm.input.type) {\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\tvm.input.days = []\r\n\t\t\t\t\tfor (var i = 0 ; i <vm.input.schedule[0].days.length ; i++) {\r\n\t\t\t\t\t\tvm.input.days.push(vm.input.schedule[0].days[i].day);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tangular.forEach(vm.input.days, function (key, value) {\r\n\t\t\t\t\t\tvm.days[key] = true; \r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"2\": vm.input.day_start = vm.input.schedule.day_start.toString(); break;\r\n\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\t$scope.WorkForm.date.$setDirty();\r\n\t\t\t\t\tvm.input.date = vm.input.schedule.date_start\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"4\": break;\r\n\r\n\t\t\t\tcase \"5\":\r\n\t\t\t\t\t$scope.WorkForm.month.$setDirty();\r\n\t\t\t\t\t$scope.WorkForm.dateMonth.$setDirty();\r\n\t\t\t\t\tvm.input.month = vm.input.schedule.month_start\r\n\t\t\t\t\tvm.datesMonth = generateDay(vm.input.month)\r\n\t\t\t\t\tvm.input.dateMonth = vm.input.schedule.date_start\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}, 0)\t\t\r\n\t\t\t\r\n\t\tvm.input.time_start = new Date()\r\n\t\t\r\n\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.WorkForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.WorkForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutNamePromise)\r\n\t\t\t\tvm.loadingName = true;\r\n\t\t\t\ttimeoutNamePromise = $timeout(function() {\r\n\t\t\t\t\tWorkService.validatingName(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existName = true : vm.existName = false\r\n\t\t\t\t\t\tvm.loadingName = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\tif (vm.input.start > vm.input.ended) {\r\n\t\t\t\tvm.minDateEnded = vm.input.start;\r\n\t\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.checkLimit = function() {\r\n\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.type', function (newValue, oldValue, scope) {\r\n\t\r\n\t\t\tvm.input.date_start = new Date();\r\n\t\r\n\t\t\tif (vm.validated && newValue) {\r\n\r\n\t\t\t\t$timeout(function() {\r\n\t\t\t\t\tswitch (newValue) {\r\n\t\t\t\t\t\tcase \"1\": vm.dirtyDay = true; break;\r\n\t\t\t\t\t\tcase \"2\": $scope.WorkForm.day_start.$setDirty(); break;\r\n\t\t\t\t\t\tcase \"3\": $scope.WorkForm.date.$setDirty(); break;\r\n\t\t\t\t\t\tcase \"4\": break;\r\n\t\t\t\t\t\tcase \"5\":\r\n\t\t\t\t\t\t\t$scope.WorkForm.month.$setDirty();\r\n\t\t\t\t\t\t\t$scope.WorkForm.dateMonth.$setDirty();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\t$scope.$watchCollection('vm.days', function () {\r\n\t\t\tvm.dirtyDay = true\r\n\t\t\tvm.input.days = [];\r\n\t\t\tangular.forEach(vm.days, function (key, value) {\r\n\t\t\t\tif (key) vm.input.days.push(value);\r\n\t\t\t})\r\n\t\r\n\t\t\tif (vm.input.days.length > 0) vm.hasDays = true;\r\n\t\t\telse vm.hasDays = false;\r\n\t\t})\r\n\t\r\n\t\tvm.selectMonth = function () {\r\n\t\t\tvm.datesMonth = generateDay(vm.input.month)\r\n\t\t}\r\n\t\r\n\t\tvm.addForm = function () {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalFormController as vm',\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(form){\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\twork_id: vm.input.id, \r\n\t\t\t\t\tid: form.id,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tWorkFormService.store(data).then(function(data){\r\n\t\t\t\t\tvm.input.forms.push(data);\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\talert(data.body);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}, function(){})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function(object, index){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalFormController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tform: function () {\r\n\t\t\t\t\t\tdelete object.pivot;\r\n\t\t\t\t\t\treturn object;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(form){\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\twork_id: vm.input.id, \r\n\t\t\t\t\tform_id: object.id,\r\n\t\t\t\t\tid: form.id, \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tWorkFormService.update(data).then(function(data){\r\n\t\t\t\t\tvm.input.forms[index] = data;\r\n\t\t\t\t}, function() {\r\n\t\t\t\t\talert('Pekerjaan ini sudah memilki formulir yang dimaksud');\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(object, index){\r\n\t\t\tvar data = {\r\n\t\t\t\twork_id: vm.input.id,\r\n\t\t\t\tform_id: object.id,\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Formulir ini dari Pekerjaan?\")\r\n\t\t\tif (alert == true) \r\n\t\t\tWorkFormService.destroy(data).then(function() {\r\n\t\t\t\tvm.input.forms.splice(index, 1);\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.WorkForm.name.$setDirty();\r\n\t\t\t$scope.WorkForm.description.$setDirty();\r\n\t\t\t$scope.WorkForm.group_job_id.$setDirty();\r\n\t\t\t$scope.WorkForm.start.$setDirty();\r\n\t\t\tif (vm.limit) $scope.WorkForm.ended.$setDirty();\r\n\t\t\t$scope.WorkForm.type.$setDirty();\r\n\t\r\n\t\t\t//$scope.WorkForm.date.$setDirty();\r\n\t\r\n\t\t\tswitch (vm.input.type) {\r\n\t\t\t\tcase \"1\": vm.dirtyDay = true; break;\r\n\t\r\n\t\t\t\tcase \"2\": $scope.WorkForm.day_start.$setDirty(); break;\r\n\t\r\n\t\t\t\tcase \"3\": $scope.WorkForm.date.$setDirty(); break;\r\n\t\r\n\t\t\t\tcase \"4\": break;\r\n\t\r\n\t\t\t\tcase \"5\":\r\n\t\t\t\t\t$scope.WorkForm.month.$setDirty();\r\n\t\t\t\t\t$scope.WorkForm.dateMonth.$setDirty();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\r\n\t\t\tif ($scope.WorkForm.$valid && \r\n\t\t\t\t\t((vm.input.type == '1') && vm.hasDays) || \r\n\t\t\t\t\t((vm.input.type == '2') && vm.input.day_start) ||\r\n\t\t\t\t\t((vm.input.type == '3') && vm.input.date) ||\r\n\t\t\t\t\t((vm.input.type == '4')) ||\r\n\t\t\t\t\t((vm.input.type == '5') && vm.input.month && vm.input.dateMonth)) \r\n\t\t\t{\r\n\t\r\n\t\t\t\tvar dateStart = new Date(vm.input.start)\r\n\t\t\t\tvar timeStart = new Date(vm.input.time_start)\r\n\t\r\n\t\t\t\tdateStart.setHours(timeStart.getHours())\r\n\t\t\t\tdateStart.setMinutes(timeStart.getMinutes())\r\n\t\t\t\tdateStart.addHours(7)\r\n\t\t\t\tdateStart.setSeconds(0);\r\n\t\r\n\t\t\t\tvm.input.start = dateStart\r\n\t\r\n\t\t\t\tif (vm.input.ended) {\r\n\t\t\t\t\tvar dateEnded = new Date(vm.input.ended)\r\n\t\t\t\t\tdateEnded.setHours(timeStart.getHours())\r\n\t\t\t\t\tdateEnded.setMinutes(timeStart.getMinutes())\r\n\t\t\t\t\tdateEnded.addHours(7)\r\n\t\t\t\t\tdateEnded.setSeconds(0);\r\n\t\r\n\t\t\t\t\tvm.input.ended = dateEnded\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tWorkService.update(vm.input).then(function(){\r\n\t\t\t\t\t$state.go('main.admin.work', null, { reload: true });\r\n\t\t\t\t})\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tvm.validated = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.start = new Date();\r\n\t\t\t//$scope.input.ended = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\r\n\r\n\r\n\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('UserService', ['$http', '$q', '$timeout', '$state', '$stateParams', '$cacheFactory', 'API_HOST', UserService])\r\n\t\t.factory('UserJobService', ['$http', '$q', '$cacheFactory', 'API_HOST', UserJobService])\r\n\r\n\r\n\tfunction UserService ($http, $q, $timeout, $state, $stateParams, $cacheFactory, API_HOST) {\r\n\t\t\r\n\t\tfunction UserService(){\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tvar _identity = undefined\r\n\t\t\tvar _authenticated = false;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tself.isIdentityResolved = function() {\r\n\t\t\t\treturn angular.isDefined(_identity);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tself.isAuthenticated = function() {\r\n\t\t\t\treturn _authenticated;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.isInRole = function(role) {\r\n\t\t\t\t\r\n\t\t\t\tif (!_authenticated || !_identity.type) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar a = _identity.type;\r\n\t\t\t\treturn _identity.type.indexOf(role) !== -1;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tself.isInAnyRole = function(type) {\r\n\t\t\t\tif (!_authenticated || !_identity.type) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tfor (var i = 0; i < type.length; i++) {\r\n\t\t\t\t\tif (this.isInRole(type[i])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tself.authenticate = function(identity) {\r\n\t\t\t\t_identity = identity;\r\n\t\t\t\t_authenticated = identity != null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.identity = function(force) {\r\n\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\tif (force === true) _identity = undefined;\r\n\t\t\t\t$http.get(API_HOST + '/authenticate')\r\n\t\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t\t_identity = response.data.user;\r\n\t\t\t\t\t\t_authenticated = true;\r\n\t\t\t\t\t\tdeferred.resolve(_identity);\r\n\t\t\t\t\t}, function (response) {\r\n\t\t\t\t\t\t_identity = null;\r\n\t\t\t\t\t\t_authenticated = false;\r\n\t\t\t\t\t\tconsole.log('identity failure');\r\n\t\t\t\t\t\tdeferred.reject(response);\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\r\n\t\t\tself.login = function (request) {\r\n\t\t\t\t/*\r\n\t\t\t\tfunction getSettings(requestData) {\r\n\t\t\t\t\tconsole.log(requestData.token);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\turl: requestData.url,\r\n\t\t\t\t\t\tdata: requestData.data || {},\r\n\t\t\t\t\t\theaders: requestData.headers || {\r\n\t\t\t\t\t\t\t'X-XSRF-TOKEN': requestData.token,\r\n\t\t\t\t\t\t\t'X-CSRF-TOKEN': requestData.token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar requestData = {\r\n\t\t\t\t\turl: API_HOST + '/user/login',\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttoken: request._token\r\n\t\t\t\t};\r\n\t\r\n\t\t\t\tvar settings = getSettings(requestData);\r\n\t\t\t\tsettings.method = \"POST\";\r\n\t\t\t\t//delete settings.data._token\r\n\t\t\t\t*/\r\n\t\t\t\t\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.post(API_HOST + '/user/login', {\r\n\t\t\t\t\t\tdata: request,\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'text/plain'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t\t_identity = response.data;\r\n\t\t\t\t\t\t_authenticated = true;\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response);\r\n\t\t\t\t\t\t//deferred.resolve(_identity);\r\n\t\t\t\t\t}, function (response) {\r\n\t\t\t\t\t\t_identity = null;\r\n\t\t\t\t\t\t_authenticated = false;\r\n\t\t\t\t\t\t//deferred.resolve(response.data);\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\r\n\t\t\tself.logout = function() {\r\n\t\t\t\t_identity = null;\r\n\t\t\t\t_authenticated = false;\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user/logout')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\r\n\t\t\tself.session = function() {\r\n\t\t\t\treturn _identity\r\n\t\t\t}\r\n\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/user', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/user/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/user/' +  request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingNik = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user/validating/nik/' + request.nik + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingEmail = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user/validating/email/' + request.email + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.jobs = function() {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/user/jobs')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.register = function(request) {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.post(API_HOST + '/register', request)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new UserService()\r\n\t}\r\n\t\r\n\tfunction UserJobService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\tfunction UserJobService(){\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/user/' + request.user_id + '/job', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/user/' + request.user_id + '/job/' + request.job_id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function(request){\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.delete(API_HOST + '/user/' + request.user_id + '/job/' + request.job_id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn new UserJobService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(UserRoute)\r\n\t\r\n\tfunction UserRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.user', {\r\n\t\t\t\turl: '/user',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/user/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'UserController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: function(UserService){\r\n\t\t\t\t\t\treturn UserService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.user.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/user/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateUserController as vm'\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.user.update', {\r\n\t\t\t\turl: '/:userId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/user/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateUserController as vm'\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuser: function($stateParams, UserService){\r\n\t\t\t\t\t\treturn UserService.show($stateParams.userId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t\r\n\t\t.controller('UserController', UserController)\r\n\t\t.controller('CreateUserController', CreateUserController)\r\n\t\t.controller('UpdateUserController', UpdateUserController)\r\n\t\t.controller('ModalUserController', ModalUserController)\r\n\r\n\tfunction generateYear () {\r\n\t\tvar today = new Date().getFullYear();\r\n\t\tconsole.log(today);\r\n\t\tvar object = []\r\n\t\tfor (var i = 10; i < 100; i++) {\r\n\t\t\tobject.push({year: today-i})\r\n\t\t}\r\n\t\treturn object//[{no: 1, year:'2015'}, {no: 2, year:'2014'}, {no: 3, year:'2013'}]\r\n\t}\r\n\t\r\n\tfunction generateMonth () {\r\n\t\treturn [\r\n\t\t\t{id: 1, month: 'Januari'},\r\n\t\t\t{id: 2, month: 'Febuari'},\r\n\t\t\t{id: 3, month: 'Maret'},\r\n\t\t\t{id: 4, month: 'April'},\r\n\t\t\t{id: 5, month: 'Mei'},\r\n\t\t\t{id: 6, month: 'Juni'},\r\n\t\t\t{id: 7, month: 'Juli'},\r\n\t\t\t{id: 8, month: 'Agustus'},\r\n\t\t\t{id: 9, month: 'September'},\r\n\t\t\t{id: 10, month: 'Oktober'},\r\n\t\t\t{id: 11, month: 'November'},\r\n\t\t\t{id: 12, month: 'Desember'},\r\n\t\t]\r\n\t}\r\n\t\r\n\tfunction generateDay (year, month) {\r\n\t\tvar tanggal = []\r\n\t\tvar j = 0;\r\n\t\t\r\n\t\tif (year.year % 4 == 0 && month == 2) {\r\n\t\t\tj = 29\r\n\t\t} else if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n\t\t\tj = 31\r\n\t\t} else if (month == 2) {\r\n\t\t\tj = 28\r\n\t\t} else {\r\n\t\t\tj = 30\r\n\t\t}\r\n\t\r\n\t\tfor (var i = 1 ; i <= j ; i++) {\r\n\t\t\ttanggal.push({day: i})\r\n\t\t}\r\n\t\r\n\t\treturn tanggal\r\n\t}\r\n\t\r\n\t\r\n\tfunction UserController ($state, users, UserService) {\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.users = users\r\n\t\r\n\t\tvm.detail = function (id) {\r\n\t\t\t$state.go('main.admin.user.detail', {userId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (request) {\r\n\t\t\t$state.go('main.admin.user.update', {userId: request})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (id, index){\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus User ini?\");\r\n\t\t\t(alert == true) ? UserService.destroy(id).then(function(){\r\n\t\t\t\tusers.splice(index, 1);\t\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateUserController ($rootScope, $scope, $state, $timeout, $modal, UserService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvar timeoutNikPromise, timeoutEmailPromise\r\n\t\tvm.input = {}\r\n\t\tvm.input.jobs = []\r\n\t\tvm.years = {}\r\n\t\tvm.months = {}\r\n\t\tvm.days = {}\r\n\t\tvm.validated = false\r\n\t\t\r\n\t\tvm.years =  generateYear()\r\n\t\t\r\n\t\r\n\t\r\n\t\t$scope.$watch('vm.input.nik', function () {\r\n\t\t\tvar validInput = $scope.UserForm.nik.$invalid\r\n\t\t\tvar dirtyInput = $scope.UserForm.nik.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNikPromise)\r\n\t\t\t\tvm.loadingNik = true;\r\n\t\t\t\ttimeoutNikPromise = $timeout(function() {\r\n\t\t\t\t\tUserService.validatingNik(vm.input).then(function (data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNik = true : vm.existNik = false;\r\n\t\t\t\t\t\tvm.loadingNik = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.email', function () {\r\n\t\t\tvar validInput = $scope.UserForm.email.$invalid\r\n\t\t\tvar dirtyInput = $scope.UserForm.email.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutEmailPromise)\r\n\t\t\t\tvm.loadingEmail = true;\r\n\t\t\t\ttimeoutEmailPromise = $timeout(function() {\r\n\t\t\t\t\tUserService.validatingEmail(vm.input).then(function (data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existEmail = true : vm.existEmail = false;\r\n\t\t\t\t\t\tvm.loadingEmail = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.selectYear = function () {\r\n\t\t\tconsole.log('1')\r\n\t\t\tvm.month = undefined;\r\n\t\t\tvm.day = undefined;\r\n\t\t\tvm.months = generateMonth()\r\n\t\t\tvm.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\tvm.selectMonth = function () {\r\n\t\t\tconsole.log('2')\r\n\t\t\tvm.day = undefined;\r\n\t\t\tvm.days = generateDay(vm.year, vm.month)\r\n\t\t\tvm.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\tvm.selectDay = function () {\r\n\t\t\tvm.input.born = new Date(vm.year.year, vm.month - 1, vm.day.day + 1)\r\n\t\t}\r\n\t\r\n\t\tvm.addJob = function() {\r\n\t\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\twithOccupied: true,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job){\r\n\t\t\t\t$rootScope.pushIfUnique(vm.input.jobs, job);\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (object, index) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tjob: function () {\r\n\t\t\t\t\t\treturn object;\r\n\t\t\t\t\t},\r\n\t\t\t\t\twithOccupied: true,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job) {\r\n\t\t\t\t($rootScope.findObject(vm.input.jobs, job) == -1) ? vm.input.jobs[index] = job : alert('Pekerjaan ini sudah bagian dari user');\r\n\t\t\t}, function(){})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (object, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Job ini dari User?\");\r\n\t\t\t(alert == true) ? vm.input.jobs.splice(index, 1) : null;\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.UserForm.nik.$setDirty();\r\n\t\t\t$scope.UserForm.name.$setDirty();\r\n\t\t\t$scope.UserForm.day.$setDirty();\r\n\t\t\t$scope.UserForm.address.$setDirty();\r\n\t\t\t$scope.UserForm.type.$setDirty();\r\n\t\t\t$scope.UserForm.email.$setDirty();\r\n\t\t\t//$scope.UserForm.password.$setDirty();\r\n\t\t\t//$scope.UserForm.confirmation.$setDirty();\r\n\t\r\n\t\t\t($scope.UserForm.$valid) ? UserService.store(vm.input).then(function () {\r\n\t\t\t\t$state.go('main.admin.user', null, {reload: true});\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateUserController ($scope, $state, $timeout, $modal, user, UserService, UserJobService) {\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNikPromise, timeoutEmailPromise\r\n\t\t\r\n\t\tvm.input = user\r\n\t\t\r\n\t\tvm.days = {}\r\n\t\tvm.month = {}\r\n\t\tvm.tanggal = NaN\r\n\t\tvm.years =  generateYear()\r\n\t\tvm.months = generateMonth()\r\n\t\r\n\t\t\r\n\t\tvm.input = user\r\n\t\tvm.input.born = new Date(vm.input.born)\r\n\t\tvm.year = {year: vm.input.born.getFullYear()}\r\n\t\t\r\n\t\tvm.month = vm.input.born.getMonth() + 1\r\n\t\tvm.days = generateDay(vm.year.year, vm.month)\r\n\t\r\n\t\tvar dt = vm.input.born;\r\n\t\tvm.tanggal = dt.getDate()\r\n\t\tvm.day = {day: vm.tanggal}\r\n\t\r\n\t\t$scope.$watch('vm.input.nik', function () {\r\n\t\t\tvar validInput = $scope.UserForm.nik.$invalid\r\n\t\t\tvar dirtyInput = $scope.UserForm.nik.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNikPromise)\r\n\t\t\t\tvm.loadingNik = true;\r\n\t\t\t\ttimeoutNikPromise = $timeout(function(){\r\n\t\t\t\t\tUserService.validatingNik(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNik = true : vm.existNik = false;\r\n\t\t\t\t\t\tvm.loadingNik = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.email', function () {\r\n\t\t\tvar validInput = $scope.UserForm.email.$invalid\r\n\t\t\tvar dirtyInput = $scope.UserForm.email.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutEmailPromise)\r\n\t\t\t\tvm.loadingEmail = true;\r\n\t\t\t\ttimeoutEmailPromise = $timeout(function(){\r\n\t\t\t\t\tUserService.validatingEmail(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existEmail = true : vm.existEmail = false;\r\n\t\t\t\t\t\tvm.loadingEmail = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.selectYear = function () {\r\n\t\t\tconsole.log('1')\r\n\t\t\tvm.month = undefined;\r\n\t\t\tvm.day = undefined;\r\n\t\t\tvm.months = generateMonth()\r\n\t\t\tvm.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\tvm.selectMonth = function(){\r\n\t\t\tconsole.log('2')\r\n\t\t\tvm.day = undefined;\r\n\t\t\tvm.days = generateDay(vm.year, vm.month)\r\n\t\t\tvm.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\tvm.selectDay = function () {\r\n\t\t\tvm.input.born = new Date(vm.year.year, vm.month - 1, vm.day.day + 1)\r\n\t\t}\r\n\t\r\n\t\tvm.addJob = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\twithOccupied: true,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job){\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tuser_id: vm.input.id,\r\n\t\t\t\t\tid: job.id\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tUserJobService.store(data).then(function(data){\r\n\t\t\t\t\tvm.input.jobs.push(data);\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\talert(data.body);\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function(object, index) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tjob: function(){\r\n\t\t\t\t\t\tdelete object.pivot;\r\n\t\t\t\t\t\treturn object;\r\n\t\t\t\t\t},\r\n\t\t\t\t\twithOccupied: true,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job) {\r\n\t\t\t\tconsole.log(object.id);\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tuser_id: vm.input.id, \r\n\t\t\t\t\tjob_id: object.id,\r\n\t\t\t\t\tid: job.id\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tUserJobService.update(data).then(function(data){\r\n\t\t\t\t\tvm.input.jobs[index] = data\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\talert(data.body);\r\n\t\t\t\t})\r\n\t\r\n\t\t\t\t\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(object, index){\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Job ini dari User?\");\r\n\t\t\tvar data = {\r\n\t\t\t\tuser_id: vm.input.id,\r\n\t\t\t\tjob_id: object.id\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t(alert == true) ? UserJobService.destroy(data).then(function(){\r\n\t\t\t\tvm.input.jobs.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.UserForm.nik.$setDirty();\r\n\t\t\t$scope.UserForm.name.$setDirty();\r\n\t\t\t$scope.UserForm.day.$setDirty();\r\n\t\t\t$scope.UserForm.address.$setDirty();\r\n\t\t\t$scope.UserForm.type.$setDirty();\r\n\t\t\t$scope.UserForm.email.$setDirty();\r\n\t\r\n\t\t\t($scope.UserForm.$valid) ? UserService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.user', null, {reload: true});\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction ModalUserController($timeout, $modalInstance, users, UserService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.users = []\r\n\t\tvm.input = users\r\n\t\r\n\t\tUserService.get().then(function(data){\r\n\t\t\tvm.users = data\r\n\t\t\tfor (var i = 0 ; i < vm.users.length ; i++) {\r\n\t\t\t\tfor (var j = 0 ; j < vm.input.length ; j++) {\r\n\t\t\t\t\tif (vm.users[i].id == vm.input[j].id) {\r\n\t\t\t\t\t\tvm.users[i].leader = vm.input[j].leader\r\n\t\t\t\t\t\tvm.users[i].check = vm.input[j].check\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\r\n\t\tvm.checkAll = function() {\r\n\t\t\tvm.input = []\r\n\t\t\tvar counter = 0\r\n\t\r\n\t\t\tfor (var i = 0 ; i < vm.users.length ; i++) {\r\n\t\t\t\tvm.users[i].leader = false\r\n\t\t\t\tif (vm.checked) {\r\n\t\t\t\t\tvm.users[i].check = true\r\n\t\t\t\t\tvm.input.push(vm.users[i])\r\n\t\t\t\t\tcounter++\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.users[i].check = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tvm.selected = counter + ' user selected from ' + vm.users.length\r\n\t\t};\r\n\t\r\n\t\tvm.checkCustom = function() {\r\n\t\t\tvm.checked = false;\r\n\t\t\tvar counter = 0\r\n\t\t\tvm.input = []\r\n\t\r\n\t\t\tfor (var i = 0 ; i < vm.users.length ; i ++) {\r\n\t\t\t\tvm.users[i].leader = false\r\n\t\t\t\tif (vm.users[i].check == true) {\r\n\t\t\t\t\tvm.input.push(vm.users[i])\r\n\t\t\t\t\tcounter++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tvm.selected = counter + ' user selected from ' + vm.users.length\r\n\t\t};\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$modalInstance.close(vm.input)\r\n\t\t};\r\n\t\r\n\t\tvm.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t};\r\n\t\t\r\n})();\r\n\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.factory('UniversityService', UniversityService)\r\n\r\n\tfunction UniversityService ($log, $http, $q, $state, $cacheFactory, API_HOST) {\r\n\t\r\n\t\t\tvar university = {}\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\r\n\t\t\tuniversity.get = function () {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.get(API_HOST + '/university')\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuniversity.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/university/' + request)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function (response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuniversity.store = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/university', request)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuniversity.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.put(API_HOST + '/university/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuniversity.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/university/' + request)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuniversity.validating = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/university/validating/' + request.name + '/' + request.id)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn university;\r\n\t}\r\n})();\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(UniversityRoute)\r\n\t\r\n\tfunction UniversityRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.university', {\r\n\t\t\t\turl: '/university',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/university/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'UniversityController as vm',\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.university.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/university/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateUniversityController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.university.update', {\r\n\t\t\t\turl: '/:universityId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/university/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateUniversityController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuniversity: function($stateParams, UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.show($stateParams.universityId)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.controller('UniversityController', UniversityController)\r\n\t\t.controller('CreateUniversityController', CreateUniversityController)\r\n\t\t.controller('UpdateUniversityController', UpdateUniversityController)\r\n\t\t\r\n\tfunction UniversityController ($state, universities, UniversityService) {\r\n\t\tvar vm = this\r\n\t\t\r\n\t\tvm.universities = universities\r\n\t\r\n\t\tvm.update = function (id) {\r\n\t\t\t$state.go('main.admin.university.update', {universityId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Universitas ini?\")\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tUniversityService.destroy(id).then(function(){\r\n\t\t\t\t\tvm.universities.splice(index, 1);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn vm\r\n\t}\r\n\t\r\n\tfunction CreateUniversityController ($scope, $state, $timeout, UniversityService) {\r\n\t\tvar vm = this\r\n\t\t\r\n\t\tvar timeoutPromise;\r\n\t\tvm.input = {}\r\n\t\tvm.validated = false;\r\n\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.UniversityForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.UniversityForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function() {\r\n\t\t\t\t\tUniversityService.validating(vm.input)\r\n\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\t\tvm.exist = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvm.exist = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.UniversityForm.name.$setDirty();\r\n\t\t\t$scope.UniversityForm.address.$setDirty();\r\n\t\t\t$scope.UniversityForm.phone.$setDirty();\r\n\t\t\t$scope.UniversityForm.fax.$setDirty();\r\n\t\r\n\t\t\tif ($scope.UniversityForm.$valid) {\r\n\t\t\t\tUniversityService.store(vm.input).then(function(){\r\n\t\t\t\t\t$state.go('main.admin.university', null, { reload: true })\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\treturn vm\r\n\t\r\n\t}\r\n\t\r\n\tfunction UpdateUniversityController ($scope, $state, $timeout, university, UniversityService) {\r\n\t\tvar vm = this\r\n\t\t\r\n\t\tvar timeoutPromise;\r\n\t\tvm.input = university\r\n\t\tvm.validated = false;\r\n\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.UniversityForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.UniversityForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function() {\r\n\t\t\t\t\tUniversityService.validating(vm.input).then(function(data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.UniversityForm.name.$setDirty();\r\n\t\t\t$scope.UniversityForm.address.$setDirty();\r\n\t\t\t$scope.UniversityForm.phone.$setDirty();\r\n\t\t\t$scope.UniversityForm.fax.$setDirty();\r\n\t\r\n\t\t\tif ($scope.UniversityForm.$valid) {\r\n\t\t\t\tUniversityService.update(vm.input).then(function() {\r\n\t\t\t\t\treturn $state.go('main.admin.university', null, { reload: true })\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n(function() {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.factory('StandardDocumentService', ['$http', '$q', '$cacheFactory', 'Upload', 'API_HOST', StandardDocumentService])\r\n\r\n\tfunction StandardDocumentService ($http, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\t\r\n\t\tfunction StandardDocumentService(){\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standardDocument')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standardDocument/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function(request){\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/standardDocument', \r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\tdeferred.resolve(response);\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response);\r\n\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function(request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tconsole.log(request);\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/standardDocument/' + request.id, \r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttransformRequest: function(request){\r\n\t\t\t\t\t\trequest._method = 'PUT';\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/standardDocument/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.standard = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standardDocument/standard/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingNo = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standardDocument/validating/no/' + request.no + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingDescription = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standardDocument/validating/description/' + request.description + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;   \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new StandardDocumentService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(StandardDocumentRoute)\r\n\t\r\n\tfunction StandardDocumentRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.standardDocument', {\r\n\t\t\t\turl: '/standardDocument',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standardDocument/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'StandardDocumentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandardDocuments: function(StandardDocumentService){\r\n\t\t\t\t\t\treturn StandardDocumentService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.standardDocument.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standardDocument/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateStandardDocumentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.standardDocument.update', {\r\n\t\t\t\turl: '/:standardDocumentId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standardDocument/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateStandardDocumentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandardDocument: function($stateParams, StandardDocumentService){\r\n\t\t\t\t\t\treturn StandardDocumentService.show($stateParams.standardDocumentId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function() {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.controller('StandardDocumentController', StandardDocumentController)\r\n\t\t.controller('CreateStandardDocumentController', CreateStandardDocumentController)\r\n\t\t.controller('UpdateStandardDocumentController', UpdateStandardDocumentController)\r\n\r\n\tfunction StandardDocumentController($state, standardDocuments, StandardDocumentService){\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.standardDocuments = standardDocuments;\r\n\t\t\r\n\t\tvm.update = function(id){\r\n\t\t\t$state.go('main.admin.standardDocument.update', {standardDocumentId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index) {\r\n\t\t\tvar alert = confirm(\"apakah anda yankin ingin menghapus Standard Dokumen ini?\")\r\n\t\t\tif (alert == true) StandardDocumentService.destroy(id).then(function(){\r\n\t\t\t\tvm.standardDocuments.splice(index, 1);\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateStandardDocumentController($scope, $state, $timeout, standards, StandardDocumentService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.standards = standards;\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = true;\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function(){\r\n\t\t\tvar validInput = $scope.StandardDocumentForm.no.$invalid\r\n\t\t\tvar dirtyInput = $scope.StandardDocumentForm.no.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tStandardDocumentService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t});\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.StandardDocumentForm.description.$invalid\r\n\t\t\tvar dirtyInput = $scope.StandardDocumentForm.description.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tStandardDocumentService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function() {\r\n\t\t\t$scope.StandardDocumentForm.standard_id.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.no.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.date.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.description.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.StandardDocumentForm.$valid) ? StandardDocumentService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.standardDocument', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\t\r\n\t\tvm.toggleMin();\r\n\t\treturn vm;\r\n\t\t\t\r\n\t\r\n\t}\r\n\t\r\n\tfunction UpdateStandardDocumentController($scope, $state, $timeout, standardDocument, standards, StandardDocumentService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\tvm.input = standardDocument;\r\n\t\tvm.standards = standards;\r\n\t\tvm.validated = false;\r\n\t\r\n\t\tvm.input.date = new Date(vm.input.date);\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function () {\r\n\t\t\tvar validInput = $scope.StandardDocumentForm.no.$invalid;\r\n\t\t\tvar dirtyInput = $scope.StandardDocumentForm.no.$dirty;\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tStandardDocumentService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.StandardDocumentForm.description.$invalid;\r\n\t\t\tvar dirtyInput = $scope.StandardDocumentForm.description.$dirty;\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tStandardDocumentService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.StandardDocumentForm.standard_id.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.no.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.date.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.description.$setDirty();\r\n\t\t\t$scope.StandardDocumentForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.StandardDocumentForm.$valid) ? StandardDocumentService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.standardDocument', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('StandardService', ['$http', '$q', '$cacheFactory', 'API_HOST', StandardService])\r\n\r\n\tfunction StandardService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\t\r\n\t\tfunction StandardService(){\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function() {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standard')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.getAll = function() {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standard/all')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standard/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/standard', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/standard/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/standard/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validating = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/standard/validating/' + request.description + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new StandardService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(StandardRoute)\r\n\t\r\n\tfunction StandardRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.standard', {\r\n\t\t\t\turl: '/standard',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standard/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'StandardController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.standard.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standard/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateStandardController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.standard.update', {\r\n\t\t\t\turl: '/:standardId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/standard/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateStandardController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandard: function($stateParams, StandardService){\r\n\t\t\t\t\t\treturn StandardService.show($stateParams.standardId)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('StandardController', StandardController)\r\n\t\t.controller('CreateStandardController', CreateStandardController)\r\n\t\t.controller('UpdateStandardController', UpdateStandardController)\r\n\t\r\n\tfunction StandardController ($state, standards, StandardService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.standards = standards;\r\n\t\r\n\t\tvm.update = function(id){\r\n\t\t\t$state.go('main.admin.standard.update', {standardId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus standard ini?\");\r\n\t\t\t(alert == true) ? StandardService.destroy(id).then(function(){\r\n\t\t\t\tvm.standards.splice(index, 1);\r\n\t\t\t}) : null ;\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateStandardController($scope, $state, $timeout, StandardService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutPromise;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.validated = false;\r\n\t\r\n\t\t\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function(){\r\n\t\t\tvar validName = $scope.StandardForm.description.$invalid\r\n\t\t\tvar dirtyName = $scope.StandardForm.description.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function(){\r\n\t\t\t\t\tStandardService.validating(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\r\n\t\t\t$scope.StandardForm.date.$setDirty();\r\n\t\t\t$scope.StandardForm.description.$setDirty();\r\n\t\r\n\t\t\t($scope.StandardForm.$valid) ? StandardService.store(vm.input).then(function(response){\r\n\t\t\t\t$state.go('main.admin.standard', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function(){\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\t\r\n\t\tvm.today();\r\n\t\tvm.toggleMin();\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateStandardController ($scope, $state, $timeout, standard, StandardService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutPromise;\r\n\t\tvm.input = standard;\r\n\t\tvm.validated = false;\r\n\t\r\n\t\tvm.input.date = new Date(vm.input.date);\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function(){\r\n\t\t\tvar validName = $scope.StandardForm.description.$invalid\r\n\t\t\tvar dirtyName = $scope.StandardForm.description.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName){\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function(){\r\n\t\t\t\t\tStandardService.validating(vm.input).then(function(data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.StandardForm.date.$setDirty();\r\n\t\t\t$scope.StandardForm.description.$setDirty();\r\n\t\r\n\t\t\t($scope.StandardForm.$valid) ? StandardService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.standard', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\r\n})();\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('SemesterService', ['$http', '$q', '$cacheFactory', 'API_HOST', SemesterService])\r\n\r\n\r\n\tfunction SemesterService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\t\r\n\t\tfunction SemesterService(){\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/semester')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/semester/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/semester', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/semester/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/semester/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.intersect = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/semester/intersect/' + request.date + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.included = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/semester/included/' + request.date_start + '/' + request.date_ended + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new SemesterService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(SemesterRoute)\r\n\t\r\n\tfunction SemesterRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.semester', {\r\n\t\t\t\turl: '/semester',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/semester/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'SemesterController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tsemesters: function(SemesterService){\r\n\t\t\t\t\t\treturn SemesterService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.semester.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/semester/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateSemesterController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.semester.update', {\r\n\t\t\t\turl: '/:semesterId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/semester/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateSemesterController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tsemester: function($stateParams, SemesterService){\r\n\t\t\t\t\t\treturn SemesterService.show($stateParams.semesterId)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('SemesterController', SemesterController)\r\n\t\t.controller('CreateSemesterController', CreateSemesterController)\r\n\t\t.controller('UpdateSemesterController', UpdateSemesterController)\r\n\r\n\r\n\r\n\tfunction SemesterController ($state, semesters, SemesterService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.semesters = semesters;\r\n\t\r\n\t\r\n\t\r\n\t\tvm.update = function(id) {\r\n\t\t\t$state.go('main.admin.semester.update', {semesterId: id});\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index) {\r\n\t\t\tvar alert = confirm('Apakah anda yakin ingin menghapus semester ini?');\r\n\t\t\t(alert == true) ? SemesterService.destroy(id).then(function() {\r\n\t\t\t\tsemesters.splice(index, 1);\t\t\t\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t\r\n\t}\r\n\t\r\n\tfunction CreateSemesterController ($scope, $state, $timeout, $filter, SemesterService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.validated = false;\r\n\t\tvm.invalidYear = true;\r\n\t\tvm.status = {};\r\n\t\r\n\t\tvm.minDateStart = undefined;\r\n\t\tvm.maxDateStart = undefined;\r\n\t\r\n\t\tvm.minDateEnded = undefined;\r\n\t\tvm.maxDateEnded = undefined;\r\n\t\r\n\t\tvm.rangeIntersectStart = {status: false, semester: undefined};\r\n\t\tvm.rangeIntersectEnded = {status: false, semester: undefined};\r\n\t\r\n\t\tvm.include = {status: false, semester: undefined}\r\n\t\r\n\t\t$scope.$watchGroup(['vm.input.year_start', 'vm.input.year_ended'], function () {\r\n\t\r\n\t\t\tif (vm.input.year_ended == vm.input.year_start + 1) {\r\n\t\t\t\tvm.invalidYear = false;\r\n\t\r\n\t\t\t\tvm.minDateStart = new Date('1-1-' + vm.input.year_start);\r\n\t\t\t\tvm.maxDateStart = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\t\t\tvm.input.date_start = undefined//$scope.minDateStart;\r\n\t\r\n\t\t\t\tvm.minDateEnded = new Date('1-1-' + vm.input.year_start);\r\n\t\t\t\tvm.maxDateEnded = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\t\t\tvm.input.date_ended = undefined//$scope.minDateEnded;\r\n\t\t\t} else {\r\n\t\t\t\tvm.invalidYear = true;\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\tvar data = {\r\n\t\t\t\tid: null,\r\n\t\t\t\tdate: $filter('date')(vm.input.date_start, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.intersect(data).then(function (data) {\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0];\r\n\t\t\t\t\tswitch (semester.type) {\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.rangeIntersectStart.status = true;\r\n\t\t\t\t\tvm.rangeIntersectStart.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(vm.input.date_start > vm.input.date_ended) ? vm.input.date_ended = undefined : null;\r\n\t\t\t\t\tvm.minDateEnded = vm.input.date_start;\r\n\t\t\t\t\tvm.rangeIntersectStart.status = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.pickEnded = function(){\r\n\t\t\tvar data = {\r\n\t\t\t\tid: null,\r\n\t\t\t\tdate: $filter('date')(vm.input.date_ended, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.intersect(data).then(function (data) {\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0];\r\n\t\t\t\t\tswitch (semester.type) {\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.rangeIntersectEnded.status = true;\r\n\t\t\t\t\tvm.rangeIntersectEnded.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(vm.input.date_ended < vm.input.date_start) ? vm.input.date_start = undefined : null;\r\n\t\t\t\t\tvm.maxDateStart = vm.input.date_ended;\r\n\t\t\t\t\tvm.rangeIntersectEnded.status = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watchGroup(['vm.input.date_start', 'vm.input.date_ended'], function(){\r\n\t\t\tvar data = {\r\n\t\t\t\tid: null,\r\n\t\t\t\tdate_start: $filter('date')(vm.input.date_start, 'yyyy-MM-dd'),\r\n\t\t\t\tdate_ended: $filter('date')(vm.input.date_ended, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.included(data).then(function(data) {\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0]\r\n\t\t\t\t\tswitch (semester.type) {\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.include.status = true;\r\n\t\t\t\t\tvm.include.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.include = {status: false, semester: undefined}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.SemesterForm.year_start.$setDirty();\r\n\t\t\t$scope.SemesterForm.year_ended.$setDirty();\r\n\t\t\t$scope.SemesterForm.type.$setDirty();\r\n\t\t\t$scope.SemesterForm.date_start.$setDirty();\r\n\t\t\t$scope.SemesterForm.date_ended.$setDirty();\r\n\t\t\t\r\n\t\t\t($scope.SemesterForm.$valid && vm.input.type && !vm.include.status && !vm.rangeIntersectStart.status && \r\n\t\t\t!vm.rangeIntersectEnded.status) ? SemesterService.store(vm.input).then(function(data) {\r\n\t\t\t\t$state.go('main.admin.semester', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.start = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateSemesterController($log, $scope, $state, $timeout, $filter, semester, SemesterService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = semester\r\n\t\tvm.validated = false;\r\n\t\tvm.invalidYear = true;\r\n\t\tvm.status = {};\r\n\t\r\n\t\tvm.minDateStart = undefined;\r\n\t\tvm.maxDateStart = undefined;\r\n\t\r\n\t\tvm.minDateEnded = undefined;\r\n\t\tvm.maxDateEnded = undefined;\r\n\t\r\n\t\tvm.rangeIntersectStart = {status: false, semester: undefined};\r\n\t\tvm.rangeIntersectEnded = {status: false, semester: undefined};\r\n\t\r\n\t\tvm.include = {status: false, semester: undefined}\r\n\t\t\r\n\t\tvm.updatePristine = true;\r\n\t\r\n\t\tvm.input.year_start = Number(vm.input.year_start);\r\n\t\tvm.input.year_ended = Number(vm.input.year_ended);\r\n\t\tvm.input.date_start = new Date(vm.input.date_start);\r\n\t\tvm.input.date_ended = new Date(vm.input.date_ended);\r\n\t\r\n\t\tvm.input = vm.input;\r\n\t\r\n\t\tvm.input.date_start = new Date(vm.input.date_start);\r\n\t\tvm.input.date_ended = new Date(vm.input.date_ended);\r\n\t\r\n\t\tvm.minDateStart = new Date('1-1-' + vm.input.year_start);\r\n\t\tvm.maxDateStart = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\tvm.minDateEnded = new Date(vm.input.date_start);\r\n\t\tvm.maxDateEnded = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\tvm.updatePristine = true\r\n\t\tvm.invalidYear = false;\r\n\t\t/*\r\n\t\t$scope.SemesterForm.year_start.$setDirty();\r\n\t\t$scope.SemesterForm.year_ended.$setDirty();\r\n\t\t$scope.SemesterForm.type.$setDirty();\r\n\t\t$scope.SemesterForm.date_start.$setDirty();\r\n\t\t$scope.SemesterForm.date_ended.$setDirty();\r\n\t\t*/\r\n\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\r\n\t\t$scope.$watchGroup(['vm.input.year_start', 'vm.input.year_ended'], function () {\r\n\t\t\t$log.debug('watch group year triggered');\r\n\t\t\tif (vm.input.year_ended == vm.input.year_start + 1 && vm.updatePristine == true) {\r\n\t\t\t\tvm.invalidYear = false;\r\n\t\r\n\t\t\t\t//$scope.updatePristine = !$scope.updatePristine\r\n\t\t\t} \r\n\t\r\n\t\t\tif (vm.input.year_ended == vm.input.year_start + 1 && vm.updatePristine == false) {\r\n\t\t\t\tvm.invalidYear = false;\r\n\t\r\n\t\t\t\tvm.minDateStart = new Date('1-1-' + vm.input.year_start);\r\n\t\t\t\tvm.maxDateStart = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\t\t\tvm.input.date_start = undefined//$scope.minDateStart;\r\n\t\r\n\t\t\t\tvm.minDateEnded = new Date('1-1-' + vm.input.year_start);\r\n\t\t\t\tvm.maxDateEnded = new Date('12-31-' + vm.input.year_ended);\r\n\t\r\n\t\t\t\tvm.input.date_ended = undefined//$scope.minDateEnded;\r\n\t\r\n\t\t\t}\r\n\t\r\n\t\t\tif (vm.input.year_ended !== vm.input.year_start + 1) {\r\n\t\t\t\tvm.invalidYear = true;\r\n\t\t\t\tvm.updatePristine = false\r\n\t\t\t} \r\n\t\t})\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\t$log.debug('pick start triggered');\r\n\t\t\tvar data = {\r\n\t\t\t\tid: vm.input.id,\r\n\t\t\t\tdate: $filter('date')(vm.input.date_start, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.intersect(data).then(function(data){\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0];\r\n\t\t\t\t\tswitch (semester.type) {\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.rangeIntersectStart.status = true;\r\n\t\t\t\t\tvm.rangeIntersectStart.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (vm.input.date_start > vm.input.date_ended) {\r\n\t\t\t\t\t\tvm.input.date_ended = undefined;\r\n\t\t\t\t\t} \r\n\t\t\t\t\tvm.minDateEnded = vm.input.date_start\r\n\t\t\t\t\tvm.rangeIntersectStart.status = false;\r\n\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tvm.pickEnded = function() {\r\n\t\t\t$log.debug('pick ended triggered');\r\n\t\t\tvar data = {\r\n\t\t\t\tid: vm.input.id,\r\n\t\t\t\tdate: $filter('date')(vm.input.date_ended, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.intersect(data).then(function(data){\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0];\r\n\t\t\t\t\tswitch (semester.type) {\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.rangeIntersectEnded.status = true;\r\n\t\t\t\t\tvm.rangeIntersectEnded.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(vm.input.date_ended < vm.input.date_start) {\r\n\t\t\t\t\t\tvm.input.date_start = undefined;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.maxDateStart = vm.input.date_ended\r\n\t\t\t\t\tvm.rangeIntersectEnded.status = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watchGroup(['vm.input.date_start', 'vm.input.date_ended'], function() {\r\n\t\t\t$log.debug('watch group date triggered');\r\n\t\t\tvar data = {\r\n\t\t\t\tid: vm.input.id,\r\n\t\t\t\tdate_start: $filter('date')(vm.input.date_start, 'yyyy-MM-dd'),\r\n\t\t\t\tdate_ended: $filter('date')(vm.input.date_ended, 'yyyy-MM-dd'),\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSemesterService.included(data).then(function(data) {\r\n\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\tvar semester = data[0];\r\n\t\t\t\t\tswitch (semester.type){\r\n\t\t\t\t\t\tcase '1': semester.type = \"Ganjil\"; break;\r\n\t\t\t\t\t\tcase '2': semester.type = \"Genap\"; break;\r\n\t\t\t\t\t\tcase '3': semester.type = \"Pendek\"; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvm.include.status = true;\r\n\t\t\t\t\tvm.include.semester = 'Semester ' + semester.type + ' ' + semester.year_start + '/' + semester.year_ended;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.include = {status: false, semester: undefined}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.SemesterForm.year_start.$setDirty();\r\n\t\t\t$scope.SemesterForm.year_ended.$setDirty();\r\n\t\t\t$scope.SemesterForm.type.$setDirty();\r\n\t\t\t$scope.SemesterForm.date_start.$setDirty();\r\n\t\t\t$scope.SemesterForm.date_ended.$setDirty();\r\n\t\t\t\r\n\t\t\t($scope.SemesterForm.$valid && vm.input.type && !vm.include.status && !vm.rangeIntersectStart.status && \r\n\t\t\t\t!vm.rangeIntersectEnded.status)\r\n\t\t\t? SemesterService.update(vm.input).then(function (response) {\r\n\t\t\t\t$state.go('main.admin.semester', null, {reload: true})\r\n\t\t\t}) \r\n\t\t\t: vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.pickStart();\r\n\t\tvm.pickEnded();\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\r\n\r\n})();\r\n\r\n\r\n\r\n\n(function() {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.factory('ProjectService', ['$http', '$state', '$q', '$cacheFactory', 'Upload', 'API_HOST', ProjectService])\r\n\r\n\r\n\tfunction ProjectService ($http, $state, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\r\n\t\tvar project = {}\r\n\t\t\r\n\t\t\r\n\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\r\n\t\tproject.get = function () {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.get(API_HOST + '/project')\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\t\r\n\t\tproject.showLast = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.get(API_HOST + '/project/last/' + request)\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\t\r\n\t\tproject.show = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.get(API_HOST + '/project/' + request)\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\r\n\t\tproject.store = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.post(API_HOST + '/project', request)\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\r\n\t\tproject.update = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.patch(API_HOST + '/project/' + request.id, request)\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\r\n\t\tproject.destroy = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.delete(API_HOST + '/project/' + request)\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\t\t\r\n\t\tproject.user = function () {\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t$http.get(API_HOST + '/project/user')\r\n\t\t\t\t.then(function(response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\treturn deferred.promise\r\n\t\t};\r\n\t\r\n\t\tproject.delegate = function (request) {\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t$http.post(API_HOST + '/project/delegate', request)\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\r\n\t\t\treturn deferred.promise\r\n\t\t};\r\n\t\r\n\t\tproject.form = function (request) {\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t$http.get(API_HOST + '/project/form/' + request)\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t};\r\n\t\t\r\n\t\tproject.leader = function (request) {\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t$http.get(API_HOST + '/project/leader/' + request)\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response) {\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\treturn deferred.promise\r\n\t\t};\r\n\t\t\r\n\t\tproject.upload = function (request) {\r\n\t\t\t\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t\r\n\t\t\tUpload.upload({\r\n\t\t\t\turl: API_HOST + '/project/upload',\r\n\t\t\t\tdata: request,\r\n\t\t\t}).then(function(response){\r\n\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t}, function(response){\r\n\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t})\r\n\t\t\treturn deferred.promise\r\n\t\t};\r\n\t\t\r\n\t\tproject.score = function (request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.post(API_HOST + '/project/score', request).then(function(response) {\r\n\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\tdeferred.resolve(response.data);\r\n\t\t\t}, function(response) {\r\n\t\t\t\tdeferred.reject(response.data);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn deferred.promise \r\n\t\t}\r\n\t\t\r\n\t\tproject.validatingName = function(request){\r\n\t\t\tvar deferred = $q.defer()\r\n\t\t\t$http.get(API_HOST + '/project/validating/name/' + request.name + '/' + request.id)\r\n\t\t\t\t.then(function(response){\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t});\r\n\t\t\treturn deferred.promise;\r\n\t\t}\r\n\t\t\r\n\t\tproject.mark = function(request) {\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\t$http.patch(API_HOST + '/project/mark/' + request.id, request).then(function(response) {\r\n\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t}, function(response) {\r\n\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn deferred.promise;\r\n\t\t}\r\n\t\r\n\t\treturn project\r\n\t\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(ProjectRoute)\r\n\t\r\n\tfunction ProjectRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.project', {\r\n\t\t\t\turl: '/project',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/project/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'ProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tprojects: function(ProjectService){\r\n\t\t\t\t\t\treturn ProjectService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.project.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/project/views/detail.html',\r\n\t\t\t\t\t\tcontroller: 'CreateProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.project.update', {\r\n\t\t\t\turl: '/:projectId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/project/views/detail.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tprojects: function($stateParams, ProjectService){\r\n\t\t\t\t\t\treturn ProjectService.show($stateParams.projectId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t.state('main.admin.project.scoring', {\r\n\t\t\t\turl: '/scoring/:projectId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/project/views/detail.html',\r\n\t\t\t\t\t\tcontroller: 'ScoringProjectController as vm',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tprojects: function($stateParams, ProjectService) {\r\n\t\t\t\t\t\treturn ProjectService.showLast($stateParams.projectId);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t.state('main.admin.project.detail', {\r\n\t\t\t\turl: '/detail/:projectId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/user/project/views/detail.html',\r\n\t\t\t\t\t\tcontroller: 'DetailProjectController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tproject: function($stateParams, ProjectService){\r\n\t\t\t\t\t\treturn ProjectService.show($stateParams.projectId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function() {\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\r\n\t\t.controller('ProjectController', ProjectController)\r\n\t\t.controller('DetailProjectController', DetailProjectController)\r\n\t\t.controller('CreateProjectController', CreateProjectController)\r\n\t\t.controller('UpdateProjectController', UpdateProjectController)\r\n\t\t.controller('ScoringProjectController', ScoringProjectController)\r\n\t\t\r\n\t\t.controller('NodeProjectController', NodeProjectController)\r\n\t\t.controller('ModalProjectController',  ModalProjectController)\r\n\t\r\n\tfunction Node(name, children) {\r\n\t\tthis.name = name;\r\n\t\tthis.open = false;\r\n\t\tthis.children = children || [];\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction ProjectController ($state, $timeout, projects, ProjectService) {\r\n\t\tvar vm = this;\r\n\t\tvm.projects = projects;\r\n\t\t\r\n\t\tvm.detail = function (id) {\r\n\t\t\t$state.go('main.admin.project.detail', {projectId: id});\r\n\t\t}\r\n\t\t\r\n\t\tvm.update = function (id) {\r\n\t\t\t$state.go('main.admin.project.update', {projectId: id})\r\n\t\t};\r\n\t\t\r\n\t\tvm.scoring = function (id) {\r\n\t\t\t$state.go('main.admin.project.scoring', {projectId: id})\r\n\t\t}\r\n\t\t\r\n\t\tvm.mark = function(projectId, index, status) {\r\n\t\t\tvar alert;\r\n\t\t\tif (status == 2) {\r\n\t\t\t\talert = confirm('Apakah anda yakin untuk menandai project ini sudah selesai? \\n Dengan begitu sistem akan melakukan kalkulasi untuk setiap penilaian yang telah diberikan untuk projecti ini. Penilaian yang telah dikalkulasi tidak dapat diubah');\r\n\t\t\t} else {\r\n\t\t\t\talert = confirm('Apakan Anda yakin untuk menghentikan project ini? Dengan begitu sistem tidak ada melakukan kalkulasi penilaian dan seluruh kontent yang terdapat dialam project ini tidak dapat diubah');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tid: projectId,\r\n\t\t\t\t\tstatus: status\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tProjectService.mark(data).then(function(data) {\r\n\t\t\t\t\tvm.projects[index].status = status;\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index) {\r\n\t\t\tvar alert = confirm('Apakah anda yakin ingin menghapus project ini?');\r\n\t\t\t(alert == true) ? ProjectService.destroy(id).then(function(){\r\n\t\t\t\tvm.projects.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t};\r\n\t\t\r\n\t\tvm.showStatus = function(start, ended, status) {\r\n\t\t\tvar now = new Date();\r\n\t\t\t\r\n\t\t\tstart = new Date(start);\r\n\t\t\tended = new Date(ended);\r\n\t\t\t\r\n\t\t\tif (start > now && status == 1) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 1,\r\n\t\t\t\t\ttext : 'Preparation',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (start < now && ended > now && status == 1) {\r\n\t\t\t\treturn { \r\n\t\t\t\t\tcode: 2,\r\n\t\t\t\t\ttext: 'On Progress',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (ended < now && status == 1) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 3,\r\n\t\t\t\t\ttext: 'Waiting for Scoring',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (status == 2) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode: 4,\r\n\t\t\t\t\ttext: 'Completed',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (status == 3) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcode:5,\r\n\t\t\t\t\ttext: 'Terminated',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.disabledModify = function(code) {\r\n\t\t\t//console.log(code);\r\n\t\t\tif (code == 1 || code == 2) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.disabledScoring = function(code) {\r\n\t\t\tif (code == 3) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.disabledComplete = function (code) {\r\n\t\t\tif (code == 3) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.disabledTerminate = function (code) {\r\n\t\t\tif (code !== 4 && code !== 5) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction CreateProjectController ($rootScope, $scope, $state, $modal, ProjectService) {\r\n\t\tvar vm = this;\r\n\t\tvm.phase = '1';\r\n\t\tvm.input = {}\r\n\t\tvm.input.projects = []\r\n\t\tvm.input.users = []\r\n\t\tvm.status = {}\r\n\t\tvm.projects = []\r\n\t\tvm.ctrl = 'create'\r\n\t\tvm.projects = []\r\n\t\tvm.users = []\r\n\t\r\n\t\tvm.addProjectMember = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimate: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/user/views/modal.html',\r\n\t\t\t\tcontroller: 'ModalUserController as vm',\r\n\t\t\t\tsize: 'lg',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: function(){ return vm.input.users },\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function (users) {\r\n\t\t\t\tvm.users = users\r\n\t\t\t\tvm.input.users = vm.users\r\n\t\t\t}, function(){});\r\n\t\t}\r\n\t\r\n\t\tvm.setLeader = function(object) {\r\n\t\t\tfor (var i = 0 ; i < vm.users.length ; i++) {\r\n\t\t\t\tif (vm.users[i].id == object.id) {\r\n\t\t\t\t\tvm.users[i].leader = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.users[i].leader = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvm.input.users = vm.users;\r\n\t\t}\r\n\t\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\tif (vm.input.start > vm.input.ended) {\r\n\t\t\t\tvm.minDateEnded = vm.input.start;\r\n\t\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.projects', function() {\r\n\t\t\tvm.input.projects = vm.projects;\r\n\t\t})\r\n\t\t\r\n\t\tvm.back = function() {\r\n\t\t\t$state.go('main.admin.project');\r\n\t\t}\r\n\t\r\n\t\r\n\t\tvm.submit = function() {\r\n\t\t\tvm.input.projects = vm.projects \r\n\t\t\tvm.input.users = vm.users \r\n\t\t\tvm.msg = []\r\n\t\t\tvm.weight = 0\r\n\t\t\tvm.leader = {}\r\n\t\r\n\t\t\tif (vm.input.users.length == 0) {\r\n\t\t\t\tvm.msg.push('Project ini harus terdiri dari user')\r\n\t\t\t\treturn 0\r\n\t\t\t} else {\r\n\t\t\t\tvar counter = 0\r\n\t\t\t\tfor(var i = 0 ; i < vm.input.users.length ; i++) {\r\n\t\t\t\t\tif (vm.input.users[i].leader == true) {\r\n\t\t\t\t\t\tvm.leader = vm.input.users[i]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcounter++\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif (counter == vm.input.users.length) {\r\n\t\t\t\t\tvm.msg.push('Project ini harus memiliki Pimpro');\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif (vm.projects.length == 0) {\r\n\t\t\t\tvm.msg.push('Project ini harus memiliki pekerjaan')\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\r\n\t\t\tvar recursiveNode = function recursiveNode(nodes) {\r\n\t\t\t\tfor (var i = 0 ; i < nodes.length ; i++) {\r\n\t\t\t\t\tif (nodes[i].children.length > 0) {\r\n\t\t\t\t\t\tnodes[i].delegations = []\r\n\t\t\t\t\t\tnodes[i].delegations.push(vm.leader)\r\n\t\t\t\t\t\trecursiveNode(nodes[i].children)\r\n\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (nodes[i].forms) {\r\n\t\t\t\t\t\t\tif (nodes[i].forms.length == 0) {\r\n\t\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus memiliki minimal satu form')\r\n\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (nodes[i].weight) {\r\n\t\t\t\t\t\t\t\t\tnodes[i].delegations = []\r\n\t\t\t\t\t\t\t\t\tnodes[i].delegations.push(vm.leader)\r\n\t\t\t\t\t\t\t\t\tvm.weight += nodes[i].weight\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus ditentukan bobot pekerjaan')\r\n\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus memiliki child atau form')\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif(recursiveNode(vm.projects) == 0) {\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\r\n\t\t\tif (vm.weight !== 100) {\r\n\t\t\t\tvm.msg.push('Bobot project ini tidak sama dengan 100 (' + vm.weight + ')')\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\r\n\t\r\n\t\t\tProjectService.store(vm.input).then(function() {\r\n\t\t\t\t$state.go('main.admin.project', null, {reload: true});\r\n\t\t\t}, function(){});\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.start = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\treturn vm;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction NodeProjectController($rootScope, $scope, $timeout, $modal){\r\n\t\t\t\r\n\t\t$scope.create = function(nodes){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\t\tanimation: true,\r\n\t\t\t\t\ttemplateUrl: 'app/admin/project/views/modal.html',\r\n\t\t\t\t\tcontroller: 'ModalProjectController',\r\n\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\tproject: null,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\r\n\t\t\t\tmodalInstance.result.then(function (project) {\r\n\t\t\t\t\t$rootScope.pushIfUnique(nodes, project)\r\n\t\t\t\t}, function(){})\r\n\t\t};\r\n\t\r\n\t\t$scope.update = function(index, nodes){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\t\tanimation: true,\r\n\t\t\t\t\ttemplateUrl: 'app/admin/project/views/modal.html',\r\n\t\t\t\t\tcontroller: 'ModalProjectController',\r\n\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\tproject: nodes[index-1],\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tmodalInstance.result.then(function(project){\r\n\t\t\t\t\tnodes[index-1].header = project.header;\r\n\t\t\t\t\tnodes[index-1].description = project.description\r\n\t\t\t\t}, function(){})\r\n\t\t};\r\n\t\r\n\t\t$scope.delete = function(index, nodes){\r\n\t\t\tvar alert = confirm('Apakah Anda yakin ingin menghapus butir project ini?');\r\n\t\t\tif (alert == true) {\r\n\t\t\t\t$timeout(function(){\r\n\t\t\t\t\tnodes.splice(index - 1, 1);\r\n\t\t\t\t},0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t//}  \r\n\t\t};\r\n\t\r\n\t\t$scope.createNodeForm = function(node) {\r\n\t\t\tnode.forms = []\r\n\t\t};\r\n\t\r\n\t\t$scope.deleteNodeForm = function(node) {\r\n\t\t\tvar alert = confirm('Apakah anda yakin ingin meghapus Formulir ini?')\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tdelete node.forms\r\n\t\t\t\tdelete node.weight\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\r\n\t\t$scope.createNodeFormItem = function (node) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalFormController as vm',\r\n\t\t\t})\r\n\r\n\t\t\tmodalInstance.result.then(function(form){\r\n\t\t\t\t$rootScope.pushIfUnique(node.forms, form)\r\n\t\t\t}, function(){})\r\n\t\t};\r\n\t\r\n\t\t$scope.updateNodeFormItem = function(index, forms, node) {\r\n\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/form/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalFormController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tform: forms[index],\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tmodalInstance.result.then(function(form){\r\n\t\t\t\tif ($rootScope.findObject(node.forms, form) == -1) {\r\n\t\t\t\t\tnode.forms[index] = form\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert('Formulir ini sudah bagian dari pekerjaan')\r\n\t\t\t\t}\r\n\t\t\t}, function(){})\r\n\t\t}\r\n\t\r\n\t\t$scope.deleteNodeFormItem = function(index, forms) {\r\n\t\t\tvar alert = confirm('Apakah anda yakin ingin menghapus form ini?');\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tforms.splice(index, 1)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction UpdateProjectController ($rootScope, $scope, $state, $modal, $timeout, projects, ProjectService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.phase = '3';//project phase\r\n\t\t\r\n\t\t\r\n\t\tvm.decimalConverter = function(nodes) {\r\n\t\t\tfor ( var i = 0; i < nodes.length; i++ ) {\r\n\t\t\t\t\r\n\t\t\t\tif (nodes[i].children.length > 0) {\r\n\t\t\t\t\tvm.decimalConverter(nodes[i].children);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnodes[i].weight = Number(nodes[i].weight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.decimalConverter(projects.projects);\r\n\t\t\r\n\t\tvm.input = projects\r\n\t\tvm.status = {}\r\n\t\tvm.projects = vm.input.projects\r\n\t\tvm.users = vm.input.users;\t\r\n\t\t\r\n\t\tvm.input.start = new Date(vm.input.date_start);\r\n\t\tvm.input.ended = new Date(vm.input.date_ended);\r\n\t\t\r\n\t\tfor (var i = 0 ; i < vm.input.users.length ; i++){\r\n\t\t\tdelete vm.input.users[i].pivot;\r\n\t\t\tvm.input.users[i].check = true;\t\r\n\t\t}\r\n\t\t\r\n\t\tvm.addProjectMember = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimate: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/user/views/modal.html',\r\n\t\t\t\tcontroller: 'ModalUserController as vm',\r\n\t\t\t\tsize: 'lg',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tusers: function(){ return vm.input.users },\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function (user) {\r\n\t\t\t\tvm.users = user\r\n\t\t\t\tvm.input.users = vm.users\r\n\t\t\t}, function(){});\r\n\t\t}\r\n\t\r\n\t\tvm.setLeader = function(object) {\r\n\t\t\tfor (var i = 0 ; i < vm.users.length ; i++) {\r\n\t\t\t\tif (vm.users[i].id == object.id) {\r\n\t\t\t\t\tvm.users[i].leader = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.users[i].leader = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvm.input.users = vm.users;\r\n\t\t}\r\n\t\r\n\t\r\n\t\tvm.pickStart = function() {\r\n\t\t\tif (vm.input.start > vm.input.ended) {\r\n\t\t\t\tvm.minDateEnded = vm.input.start;\r\n\t\t\t\t(vm.limit) ? vm.input.ended = vm.input.start : vm.input.ended = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.projects', function() {\r\n\t\t\tvm.input.projects = vm.projects;\r\n\t\t})\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tvm.back = function() {\r\n\t\t\t$state.go('main.admin.project');\r\n\t\t}\r\n\t\t\r\n\t\tvm.submit = function() {\r\n\t\t\tvm.input.projects = vm.projects \r\n\t\t\tvm.input.users = vm.users \r\n\t\t\tvm.msg = []\r\n\t\t\tvm.weight = 0\r\n\t\t\tvm.leader = {}\r\n\t\r\n\t\t\tif (vm.input.users.length == 0) {\r\n\t\t\t\tvm.msg.push('Project ini harus terdiri dari user')\r\n\t\t\t\treturn 0\r\n\t\t\t} else {\r\n\t\t\t\tvar counter = 0\r\n\t\t\t\tfor(var i = 0 ; i < vm.input.users.length ; i++) {\r\n\t\t\t\t\tif (vm.input.users[i].leader == true) {\r\n\t\t\t\t\t\tvm.leader = vm.input.users[i]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcounter++\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif (counter == vm.input.users.length) {\r\n\t\t\t\t\tvm.msg.push('Project ini harus memiliki Pimpro');\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif (vm.projects.length == 0) {\r\n\t\t\t\tvm.msg.push('Project ini harus memiliki pekerjaan');\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\r\n\t\t\tvar recursiveNode = function recursiveNode(nodes) {\r\n\t\t\t\tfor (var i = 0 ; i < nodes.length ; i++) {\r\n\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nodes[i].children.length > 0) {\r\n\t\t\t\t\t\tvar counter = 0;\r\n\t\t\t\t\t\tfor(var j = 0 ; j < nodes[i].delegations.length ; j++) {\r\n\t\t\t\t\t\t\tif (nodes[i].delegations[j].id == vm.leader.id) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (counter == nodes[i].delegations.length) {\r\n\t\t\t\t\t\t\tnodes[i].delegations.push(vm.leader);\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\trecursiveNode(nodes[i].children);\r\n\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (nodes[i].forms) {\r\n\t\t\t\t\t\t\tif (nodes[i].forms.length == 0) {\r\n\t\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus memiliki minimal satu form');\r\n\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (nodes[i].weight) {\r\n\t\t\t\t\t\t\t\t\tvm.weight += nodes[i].weight\r\n\t\t\t\t\t\t\t\t\tvar counter = 0\r\n\t\t\t\t\t\t\t\t\tfor(var j = 0 ; j < nodes[i].delegations.length ; j++) {\r\n\t\t\t\t\t\t\t\t\t\tif (nodes[i].delegations[j].id == vm.leader.id) {\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tcounter++\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (counter == nodes[i].delegations.length) {\r\n\t\t\t\t\t\t\t\t\t\tnodes[i].delegations.push(vm.leader)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus ditentukan bobot pekerjaan')\r\n\t\t\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvm.msg.push('Project ' + nodes[i].header + ' harus memiliki child atau form')\r\n\t\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\r\n\t\t\tif(recursiveNode(vm.projects) == 0) {\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\r\n\t\t\tif (vm.weight !== 100) {\r\n\t\t\t\tvm.msg.push('Bobot project ini tidak sama dengan 100 (' + vm.weight + ')')\r\n\t\t\t\treturn 0\r\n\t\t\t}\r\n\t\r\n\t\t\tProjectService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.project', null, {reload: true})\r\n\t\t\t}, function(){})\r\n\t\t};\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.start = new Date();\r\n\t\t}\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.openStart = function($event) {\r\n\t\t\tvm.status.openedStart = true;\r\n\t\t};\r\n\t\r\n\t\tvm.openEnded = function($event) {\r\n\t\t\tvm.status.openedEnded = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.statusStart = {\r\n\t\t\topenedStart: false\r\n\t\t};\r\n\t\r\n\t\tvm.statusEnded = {\r\n\t\t\topenedEnded: false\r\n\t\t};\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction ScoringProjectController ($rootScope, $scope, $state, $modal, $timeout, projects, ProjectService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.phase = '5';//project phase\r\n\t\t\r\n\t\tvm.decimalConverter = function(nodes) {\r\n\t\t\tfor ( var i = 0; i < nodes.length; i++ ) {\r\n\t\t\t\t\r\n\t\t\t\tif (nodes[i].children.length > 0) {\r\n\t\t\t\t\tvm.decimalConverter(nodes[i].children);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnodes[i].weight = Number(nodes[i].weight);\r\n\t\t\t\t\tnodes[i].score = Number(nodes[i].score);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvm.decimalConverter(projects.projects);\r\n\t\t\r\n\t\tvm.input = projects\r\n\t\tvm.status = {}\r\n\t\tvm.projects = vm.input.projects\r\n\t\tvm.users = vm.input.users;\t\r\n\t\t\r\n\t\tvm.input.start = new Date(vm.input.date_start);\r\n\t\tvm.input.ended = new Date(vm.input.date_ended);\r\n\t\t\r\n\t\r\n\t\t$scope.$watch('vm.projects', function() {\r\n\t\t\tvm.input.projects = vm.projects;\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function() {\r\n\t\t\t\r\n\t\t\tProjectService.score(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.project', null, {reload: true})\r\n\t\t\t}, function(){})\r\n\t\t};\r\n\t\t\r\n\t\tvm.back = function() {\r\n\t\t\t$state.go('main.admin.project');\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tfunction ModalProjectController($scope, $timeout, $modalInstance, project, ProjectService) {\r\n\t\r\n\t\t$scope.input = project\r\n\r\n\t\t$scope.submit = function () {\r\n\t\t\t\r\n\t\t\t$scope.ModalProjectForm.header.$setDirty()\r\n\t\t\t$scope.ModalProjectForm.description.$setDirty()\r\n\r\n\t\t\tif ($scope.ModalProjectForm.$valid) {\r\n\t\t\t\tif ($scope.input.children) {\r\n\t\t\t\t\t$modalInstance.close($scope.input)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$scope.input.open = false,\r\n\t\t\t\t\t$scope.input.children = []\r\n\t\t\t\t\t$scope.input.delegations = []\r\n\t\t\t\t\t$modalInstance.close($scope.input)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t$scope.validated = true;\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\t$scope.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction DetailProjectController($state, project, $timeout, $modal, ProjectService) {\r\n\t\t//console.log(project);\r\n\t\r\n\t\tvar vm = this;\r\n\t\tvm.input = project;\r\n\t\t\r\n\t\tvm.input.start = new Date(vm.input.date_start);\r\n\t\tvm.input.ended = new Date(vm.input.date_ended);\r\n\t\t\r\n\t\t\r\n\t\tvm.phase = '6';\r\n\t\t\r\n\t\r\n\t\tvar recursiveChecking = function(node) {\r\n\t\t\tfor (var i = 0 ; i < node.length ; i++) {\r\n\t\t\t\tif (node[i].children.length > 0) {\r\n\t\t\t\t\trecursiveChecking(node[i].children)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//convert to javascript date\r\n\t\t\t\t\tfor(var j = 0 ; j < node[i].forms.length ; j++) {\r\n\t\t\t\t\t\tif(node[i].forms[j].uploads) {\r\n\t\t\t\t\t\t\tvar time = new Date(node[i].forms[j].uploads.created_at)\r\n\t\t\t\t\t\t\ttime.addHours(7)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tnode[i].forms[j].uploads.created_at = time\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tfor(var j = 0 ; j < node[i].delegations.length ; j++) {\r\n\t\t\t\t\t\tif(node[i].delegations[j].id == ProjectService.userId) {\r\n\t\t\t\t\t\t\tnode[i].isDelegate = true\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\trecursiveChecking(vm.input.projects)\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tvm.back = function() {\r\n\t\t\t$state.go('main.user.project');\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\r\n})();\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('JobService', ['$http', '$q', '$cacheFactory', 'API_HOST', JobService])\r\n\r\n\r\n\tfunction JobService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\t\r\n\t\tfunction JobService() {\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.store = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/job', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/job/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/job/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.department = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/department/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.university = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/university/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validating = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/validating/' + request.name + '/' + request.department_id + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.users = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/users/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.subs = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/job/subs/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new JobService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(JobRoute)\r\n\t\r\n\tfunction JobRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.job', {\r\n\t\t\t\turl: '/job',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/job/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'JobController',\r\n\t\t\t\t\t\tcontrollerAs: 'vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get()\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.job.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/job/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateJobController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.job.update', {\r\n\t\t\t\turl: '/:jobId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/job/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateJobController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tjob: function($stateParams, JobService){\r\n\t\t\t\t\t\treturn JobService.show($stateParams.jobId);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get();\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\r\n\t\t.controller('JobController', JobController)\r\n\t\t.controller('CreateJobController',  CreateJobController)\r\n\t\t.controller('UpdateJobController', UpdateJobController)\r\n\t\t\r\n\t\t.controller('CreateModalJobController', CreateModalJobController)\r\n\t\t.controller('UpdateModalJobController', UpdateModalJobController)\r\n\t\t\r\n\tfunction JobController ($state, universities, JobService) {\r\n\t\tvar vm = this\r\n\t\t\r\n\t\tvm.jobs = []\r\n\t\tvm.universities = universities\r\n\t\t\r\n\t\tvm.select = function () {\r\n\t\t\tJobService.university(vm.university_id).then(function(data){\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (id) {\r\n\t\t\t$state.go('main.admin.job.update', {jobId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Job ini?\")\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tJobService.destroy(id).then(function() {\r\n\t\t\t\t\tvm.jobs.splice(index, 1);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn vm\r\n\t}\r\n\t\r\n\tfunction CreateJobController ($scope, $state, $timeout, universities, DepartmentService, JobService) {\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\tvar timeoutPromise;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.universities = universities\r\n\t\tvm.departments = {}\r\n\t\tvm.jobs = {}\r\n\t\tvm.validated = false;\r\n\t\t\r\n\t\tvm.selectUniversity = function (id) {\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService.university(id).then(function(data){\r\n\t\t\t\tvm.departments = data;\r\n\t\t\t\tvm.loadingDepartment = false;\r\n\t\t\t\tvm.loadingJob = true;\r\n\t\t\t\t(data.length > 0) ? vm.hasDepartment = true : vm.hasDepartment = false;\r\n\t\t\t\treturn JobService.university(id)\r\n\t\t\t}).then(function(data){\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t\tvm.loadingJob = false\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.JobForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.JobForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function() {\r\n\t\t\t\t\tJobService.validating(vm.input).then(function(data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.JobForm.university_id.$setDirty();\r\n\t\t\t$scope.JobForm.department_id.$setDirty();\r\n\t\t\t$scope.JobForm.name.$setDirty();\r\n\t\r\n\t\t\tif ($scope.JobForm.$valid) {\r\n\t\t\t\tJobService.store(vm.input).then(function(){\r\n\t\t\t\t\t$state.go('main.admin.job', null, { reload: true });\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateJobController ($scope, $state, $timeout, job, universities, DepartmentService, JobService) {\r\n\t\tvar vm = this\r\n\t\tvar timeoutPromise;\r\n\t\tvm.input = job\r\n\t\tvm.universities = universities\r\n\t\tvm.departments = {}\r\n\t\tvm.jobs = {}\r\n\t\tvm.validated = false;\r\n\t\r\n\t\t\r\n\t\tvm.input.multiple = (vm.input.multiple == 1) ? true : false;\r\n\t\tvm.university_id = vm.input.department.university.id;\r\n\t\t\r\n\t\tDepartmentService.university(vm.university_id)\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tvm.departments = data;\r\n\t\t\t\tvm.loadingDepartment = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasDepartment = true : vm.hasDepartment = false\r\n\t\t\t\treturn JobService.university(vm.university_id)\r\n\t\t\t})\r\n\t\t\t.then(function (data) {\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t})\r\n\t\r\n\t\tvm.selectUniversity = function (id) {\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService\r\n\t\t\t\t.university(id)\r\n\t\t\t\t.then(function (data) {\r\n\t\t\t\t\tvm.departments = data;\r\n\t\t\t\t\tvm.loadingDepartment = false;\r\n\t\t\t\t\tvm.loadingJob = true;\r\n\t\t\t\t\t(data.length > 0) ? vm.hasDepartment = true : vm.hasDepartment = false;\r\n\t\t\t\t\treturn JobService.university(id);\r\n\t\t\t})\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t\tvm.loadingJob = false\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.JobForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.JobForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function(){\r\n\t\t\t\t\tJobService.validating(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.JobForm.university_id.$setDirty();\r\n\t\t\t$scope.JobForm.department_id.$setDirty();\r\n\t\t\t$scope.JobForm.name.$setDirty();\r\n\t\r\n\t\t\tif ($scope.JobForm.$valid) {\r\n\t\t\t\tJobService.update(vm.input).then(function(){\r\n\t\t\t\t\t$state.go('main.admin.job', null, { reload: true });\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction CreateModalJobController ($scope, $modalInstance, withOccupied, UniversityService, DepartmentService, JobService) {\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.universities = []\r\n\t\tvm.departments = []\r\n\t\tvm.jobs = []\r\n\t\tvm.validated = false\r\n\t\tvm.exsistJob = false;\r\n\t\t\r\n\t\t\r\n\t\tUniversityService.get().then(function(data){\r\n\t\t\tvm.universities = data;\r\n\t\t\tvm.loadingUniversity = false;\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tvm.selectUniversity = function(id){\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService.university(id).then(function(data){\r\n\t\t\t\tvm.departments = data;\r\n\t\t\t\tvm.loadingDepartment = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasDepartment = true : vm.hasDepartment = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectDepartment = function (id) {\r\n\t\t\tvm.loadingJob = true;\r\n\t\t\tJobService.department(id).then(function(data){\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t\tvm.loadingJob = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasJob = true : vm.hasJob = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectJob = function(data) {\r\n\t\t\tif (vm.input.id) {\r\n\t\t\t\tvm.loadingJob = true;\r\n\t\t\t\tJobService.users(data.id).then(function(data) {\r\n\t\t\t\t\tif(withOccupied)\r\n\t\t\t\t\t(data.multiple == 0 && data.users.length > 0) ? vm.occupied = data.users[0].name : vm.occupied = undefined;\r\n\t\t\t\t\tvm.loadingJob = false;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.UserJobForm.university.$setDirty();\r\n\t\t\t$scope.UserJobForm.department.$setDirty();\r\n\t\t\t$scope.UserJobForm.job.$setDirty();\r\n\t\r\n\t\t\tif ($scope.UserJobForm.$valid) {\r\n\t\t\t\tvm.input.department = vm.department\r\n\t\t\t\t$modalInstance.close(vm.input);\r\n\t\t\t} else {\r\n\t\t\t\tvm.validated = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateModalJobController($rootScope, $scope, $modalInstance, job, withOccupied, UniversityService, DepartmentService, JobService) {\r\n\t\t\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = job\r\n\t\tvm.universities = []\r\n\t\tvm.departments = []\r\n\t\tvm.jobs = []\r\n\t\tvm.validated = false\r\n\t\tvm.exsistJob = false;\r\n\t\r\n\t\tvm.loadingUniversity = true\r\n\t\tUniversityService.get().then(function(data){\r\n\t\t\tvm.universities = data;\r\n\t\t\tvm.university = vm.universities[$rootScope.findObject(vm.universities, vm.input.department.university)];\r\n\t\t\tvm.hasUniversity = true;\r\n\t\t\tvm.loadingUniversity = false;\r\n\t\t\tvm.loadingDepartment = true;\r\n\t\t\treturn DepartmentService.university(vm.university.id)\r\n\t\t}).then(function(data) {\r\n\t\t\tvm.departments = data\r\n\t\t\tvm.department = vm.departments[$rootScope.findObject(vm.departments, vm.input.department)];\r\n\t\t\tvm.hasDepartment = true\r\n\t\t\tvm.loadingDepartment = false\r\n\t\t\tvm.loadingJob = true\r\n\t\t\treturn JobService.department(vm.department.id)\r\n\t\t}).then(function(data) {\r\n\t\t\tvm.jobs = data;\r\n\t\t\tvm.input = vm.jobs[$rootScope.findObject(vm.jobs, vm.input)];\r\n\t\t\tvm.hasJob = true\r\n\t\t\tvm.loadingJob = false\r\n\t\t})\r\n\r\n\t\r\n\t\tvm.selectUniversity = function(id){\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService.university(id).then(function(data){\r\n\t\t\t\tvm.departments = data;\r\n\t\t\t\tvm.loadingDepartment = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasDepartment = true : vm.hasDepartment = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectDepartment = function (id) {\r\n\t\t\tvm.loadingJob = true;\r\n\t\t\tJobService.department(id).then(function(data){\r\n\t\t\t\tvm.jobs = data;\r\n\t\t\t\tvm.loadingJob = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasJob = true : vm.hasJob = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectJob = function(data) {\r\n\t\t\tif (vm.input.id) {\r\n\t\t\t\tvm.loadingJob = true;\r\n\t\t\t\tJobService.users(data.id).then(function(data) {\r\n\t\t\t\t\tif(withOccupied)\r\n\t\t\t\t\t(data.multiple == 0 && data.users.length > 0) ? vm.occupied = data.users[0].name : vm.occupied = undefined;\r\n\t\t\t\t\tvm.loadingJob = false;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.UserJobForm.university.$setDirty();\r\n\t\t\t$scope.UserJobForm.department.$setDirty();\r\n\t\t\t$scope.UserJobForm.job.$setDirty();\r\n\t\r\n\t\t\tif ($scope.UserJobForm.$valid) {\r\n\t\t\t\tvm.input.department = vm.department\r\n\t\t\t\t$modalInstance.close(vm.input);\r\n\t\t\t} else {\r\n\t\t\t\tvm.validated = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.close = function () {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('InstructionService', ['$http', '$q', '$cacheFactory', 'Upload', 'API_HOST', InstructionService])\r\n\r\n\tfunction InstructionService ($http, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\t\r\n\t\tfunction InstructionService(){\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/instruction')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/instruction/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.store = function(request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/instruction',\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.update = function(request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/instruction/' + request.id,\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttransformRequest: function(request){\r\n\t\t\t\t\t\trequest._method = 'PUT';\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/instruction/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.guide = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/instruction/guide/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingNo = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/instruction/validating/no/' + request.no + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingDescription = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/instruction/validating/description/' + request.description + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;  \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new InstructionService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(InstructionRoute)\r\n\t\r\n\tfunction InstructionRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.instruction', {\r\n\t\t\t\turl: '/instruction',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/instruction/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'InstructionController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tinstructions: function(InstructionService){\r\n\t\t\t\t\t\treturn InstructionService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.instruction.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/instruction/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateInstructionController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.instruction.update', {\r\n\t\t\t\turl: '/:instructionId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/instruction/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateInstructionController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tinstruction: function($stateParams, InstructionService){\r\n\t\t\t\t\t\treturn InstructionService.show($stateParams.instructionId);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('InstructionController', InstructionController)\r\n\t\t.controller('CreateInstructionController', CreateInstructionController)\r\n\t\t.controller('UpdateInstructionController', UpdateInstructionController)\r\n\r\n\r\n\tfunction InstructionController($state, instructions, InstructionService){\r\n\t\tvar vm = this;\r\n\t\tvm.instructions = instructions\r\n\t\r\n\t\r\n\t\r\n\t\tvm.update = function(id){\r\n\t\t\t$state.go('main.admin.instruction.update', {instructionId: id});\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index){\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Instruksi ini?\");\r\n\t\t\t(alert == true) ? InstructionService.destroy(id).then(function(){\r\n\t\t\t\tvm.instructions.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateInstructionController($scope, $state, $timeout, standards, StandardDocumentService, GuideService, InstructionService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.standards = standards;\r\n\t\tvm.standardDocuments = {}\r\n\t\tvm.guides = {}\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = true;\r\n\t\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true;\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true\r\n\t\t\tGuideService.standardDocument(id).then(function(data){\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true: vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function(){\r\n\t\t\tvar validInput = $scope.InstructionForm.no.$invalid\r\n\t\t\tvar dirtyInput = $scope.InstructionForm.no.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tInstructionService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function(){\r\n\t\t\tvar validInput = $scope.InstructionForm.description.$invalid;\r\n\t\t\tvar dirtyInput = $scope.InstructionForm.description.$dirty;\r\n\t\t\tif(!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise);\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tInstructionService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t};\r\n\t\t});\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.InstructionForm.standard_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.standard_document_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.guide_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.no.$setDirty();\r\n\t\t\t$scope.InstructionForm.date.$setDirty();\r\n\t\t\t$scope.InstructionForm.description.$setDirty();\r\n\t\t\t$scope.InstructionForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.InstructionForm.$valid) ? InstructionService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.instruction', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\t\r\n\t\tvm.toggleMin();\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateInstructionController ($scope, $state, $timeout, instruction, standards, StandardDocumentService, GuideService, InstructionService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\tvm.input = instruction\r\n\t\tvm.standards = standards;\r\n\t\tvm.standardDocuments = {}\r\n\t\tvm.guides = {}\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = false;\r\n\t\tvm.hasStandard = vm.hasStandardDocument = vm.hasGuide = vm.hasInstruction = true;\r\n\t\t\t\r\n\t\tvm.input.date = new Date(vm.input.date)\r\n\t\tvm.standard_id = vm.input.guide.standard_document.standard.id;\r\n\t\t\r\n\t\tvm.loadingStandardDocument = true;\r\n\t\tStandardDocumentService.standard(vm.standard_id).then(function(data){\r\n\t\t\tvm.standardDocuments = data;\r\n\t\t\tvm.standard_document_id = vm.input.guide.standard_document.id;\r\n\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\treturn GuideService.standardDocument(vm.standard_document_id);\r\n\t\t}).then(function(data){\r\n\t\t\tvm.guides = data;\r\n\t\t\tvm.loadingGuide = false;\r\n\t\t})\r\n\t\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true;\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tGuideService.standardDocument(id).then(function(data){\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true : vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function(){\r\n\t\t\tvar validInput = $scope.InstructionForm.no.$invalid;\r\n\t\t\tvar dirtyInput = $scope.InstructionForm.no.$dirty;\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise);\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function() {\r\n\t\t\t\t\tInstructionService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function(){\r\n\t\t\tvar validInput = $scope.InstructionForm.description.$invalid;\r\n\t\t\tvar dirtyInput = $scope.InstructionForm.description.$dirty;\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tInstructionService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.InstructionForm.standard_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.standard_document_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.guide_id.$setDirty();\r\n\t\t\t$scope.InstructionForm.no.$setDirty();\r\n\t\t\t$scope.InstructionForm.date.$setDirty();\r\n\t\t\t$scope.InstructionForm.description.$setDirty();\r\n\t\t\t$scope.InstructionForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.InstructionForm.$valid) ? InstructionService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.instruction', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\t\r\n\t\tvm.today();\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n})();\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('GuideService', ['$http', '$q', '$cacheFactory', 'Upload', 'API_HOST', GuideService])\r\n\r\n\tfunction GuideService ($http, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\t\r\n\t\tfunction GuideService() {\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function (){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/guide')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function(request){\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.get(API_HOST + '/guide/' + request).then(function(response){\r\n\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.store = function(request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/guide',\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function(request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/guide/' + request.id,\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttransformRequest: function(request){\r\n\t\t\t\t\t\trequest._method = 'PUT';\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function(request) {\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t$http.delete(API_HOST + '/guide/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.standardDocument = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/guide/standardDocument/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingNo = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/guide/validating/no/' + request.no + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t});\r\n\t\t\t\treturn deferred.promise; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.validatingDescription = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/guide/validating/description/' + request.description + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new GuideService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(GuideRoute)\r\n\t\r\n\tfunction GuideRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.guide', {\r\n\t\t\t\turl: '/guide',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/guide/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'GuideController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tguides: function(GuideService){\r\n\t\t\t\t\t\treturn GuideService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.guide.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/guide/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateGuideController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.guide.update', {\r\n\t\t\t\turl: '/:guideId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/guide/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateGuideController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tguide: function($stateParams, GuideService){\r\n\t\t\t\t\t\treturn GuideService.show($stateParams.guideId)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('GuideController', GuideController)\r\n\t\t.controller('CreateGuideController', CreateGuideController)\r\n\t\t.controller('UpdateGuideController', UpdateGuideController)\r\n\t\r\n\tfunction GuideController ($state, guides, GuideService){\r\n\t\tvar vm = this;\r\n\t\tvm.guides = guides;\r\n\t\r\n\t\tvm.update = function(id) {\r\n\t\t\t$state.go('main.admin.guide.update', {guideId: id});\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index){\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Dokumen Pedoman ini?\");\r\n\t\t\t(alert == true) ? GuideService.destroy(id).then(function(){\r\n\t\t\t\tvm.guides.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateGuideController($scope, $state, $timeout, standards, StandardDocumentService, GuideService){\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise\r\n\t\tvm.input = {}\r\n\t\tvm.standards = standards\r\n\t\tvm.standardDocuments = {}\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = true\r\n\t\r\n\t\tvm.select = function (id) {\r\n\t\t\tvm.loadingStandardDocument = true\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function(){\r\n\t\t\tvar validInput = $scope.GuideForm.no.$invalid;\r\n\t\t\tvar dirtyInput = $scope.GuideForm.no.$dirty;\r\n\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tGuideService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.GuideForm.description.$invalid\r\n\t\t\tvar dirtyInput = $scope.GuideForm.description.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tGuideService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.GuideForm.standard_id.$setDirty();\r\n\t\t\t$scope.GuideForm.standard_document_id.$setDirty();\r\n\t\t\t$scope.GuideForm.no.$setDirty();\r\n\t\t\t$scope.GuideForm.date.$setDirty();\r\n\t\t\t$scope.GuideForm.description.$setDirty();\r\n\t\t\t$scope.GuideForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.GuideForm.$valid) ? GuideService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.guide', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.today = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\t\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateGuideController ($scope, $state, $timeout, guide, standards, StandardDocumentService, GuideService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\tvm.input = guide\r\n\t\tvm.standards = standards\r\n\t\tvm.standardDocuments = []\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = false\r\n\t\t\r\n\t\tvm.input.date = new Date(vm.input.date);\r\n\t\tvm.standard_id = vm.input.standard_document.standard.id;\r\n\t\tvm.hasStandardDocument = true;\r\n\t\t\r\n\t\tvm.select = function(id){\r\n\t\t\tvm.loadingStandardDocument = true;\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tvm.select(vm.standard_id);\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function () {\r\n\t\t\tvar validInput = $scope.GuideForm.no.$invalid\r\n\t\t\tvar dirtyInput = $scope.GuideForm.no.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function() {\r\n\t\t\t\t\tGuideService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.GuideForm.description.$invalid\r\n\t\t\tvar dirtyInput = $scope.GuideForm.description.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tGuideService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function() {\r\n\t\t\t$scope.GuideForm.standard_id.$setDirty();\r\n\t\t\t$scope.GuideForm.no.$setDirty();\r\n\t\t\t$scope.GuideForm.date.$setDirty();\r\n\t\t\t$scope.GuideForm.description.$setDirty();\r\n\t\t\t$scope.GuideForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.GuideForm.$valid) ? GuideService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.guide', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('GroupJobService', GroupJobService)\r\n\t\t.factory('GroupJobDetailService', GroupJobDetailService)\r\n\r\n\tfunction GroupJobService ($http, $q, $cacheFactory, API_HOST) {\r\n\r\n\t\tfunction GroupJobService() {\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/groupJob')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/groupJob/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/groupJob', request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/groupJob/' + request.id, request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/groupJob/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.validatingName = function (request){\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/groupJob/validating/name/' + request.name + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn new GroupJobService()\r\n\t}\r\n\t\r\n\tfunction GroupJobDetailService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\t\r\n\t\tfunction GroupJobDetailService(){\r\n\t\t\tvar self = this;\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\r\n\t\t\t\r\n\t\t\tself.store = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.post(API_HOST + '/groupJob/' + request.groupJob_id + '/job', request).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\tdeferred.resolve(response.data);\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.patch(API_HOST + '/groupJob/' + request.groupJob_id + '/job/' + request.job_id, request).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\tdeferred.resolve(response.data);\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/groupJob/' + request.groupJob_id + '/job/' + request.job_id).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll();\r\n\t\t\t\t\tdeferred.resolve(response.data);\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response.data)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new GroupJobDetailService();\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(GroupJobRoute)\r\n\t\r\n\tfunction GroupJobRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.groupJob', {\r\n\t\t\t\turl: '/groupJob',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/groupJob/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'GroupJobController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tgroupJobs: function(GroupJobService){\r\n\t\t\t\t\t\treturn GroupJobService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.groupJob.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/groupJob/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateGroupJobController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.groupJob.update', {\r\n\t\t\t\turl: '/:groupJobId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/groupJob/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateGroupJobController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tgroupJob: function($stateParams, GroupJobService){\r\n\t\t\t\t\t\treturn GroupJobService.show($stateParams.groupJobId)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('GroupJobController', GroupJobController)\r\n\t\t.controller('CreateGroupJobController', CreateGroupJobController)\r\n\t\t.controller('UpdateGroupJobController', UpdateGroupJobController)\r\n\r\n\tfunction GroupJobController ($state, groupJobs, GroupJobService) {\r\n\t\tvar vm = this;\r\n\t\tvm.groupJobs = groupJobs;\r\n\t\r\n\t\tvm.update = function(id){\r\n\t\t\t$state.go('main.admin.groupJob.update', {groupJobId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index){\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Group Job ini?\");\r\n\t\t\t(alert == true) ? GroupJobService.destroy(id).then(function(){\r\n\t\t\t\tgroupJobs.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateGroupJobController ($rootScope, $scope, $state, $timeout, $modal, GroupJobService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNamePromise;\r\n\t\tvm.input = {}\r\n\t\tvm.input.jobs = []\r\n\t\tvm.validated = false\r\n\t\r\n\t\r\n\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validInput = $scope.GroupJobForm.name.$invalid\r\n\t\t\tvar dirtyInput = $scope.GroupJobForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNamePromise)\r\n\t\t\t\tvm.loadingName = true;\r\n\t\t\t\ttimeoutNamePromise = $timeout(function(){\r\n\t\t\t\t\tGroupJobService.validatingName(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existName = true : vm.existName = false;\r\n\t\t\t\t\t\tvm.loadingName = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.addJob = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\twithOccupied: false,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job){\r\n\t\t\t\t$rootScope.pushIfUnique(vm.input.jobs, job)\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (object, index) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tjob: object,\r\n\t\t\t\t\twithOccupied: false,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job) {\r\n\t\t\t\t($rootScope.findObject(vm.input.jobs, job) == -1) \r\n\t\t\t\t? vm.input.jobs[index] = job  \r\n\t\t\t\t: alert('Pekerjaan ini sudah bagian dari group');\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (object, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Job ini dari GroupJob?\")\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tvm.input.jobs.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.GroupJobForm.name.$setDirty();\r\n\t\t\t$scope.GroupJobForm.description.$setDirty();\r\n\t\t\t($scope.GroupJobForm.$valid) ? GroupJobService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.groupJob', null, {reload: true});\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateGroupJobController ($rootScope, $scope, $state, $timeout, $modal, groupJob, GroupJobService, GroupJobDetailService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNamePromise;\r\n\t\tvm.input = groupJob;\r\n\t\tvm.validated = false\r\n\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validInput = $scope.GroupJobForm.name.$invalid\r\n\t\t\tvar dirtyInput = $scope.GroupJobForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNamePromise)\r\n\t\t\t\tvm.loadingName = true;\r\n\t\t\t\ttimeoutNamePromise = $timeout(function(){\r\n\t\t\t\t\tGroupJobService.validatingName(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existName = true : vm.existName = false;\r\n\t\t\t\t\t\tvm.loadingName = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\tvm.addJob = function(){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'CreateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\twithOccupied: false,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job){\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tgroupJob_id: vm.input.id,\r\n\t\t\t\t\tid: job.id,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tGroupJobDetailService.store(data).then(function(data){\r\n\t\t\t\t\tvm.input.jobs.push(data);\r\n\t\t\t\t}, function(data){\r\n\t\t\t\t\talert(data.body);\r\n\t\t\t\t})\r\n\t\t\t}, function(){});\r\n\t\t}\r\n\t\r\n\t\tvm.update = function (object, index) {\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\tanimation: true,\r\n\t\t\t\ttemplateUrl: 'app/admin/job/views/modal.html',\r\n\t\t\t\tcontroller: 'UpdateModalJobController as vm',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tjob: function(){\r\n\t\t\t\t\t\tdelete object.pivot;\r\n\t\t\t\t\t\treturn object;\r\n\t\t\t\t\t},\r\n\t\t\t\t\twithOccupied: false,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\tmodalInstance.result.then(function(job) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tgroupJob_id: vm.input.id,\r\n\t\t\t\t\tjob_id: object.id,\r\n\t\t\t\t\tid: job.id,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tGroupJobDetailService.update(data).then(function(data){\r\n\t\t\t\t\tvm.input.jobs[index] = data;\r\n\t\t\t\t}, function(data){\r\n\t\t\t\t\talert(data.body);\r\n\t\t\t\t})\r\n\t\t\t}, function () {\r\n\t\t\t\t//$log.info('Modal dismissed at: ' + new Date());\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (object, index) {\r\n\t\t\tvar data = {\r\n\t\t\t\tgroupJob_id: vm.input.id,\r\n\t\t\t\tjob_id: object.id,\r\n\t\t\t}\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Job ini dari GroupJob?\")\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tGroupJobDetailService.destroy(data).then(function(data){\r\n\t\t\t\t\tvm.input.jobs.splice(index, 1);\r\n\t\t\t\t}, function(data){})\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.GroupJobForm.name.$setDirty();\r\n\t\t\t$scope.GroupJobForm.description.$setDirty();\r\n\t\t\t($scope.GroupJobForm.$valid) ? GroupJobService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.groupJob', null, {reload: true});\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n\r\n})();\r\n\r\n\r\n\r\n\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('FormService', ['$http', '$q', '$cacheFactory', 'Upload', 'API_HOST', FormService])\r\n\t\r\n\tfunction FormService ($http, $q, $cacheFactory, Upload, API_HOST) {\r\n\t\tfunction FormService() {\r\n\t\t\tvar self = this\r\n\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\r\n\t\t\tself.get = function () {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/form')\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.show = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/form/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.store = function (request) {\r\n\t\t\t\t//console.log(request);\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/form',\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.update = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\tUpload.upload({\r\n\t\t\t\t\turl: API_HOST + '/form/' + request.id,\r\n\t\t\t\t\tdata: request,\r\n\t\t\t\t\ttransformRequest: function(request){\r\n\t\t\t\t\t\trequest._method = 'PUT';\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then(function(response){\r\n\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t}, function(response){\r\n\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.destroy = function (request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.delete(API_HOST + '/form/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.instruction = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/form/instruction/' + request)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.validatingNo = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/form/validating/no/' + request.no + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise \r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tself.validatingDescription = function(request) {\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$http.get(API_HOST + '/form/validating/description/' + request.no + '/' + request.id)\r\n\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t})\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new FormService()\r\n\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(FormRoute)\r\n\t\r\n\tfunction FormRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.form', {\r\n\t\t\t\turl: '/form',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/form/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'FormController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tforms: function(FormService){\r\n\t\t\t\t\t\treturn FormService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.form.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/form/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateFormController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.form.update', {\r\n\t\t\t\turl: '/:formId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/form/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateFormController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tform: function($stateParams, FormService){\r\n\t\t\t\t\t\treturn FormService.show($stateParams.formId);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstandards: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('FormController', FormController)\r\n\t\t.controller('CreateFormController', CreateFormController)\r\n\t\t.controller('UpdateFormController', UpdateFormController)\r\n\t\t.controller('CreateModalFormController', CreateModalFormController)\r\n\t\t.controller('UpdateModalFormController', UpdateModalFormController)\r\n\t\t\r\n\r\n\t\r\n\t\r\n\t\r\n\tfunction FormController ($state, forms, FormService) {\r\n\t\tvar vm = this;\r\n\t\tvm.forms = forms;\r\n\t\r\n\t\tvm.update = function(id){\r\n\t\t\t$state.go('main.admin.form.update', {formId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function (id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Form ini?\");\r\n\t\t\t(alert == true) ? FormService.destroy(id).then(function(){\r\n\t\t\t\tvm.forms.splice(index, 1);\r\n\t\t\t}) : null;\r\n\t\t}\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateFormController ($scope, $state, $timeout, standards, StandardDocumentService, GuideService, InstructionService, FormService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\tvm.input = {};\r\n\t\tvm.standards = standards;\r\n\t\tvm.standardDocuments = [];\r\n\t\tvm.guides = [];\r\n\t\tvm.instructions = [];\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = true;\r\n\t\r\n\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tGuideService.standardDocument(id).then(function (data) {\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true : vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectGuide = function (id) {\r\n\t\t\tvm.loadingInstruction = true\r\n\t\t\tInstructionService.guide(id).then(function(data){\r\n\t\t\t\tvm.instructions = data;\r\n\t\t\t\tvm.loadingInstruction = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasGuide = true : vm.hasGuide = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function () {\r\n\t\t\tvar validInput = $scope.FormForm.no.$invalid;\r\n\t\t\tvar dirtyInput = $scope.FormForm.no.$dirty;\r\n\t\t\tif (!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tFormService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t});\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.FormForm.description.$invalid;\r\n\t\t\tvar dirtyInput = $scope.FormForm.description.$dirty;\r\n\t\t\tif (!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tFormService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\t\t\r\n\t\t});\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.FormForm.standard_id.$setDirty();\r\n\t\t\t$scope.FormForm.standard_document_id.$setDirty();\r\n\t\t\t$scope.FormForm.guide_id.$setDirty();\r\n\t\t\t$scope.FormForm.instruction_id.$setDirty();\r\n\t\t\t$scope.FormForm.no.$setDirty();\r\n\t\t\t$scope.FormForm.date.$setDirty();\r\n\t\t\t$scope.FormForm.description.$setDirty();\r\n\t\t\t$scope.FormForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.FormForm.$valid) ? FormService.store(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.form', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.vm = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateFormController ($scope, $state, $stateParams, $timeout, form, standards, StandardDocumentService, GuideService, InstructionService, FormService) {\r\n\t\tvar vm = this;\r\n\t\tvar timeoutNoPromise, timeoutDescriptionPromise;\r\n\t\tvm.input = form;\r\n\t\tvm.standards = standards;\r\n\t\tvm.standardDocuments = [];\r\n\t\tvm.guides = [];\r\n\t\tvm.instructions = [];\r\n\t\tvm.validated = false;\r\n\t\tvm.requiredUpload = false;\r\n\t\t\r\n\t\tvm.hasStandard = vm.hasStandardDocument = vm.hasGuide = vm.hasInstruction = true;\r\n\t\tvm.input.date = new Date(vm.input.date)\r\n\t\tvm.standard_id = vm.input.instruction.guide.standard_document.standard.id;\r\n\r\n\r\n\t\tStandardDocumentService.standard(vm.standard_id).then(function(data){\r\n\t\t\tvm.standardDocuments = data;\r\n\t\t\tvm.standard_document_id = vm.input.instruction.guide.standard_document.id;\r\n\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tvm.hasStandardDocument = true;\r\n\t\t\treturn GuideService.standardDocument(vm.standard_document_id);\r\n\t\t}).then(function(data){\r\n\t\t\tvm.guides = data;\r\n\t\t\tvm.guide_id = vm.input.instruction.guide.id;\r\n\t\t\tvm.loadingGuide = false;\r\n\t\t\tvm.loadingInstruction = true;\r\n\t\t\tvm.hasGuide = true;\r\n\t\t\treturn InstructionService.guide(vm.guide_id);\r\n\t\t}).then(function(data){\r\n\t\t\tvm.instructions = data;\r\n\t\t\tvm.instruction_id = vm.input.instruction.id;\r\n\t\t\tvm.loadingInstruction = false\r\n\t\t\tvm.hasInstruction = true\r\n\t\t});\r\n\t\t\t\t\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tGuideService.standardDocument(id).then(function (data) {\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true : vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectGuide = function(id){\r\n\t\t\tvm.loadingInstruction = true\r\n\t\t\tInstructionService.guide(id).then(function(data){\r\n\t\t\t\tvm.instructions = data;\r\n\t\t\t\tvm.loadingInstruction = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasGuide = true : vm.hasGuide = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('vm.input.no', function () {\r\n\t\t\tvar validInput = $scope.FormForm.no.$invalid;\r\n\t\t\tvar dirtyInput = $scope.FormForm.no.$dirty;\r\n\t\t\tif (!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutNoPromise)\r\n\t\t\t\tvm.loadingNo = true;\r\n\t\t\t\ttimeoutNoPromise = $timeout(function(){\r\n\t\t\t\t\tFormService.validatingNo(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existNo = true : vm.existNo = false;\r\n\t\t\t\t\t\tvm.loadingNo = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t});\r\n\t\r\n\t\t$scope.$watch('vm.input.description', function () {\r\n\t\t\tvar validInput = $scope.FormForm.description.$invalid;\r\n\t\t\tvar dirtyInput = $scope.FormForm.description.$dirty;\r\n\t\t\tif (!validInput && dirtyInput){\r\n\t\t\t\t$timeout.cancel(timeoutDescriptionPromise)\r\n\t\t\t\tvm.loadingDescription = true;\r\n\t\t\t\ttimeoutDescriptionPromise = $timeout(function(){\r\n\t\t\t\t\tFormService.validatingDescription(vm.input).then(function(data){\r\n\t\t\t\t\t\t(data.length > 0) ? vm.existDescription = true : vm.existDescription = false;\r\n\t\t\t\t\t\tvm.loadingDescription = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\t\t\r\n\t\t});\r\n\t\r\n\t\tvm.submit = function(){\r\n\t\t\t$scope.FormForm.standard_id.$setDirty();\r\n\t\t\t$scope.FormForm.standard_document_id.$setDirty();\r\n\t\t\t$scope.FormForm.guide_id.$setDirty();\r\n\t\t\t$scope.FormForm.instruction_id.$setDirty();\r\n\t\t\t$scope.FormForm.no.$setDirty();\r\n\t\t\t$scope.FormForm.date.$setDirty();\r\n\t\t\t$scope.FormForm.description.$setDirty();\r\n\t\t\t$scope.FormForm.file.$setDirty();\r\n\t\r\n\t\t\t($scope.FormForm.$valid) ? FormService.update(vm.input).then(function(){\r\n\t\t\t\t$state.go('main.admin.form', null, { reload: true });\r\n\t\t\t}) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.vm = function() {\r\n\t\t\tvm.input.date = new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin = function() {\r\n\t\t\tvm.minDate = vm.minDate ? null : new Date();\r\n\t\t};\r\n\t\r\n\t\tvm.open = function($event) {\r\n\t\t\tvm.status.opened = true;\r\n\t\t};\r\n\t\r\n\t\tvm.dateOptions = {\r\n\t\t\tformatYear: 'yy',\r\n\t\t\tstartingDay: 1\r\n\t\t};\r\n\t\r\n\t\tvm.status = {\r\n\t\t\topened: false\r\n\t\t};\r\n\t\r\n\t\tvm.toggleMin();\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateModalFormController($scope, $modalInstance, StandardService, StandardDocumentService, GuideService, InstructionService, FormService){\r\n\t\tvar vm = this;\r\n\t\tvm.input = {}\r\n\t\tvm.standards = {}\r\n\t\tvm.standardDocuments = {}\r\n\t\tvm.guides = {}\r\n\t\tvm.instructions = {}\r\n\t\tvm.validated = false;\r\n\t\t\r\n\t\t\r\n\t\tvm.loadingStandard = true;\r\n\t\tStandardService.get().then(function(data){\r\n\t\t\tvm.standards = data;\r\n\t\t\tvm.hasStandard = true;\r\n\t\t\tvm.loadingStandard = false;\r\n\t\t});\r\n\t\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tGuideService.standardDocument(id).then(function (data) {\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true : vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectGuide = function(id){\r\n\t\t\tvm.loadingInstruction = true\r\n\t\t\tInstructionService.guide(id).then(function(data){\r\n\t\t\t\tvm.instructions = data;\r\n\t\t\t\tvm.loadingInstruction = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasGuide = true : vm.hasGuide = false;\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tvm.selectInstruction = function(id){\r\n\t\t\tvm.loadingForm = true;\r\n\t\t\tFormService.instruction(id).then(function(data){\r\n\t\t\t\tvm.forms = data;\r\n\t\t\t\tvm.loadingForm = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasInstruction = true : vm.hasInstruction = false;\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(file){\r\n\t\t\t$scope.FormForm.standard.$setDirty();\r\n\t\t\t$scope.FormForm.standard_document.$setDirty();\r\n\t\t\t$scope.FormForm.guide.$setDirty();\r\n\t\t\t$scope.FormForm.instruction.$setDirty();\r\n\t\t\t$scope.FormForm.form.$setDirty();\r\n\t\t\t\r\n\t\t\t($scope.FormForm.$valid) ? $modalInstance.close(vm.input) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.close = function(){\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction UpdateModalFormController ($log, $rootScope, $scope, $modalInstance, form, StandardService, StandardDocumentService, GuideService, InstructionService, FormService){\r\n\t\tvar vm = this;\r\n\t\tvm.input = form;\r\n\t\tvm.standards = {}\r\n\t\tvm.standardDocuments = {}\r\n\t\tvm.guides = {}\r\n\t\tvm.instructions = {}\r\n\t\tvm.validated = false;\r\n\t\r\n\r\n\t\tvm.loadingStandard = true;\r\n\t\tStandardService.get().then(function(data){\r\n\t\t\tvm.standards = data;\r\n\t\t\tvm.standard = vm.standards[$rootScope.findObject(vm.standards, vm.input.instruction.guide.standard_document.standard)]\r\n\t\t\tvm.loadingStandard = false;\r\n\t\t\tvm.loadingStandardDocument = true;\r\n\t\t\tvm.hasStandard = true;\r\n\t\t\treturn StandardDocumentService.standard(vm.standard.id)\r\n\t\t}).then(function(data){\r\n\t\t\tvm.standardDocuments = data;\r\n\t\t\tvm.standard_document = vm.standardDocuments[$rootScope.findObject(vm.standardDocuments, vm.input.instruction.guide.standard_document)];\r\n\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tvm.hasStandardDocument = true;\r\n\t\t\treturn GuideService.standardDocument(vm.standard_document.id);\r\n\t\t}).then(function(data){\r\n\t\t\tvm.guides = data;\r\n\t\t\tconsole.log(data);\r\n\t\t\tvm.guide = vm.guides[$rootScope.findObject(vm.guides, vm.input.instruction.guide)];\r\n\t\t\tconsole.log(vm.guide);\r\n\t\t\tvm.loadingGuide = false;\r\n\t\t\tvm.loadingInstruction = true;\r\n\t\t\tvm.hasGuide = true;\r\n\t\t\t$log.info('guide.id:' + vm.guide.id)\r\n\t\t\treturn InstructionService.guide(vm.guide.id)\r\n\t\t}).then(function(data){\r\n\t\t\tvm.instructions = data;\r\n\t\t\tvm.instruction = vm.instructions[$rootScope.findObject(vm.instructions, vm.input.instruction)];\r\n\t\t\tvm.loadingInstruction = false;\r\n\t\t\tvm.loadingForm = true;\r\n\t\t\tvm.hasInstruction = true;\r\n\t\t\t$log.info('instruction.id:' + vm.instruction.id)\r\n\t\t\treturn FormService.instruction(vm.instruction.id)\r\n\t\t}).then(function(data){\r\n\t\t\tvm.forms = data;\r\n\t\t\tvm.input = vm.forms[$rootScope.findObject(vm.forms, vm.input)];\r\n\t\t\tvm.loadingForm = false;\r\n\t\t\tvm.hasForm = true;\r\n\t\t})\r\n\t\t\t\t\t\t\r\n\t\tvm.selectStandard = function(id){\r\n\t\t\tvm.loadingStandardDocument = true\r\n\t\t\tStandardDocumentService.standard(id).then(function(data){\r\n\t\t\t\tvm.standardDocuments = data;\r\n\t\t\t\tvm.loadingStandardDocument = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandard = true : vm.hasStandard = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectStandardDocument = function(id){\r\n\t\t\tvm.loadingGuide = true;\r\n\t\t\tGuideService.standardDocument(id).then(function (data) {\r\n\t\t\t\tvm.guides = data;\r\n\t\t\t\tvm.loadingGuide = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasStandardDocument = true : vm.hasStandardDocument = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectGuide = function(id){\r\n\t\t\tvm.loadingInstruction = true\r\n\t\t\tInstructionService.guide(id).then(function(data){\r\n\t\t\t\tvm.instructions = data;\r\n\t\t\t\tvm.loadingInstruction = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasGuide = true : vm.hasGuide = false;\r\n\t\t\t})\r\n\t\t}\r\n\t\r\n\t\tvm.selectInstruction = function(id){\r\n\t\t\tvm.loadingForm = true;\r\n\t\t\tFormService.instruction(id).then(function(data){\r\n\t\t\t\tvm.forms = data;\r\n\t\t\t\tvm.loadingForm = false;\r\n\t\t\t\t(data.length > 0) ? vm.hasInstruction = true : vm.hasInstruction = false;\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tvm.submit = function(file){\r\n\t\t\t$scope.FormForm.standard.$setDirty();\r\n\t\t\t$scope.FormForm.standard_document.$setDirty();\r\n\t\t\t$scope.FormForm.guide.$setDirty();\r\n\t\t\t$scope.FormForm.instruction.$setDirty();\r\n\t\t\t$scope.FormForm.form.$setDirty();\r\n\t\r\n\t\t\t($scope.FormForm.$valid) ? $modalInstance.close(vm.input) : vm.validated = true;\r\n\t\t}\r\n\t\r\n\t\tvm.close = function(){\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}\r\n\t\r\n\t\treturn vm;\r\n\t}\r\n})();\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(DepartmentRouter)\r\n\t\r\n\tfunction DepartmentRouter($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.document', {\r\n\t\t\t\turl: '/document',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/document/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'DocumentController',\r\n\t\t\t\t\t\tcontrollerAs: 'vm',\r\n\t\t\t\t\t}\r\n\t\t\t\t}, \r\n\t\t\t\tresolve:{\r\n\t\t\t\t\tdocuments: function(StandardService){\r\n\t\t\t\t\t\treturn StandardService.getAll()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n    'use strict'\r\n    \r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('DocumentController', DocumentController)\r\n\t\t.directive('documentTree', DocumentTree)\r\n    \r\n    function DocumentController($scope, $state, $timeout, documents, API_HOST){\r\n\t   var vm = this;\r\n       \r\n        $scope.pdfUrl =  'http://localhost:8000/upload/form/FORMRPKPS_20151106102811.pdf'\r\n            \r\n        vm.documents = documents;\r\n        vm.tree = [];\r\n        \r\n        vm.convert = function() {\r\n            for(var i = 0 ; i < vm.documents.length ; i++) {\r\n    \r\n                var standard = vm.documents[i]\r\n                var standard_documents = []\r\n                \r\n                for(var j = 0 ; j < standard.standard_documents.length ; j++) {\r\n                    \r\n                    var standard_document = standard.standard_documents[j]\t\r\n                    var guidelines = []\r\n                    \r\n                    for(var k = 0 ; k < standard_document.guides.length ; k++) {\r\n                        \r\n                        var guide = standard_document.guides[k]\r\n                        var instructions = []\r\n                        \r\n                        for(var l = 0 ; l < guide.instructions.length ; l++) {\r\n                            \r\n                            var instruction = guide.instructions[l]\r\n                            var forms = []\r\n                            \r\n                            for(var m = 0 ; m < instruction.forms.length ; m++) {\r\n                                \r\n                                var form = instruction.forms[m]\r\n                                \r\n                                \r\n                                forms.push({\r\n                                    label: form.description,\r\n                                    document: form.document,\r\n                                    onSelect: function(branch) {\r\n                                        $scope.pdfUrl = API_HOST + '/upload/form/' + branch.document\r\n                                    },\r\n                                    type: (form.document) ? true : false,\r\n                                })\r\n                                \r\n                                \r\n                            }\r\n                            \r\n                            \r\n                            instructions.push({\r\n                                label: instruction.description,\r\n                                document: instruction.document,\r\n                                onSelect: function(branch) {\r\n                                    $scope.pdfUrl = API_HOST + '/upload/instruction/' + branch.document\r\n                                },\r\n                                type: (instruction.document) ? true : false,\r\n                                children: forms\r\n                            })\r\n                        }\r\n                        \r\n                        var hasDocument = false;\r\n                        if (guide.document !== '') {\r\n                            hasDocument = true;\r\n                        }\r\n                        \r\n                        guidelines.push({\r\n                            label: guide.description,\r\n                            document: guide.document,\r\n                            onSelect: function(branch) {\r\n                                $scope.pdfUrl = API_HOST + '/upload/guide/' + branch.document\r\n                            },\r\n                            type: (guide.document) ? true : false,\r\n                            children: instructions\r\n                        })\r\n                    }\r\n                    \r\n                    standard_documents.push({\r\n                        label: standard_document.description,\r\n                        document: standard_document.document,\r\n                        onSelect: function(branch) {\r\n                            console.log(API_HOST + '/upload/standardDocument/' + branch.document)\r\n                            $scope.pdfUrl = API_HOST + '/upload/standardDocument/' + branch.document\r\n                        },\r\n                        type: (standard_document.document) ? true : false,\r\n                        children: guidelines\r\n                    })\r\n                }\r\n                \r\n                vm.tree.push({\r\n                    label: standard.description,\r\n                    type: false,\r\n                    children: standard_documents\r\n                })\r\n            }\r\n        }\r\n        \r\n        vm.convert();\r\n        \r\n        return vm;\r\n    }\r\n    \r\n   \r\n\r\n    function DocumentTree($timeout) {\r\n        \r\n        return {\r\n            restrict: 'E',\r\n            template: \"\" \r\n                + \"<ul class=\\\"nav nav-list nav-pills nav-stacked abn-tree\\\">\"\r\n                    + \"<li ng-repeat=\\\"row in tree_rows | filter:{visible:true} track by row.branch.uid\\\" ng-animate=\\\"'abn-tree-animate'\\\" ng-class=\\\"'level-' + {{ row.level }} + (row.branch.selected ? ' active':'')\\\" class=\\\"abn-tree-row\\\">\"\r\n                        + \"<a>\"\r\n                            + \"&nbsp;<i ng-class=\\\"row.tree_icon\\\" ng-click=\\\"row.branch.expanded = !row.branch.expanded\\\" class=\\\"indented tree-icon\\\"></i>\"\r\n                            + \"&nbsp;<i ng-class=\\\"{'fa fa-file': row.type }\\\" class=\\\"indented tree-icon\\\"></i>\"\r\n                            + \"&nbsp;<span class=\\\"indented tree-label\\\" ng-click=\\\"user_clicks_branch(row.branch)\\\">{{ row.label }}</span>\"\r\n                        + \"</a>\"\r\n                    + \"</li>\"\r\n                + \"</ul>\",\r\n            replace: true,\r\n            scope: {\r\n                treeData: '=',\r\n                onSelect: '&',\r\n                initialSelection: '@',\r\n                treeControl: '='\r\n            },\r\n    \r\n            link: function(scope, element, attrs) {\r\n                \r\n                var error, expand_all_parents, expand_level, for_all_ancestors, for_each_branch, get_parent, n, on_treeData_change, select_branch, selected_branch, tree;\r\n                \r\n                error = function(s) {\r\n                    console.log('ERROR:' + s);\r\n                    debugger;\r\n                    return void 0;\r\n                };\r\n        \r\n                if (attrs.iconExpand == null) {\r\n                    attrs.iconExpand = 'glyphicon glyphicon-plus  fa fa-plus';\r\n                }\r\n        \r\n                if (attrs.iconCollapse == null) {\r\n                    attrs.iconCollapse = 'glyphicon glyphicon-minus fa fa-minus';\r\n                }\r\n        \r\n                if (attrs.iconLeaf == null) {\r\n                    attrs.iconLeaf = '';\r\n                }\r\n        \r\n                if (attrs.expandLevel == null) {\r\n                    attrs.expandLevel = '3';\r\n                }\r\n        \r\n                expand_level = parseInt(attrs.expandLevel, 10);\r\n            \r\n                if (!scope.treeData) {\r\n                    alert('no treeData defined for the tree!');\r\n                    return;\r\n                }\r\n        \r\n                if (scope.treeData.length == null) {\r\n                    if (treeData.label != null) {\r\n                        scope.treeData = [treeData];\r\n                    } else {\r\n                        alert('treeData should be an array of root branches');\r\n                        return;\r\n                    }\r\n                }\r\n        \r\n                for_each_branch = function(f) {\r\n                    var do_f, root_branch, _i, _len, _ref, _results;\r\n    \r\n                    do_f = function(branch, level) {\r\n                        var child, _i, _len, _ref, _results;\r\n                        f(branch, level);\r\n                        if (branch.children != null) {\r\n                            _ref = branch.children;\r\n                            _results = [];\r\n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                                child = _ref[_i];\r\n                                _results.push(do_f(child, level + 1));\r\n                            }\r\n                            return _results;\r\n                        }\r\n                    };\r\n                    \r\n                    _ref = scope.treeData;\r\n                    _results = [];\r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        root_branch = _ref[_i];\r\n                        _results.push(do_f(root_branch, 1));\r\n                    }\r\n                    return _results;\r\n                };\r\n        \r\n                selected_branch = null;\r\n                \r\n                select_branch = function(branch) {\r\n    \r\n                    if (!branch) {\r\n                        if (selected_branch != null) {\r\n                            selected_branch.selected = false;\r\n                        }\r\n                        selected_branch = null;\r\n                        return;\r\n                    }\r\n            \r\n                    if (branch !== selected_branch) {\r\n                        if (selected_branch != null) {\r\n                            selected_branch.selected = false;\r\n                        }\r\n                        branch.selected = true;\r\n                        selected_branch = branch;\r\n                        expand_all_parents(branch);\r\n                        \r\n                        if (branch.onSelect != null) {\r\n                            return $timeout(function() {\r\n                                return branch.onSelect(branch);\r\n                            });\r\n                        } else {\r\n                            if (scope.onSelect != null) {\r\n                                return $timeout(function() {\r\n                                    return scope.onSelect({\r\n                                        branch: branch\r\n                                    });\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n        \r\n                scope.user_clicks_branch = function(branch) {\r\n                    if (branch !== selected_branch) {\r\n                        return select_branch(branch);\r\n                    }\r\n                };\r\n        \r\n                get_parent = function(child) {\r\n                    var parent;\r\n                    parent = void 0;\r\n                    \r\n                    if (child.parent_uid) {\r\n                        for_each_branch(function(b) {\r\n                            if (b.uid === child.parent_uid) {\r\n                                return parent = b;\r\n                            }\r\n                        });\r\n                    }\r\n            \r\n                    return parent;\r\n                };\r\n        \r\n                for_all_ancestors = function(child, fn) {\r\n                    var parent;\r\n                    parent = get_parent(child);\r\n            \r\n                    if (parent != null) {\r\n                        fn(parent);\r\n                        return for_all_ancestors(parent, fn);\r\n                    }\r\n                };\r\n        \r\n                expand_all_parents = function(child) {\r\n                    return for_all_ancestors(child, function(b) {\r\n                        return b.expanded = true;\r\n                    });\r\n                };\r\n        \r\n                scope.tree_rows = [];\r\n    \r\n                on_treeData_change = function() {\r\n                    var add_branch_to_list, root_branch, _i, _len, _ref, _results;\r\n                    \r\n                    for_each_branch(function(b, level) {\r\n                    \r\n                        if (!b.uid) {\r\n                            return b.uid = \"\" + Math.random();\r\n                        }\r\n                    });\r\n    \r\n                    //console.log('UIDs are set.');\r\n        \r\n                    for_each_branch(function(b) {\r\n    \r\n                        var child, _i, _len, _ref, _results;\r\n                        \r\n                        if (angular.isArray(b.children)) {\r\n                            _ref = b.children;\r\n                            _results = [];\r\n                            \r\n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                                child = _ref[_i];\r\n                                _results.push(child.parent_uid = b.uid);\r\n                            }\r\n                            return _results;\r\n                        }\r\n                    });\r\n    \r\n                    scope.tree_rows = [];\r\n                \r\n                    for_each_branch(function(branch) {\r\n    \r\n                        var child, f;\r\n                        \r\n                        if (branch.children) {\r\n                            if (branch.children.length > 0) {\r\n                                f = function(e) {\r\n                                    if (typeof e === 'string') {\r\n                                        return {\r\n                                            label: e,\r\n                                            children: []\r\n                                        };\r\n                                    } else {\r\n                                        return e;\r\n                                    }\r\n                                };\r\n                    \r\n                                return branch.children = (function() {\r\n                                    \r\n                                    var _i, _len, _ref, _results;\r\n                                    _ref = branch.children;\r\n                                    _results = [];\r\n                                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                                        child = _ref[_i];\r\n                                        _results.push(f(child));\r\n                                    }\r\n                            \r\n                                    return _results;\r\n                                })();\r\n                            }\r\n                        } else {\r\n                            return branch.children = [];\r\n                        }\r\n                    });\r\n    \r\n    \r\n                    add_branch_to_list = function(level, branch, visible) {\r\n                        var child, child_visible, tree_icon, _i, _len, _ref, _results;\r\n                \r\n                        if (branch.expanded == null) {\r\n                            branch.expanded = false;\r\n                        }\r\n                \r\n                        if (!branch.children || branch.children.length === 0) {\r\n                            tree_icon = attrs.iconLeaf;\r\n                        } else {\r\n                            if (branch.expanded) {\r\n                                tree_icon = attrs.iconCollapse;\r\n                            } else {\r\n                                tree_icon = attrs.iconExpand;\r\n                            }\r\n                        }\r\n    \r\n                        scope.tree_rows.push({\r\n                            level: level,\r\n                            branch: branch,\r\n                            label: branch.label,\r\n                            type: branch.type,\r\n                            tree_icon: tree_icon,\r\n                            visible: visible\r\n                        });\r\n    \r\n                        if (branch.children != null) {\r\n                            _ref = branch.children;\r\n                            _results = [];\r\n                            \r\n                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                                child = _ref[_i];\r\n                                child_visible = visible && branch.expanded;\r\n                                _results.push(add_branch_to_list(level + 1, child, child_visible));\r\n                            }\r\n                            return _results;\r\n                        }\r\n                    };\r\n                \r\n                    _ref = scope.treeData;\r\n                    _results = [];\r\n                    \r\n                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n                        root_branch = _ref[_i];\r\n                        _results.push(add_branch_to_list(1, root_branch, true));\r\n                    }\r\n                    \r\n                    return _results;\r\n                };\r\n    \r\n                scope.$watch('treeData', on_treeData_change, true);\r\n    \r\n                if (attrs.initialSelection != null) {\r\n                    for_each_branch(function(b) {\r\n                        if (b.label === attrs.initialSelection) {\r\n                            return $timeout(function() {\r\n                                return select_branch(b);\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n        \r\n                n = scope.treeData.length;\r\n                \r\n        for_each_branch(function(b, level) {\r\n            b.level = level;\r\n            return b.expanded = b.level < expand_level;\r\n        });\r\n        \r\n        if (scope.treeControl != null) {\r\n            if (angular.isObject(scope.treeControl)) {\r\n                tree = scope.treeControl;\r\n                \r\n                tree.expand_all = function() {\r\n                    return for_each_branch(function(b, level) {\r\n                        return b.expanded = true;\r\n                    });\r\n                };\r\n                \r\n                tree.collapse_all = function() {\r\n                    return for_each_branch(function(b, level) {\r\n                        return b.expanded = false;\r\n                    });\r\n                };\r\n                \r\n                tree.get_first_branch = function() {\r\n                    n = scope.treeData.length;\r\n                    if (n > 0) {\r\n                        return scope.treeData[0];\r\n                    }\r\n                };\r\n                \r\n                tree.select_first_branch = function() {\r\n                    var b;\r\n                    b = tree.get_first_branch();\r\n                    return tree.select_branch(b);\r\n                };\r\n                \r\n                tree.get_selected_branch = function() {\r\n                    return selected_branch;\r\n                };\r\n                \r\n                tree.get_parent_branch = function(b) {\r\n                    return get_parent(b);\r\n                };\r\n                \r\n                tree.select_branch = function(b) {\r\n                    select_branch(b);\r\n                    return b;\r\n                };\r\n                \r\n                tree.get_children = function(b) {\r\n                    return b.children;\r\n                };\r\n                \r\n                tree.select_parent_branch = function(b) {\r\n                    var p;\r\n                    if (b == null) {\r\n                        b = tree.get_selected_branch();\r\n                    }\r\n                    \r\n                    if (b != null) {\r\n                        p = tree.get_parent_branch(b);\r\n                        if (p != null) {\r\n                            tree.select_branch(p);\r\n                            return p;\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.add_branch = function(parent, new_branch) {\r\n                    if (parent != null) {\r\n                        parent.children.push(new_branch);\r\n                        parent.expanded = true;\r\n                    } else {\r\n                        scope.treeData.push(new_branch);\r\n                    }\r\n                    return new_branch;\r\n                };\r\n                \r\n                tree.add_root_branch = function(new_branch) {\r\n                    tree.add_branch(null, new_branch);\r\n                    return new_branch;\r\n                };\r\n                \r\n                tree.expand_branch = function(b) {\r\n                    if (b == null) {\r\n                        b = tree.get_selected_branch();\r\n                    }\r\n                \r\n                    if (b != null) {\r\n                        b.expanded = true;\r\n                        return b;\r\n                    }\r\n                };\r\n                \r\n                tree.collapse_branch = function(b) {\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    \r\n                    if (b != null) {\r\n                        b.expanded = false;\r\n                        return b;\r\n                    }\r\n                };\r\n                \r\n                tree.get_siblings = function(b) {\r\n                    var p, siblings;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    \r\n                    if (b != null) {\r\n                        p = tree.get_parent_branch(b);\r\n                        if (p) {\r\n                            siblings = p.children;\r\n                        } else {\r\n                            siblings = scope.treeData;\r\n                        }\r\n                        return siblings;\r\n                    }\r\n                };\r\n                \r\n                tree.get_next_sibling = function(b) {\r\n                    var i, siblings;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        siblings = tree.get_siblings(b);\r\n                        n = siblings.length;\r\n                        i = siblings.indexOf(b);\r\n                        if (i < n) {\r\n                            return siblings[i + 1];\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.get_prev_sibling = function(b) {\r\n                    var i, siblings;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    siblings = tree.get_siblings(b);\r\n                    n = siblings.length;\r\n                    i = siblings.indexOf(b);\r\n                    if (i > 0) {\r\n                        return siblings[i - 1];\r\n                    }\r\n                };\r\n                \r\n                tree.select_next_sibling = function(b) {\r\n                    var next;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        next = tree.get_next_sibling(b);\r\n                        if (next != null) {\r\n                            return tree.select_branch(next);\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.select_prev_sibling = function(b) {\r\n                    var prev;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        prev = tree.get_prev_sibling(b);\r\n                        if (prev != null) {\r\n                            return tree.select_branch(prev);\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.get_first_child = function(b) {\r\n                    var _ref;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        if (((_ref = b.children) != null ? _ref.length : void 0) > 0) {\r\n                            return b.children[0];\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.get_closest_ancestor_next_sibling = function(b) {\r\n                    var next, parent;\r\n                    next = tree.get_next_sibling(b);\r\n                    if (next != null) {\r\n                        return next;\r\n                    } else {\r\n                        parent = tree.get_parent_branch(b);\r\n                        return tree.get_closest_ancestor_next_sibling(parent);\r\n                    }\r\n                };\r\n                \r\n                tree.get_next_branch = function(b) {\r\n                    var next;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        next = tree.get_first_child(b);\r\n                        if (next != null) {\r\n                            return next;\r\n                        } else {\r\n                            next = tree.get_closest_ancestor_next_sibling(b);\r\n                            return next;\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.select_next_branch = function(b) {\r\n                    var next;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        next = tree.get_next_branch(b);\r\n                        if (next != null) {\r\n                            tree.select_branch(next);\r\n                            return next;\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                tree.last_descendant = function(b) {\r\n                    var last_child;\r\n                    if (b == null) {\r\n                        debugger;\r\n                    }\r\n                    n = b.children.length;\r\n                    if (n === 0) {\r\n                        return b;\r\n                    } else {\r\n                        last_child = b.children[n - 1];\r\n                        return tree.last_descendant(last_child);\r\n                    }\r\n                };\r\n                \r\n                tree.get_prev_branch = function(b) {\r\n                    var parent, prev_sibling;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        prev_sibling = tree.get_prev_sibling(b);\r\n                        if (prev_sibling != null) {\r\n                            return tree.last_descendant(prev_sibling);\r\n                        } else {\r\n                            parent = tree.get_parent_branch(b);\r\n                            return parent;\r\n                        }\r\n                    }\r\n                };\r\n                \r\n                return tree.select_prev_branch = function(b) {\r\n                    var prev;\r\n                    if (b == null) {\r\n                        b = selected_branch;\r\n                    }\r\n                    if (b != null) {\r\n                        prev = tree.get_prev_branch(b);\r\n                        if (prev != null) {\r\n                            tree.select_branch(prev);\r\n                            return prev;\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }\r\n            }\r\n    }\t\r\n    }\r\n})();\r\n\r\n\r\n\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('DepartmentService', ['$http', '$q', '$cacheFactory', 'API_HOST', DepartmentService])\r\n\r\n\r\n\t\tfunction DepartmentService ($http, $q, $cacheFactory, API_HOST) {\r\n\t\t\tfunction DepartmentService() {\r\n\t\t\t\tvar cacheUniversity = null;\r\n\t\t\t\t\r\n\t\t\t\tvar self = this\r\n\t\t\t\tvar $httpDefaultCache = $cacheFactory.get('$http');\r\n\t\t\t\t\r\n\t\t\t\tself.get = function () {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.get(API_HOST + '/department')\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tself.show = function (request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.get(API_HOST + '/department/' + request)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tself.store = function(request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.post(API_HOST + '/department', request)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tself.update = function (request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.patch(API_HOST + '/department/' + request.id, request)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tself.destroy = function (request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.delete(API_HOST + '/department/' + request)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\t$httpDefaultCache.removeAll()\r\n\t\t\t\t\t\t\tdeferred.resolve(response)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tself.university = function (request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.get(API_HOST + '/department/university/' + request)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tself.validating = function (request) {\r\n\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t$http.get(API_HOST + '/department/validating/' + request.name + '/' + request.id + '/' + request.university_id)\r\n\t\t\t\t\t\t.then(function(response){\r\n\t\t\t\t\t\t\tdeferred.resolve(response.data)\r\n\t\t\t\t\t\t}, function(response){\r\n\t\t\t\t\t\t\tdeferred.reject(response)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn new DepartmentService()\r\n\t\t}\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(DepartmentRouter)\r\n\t\r\n\tfunction DepartmentRouter($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main.admin.department', {\r\n\t\t\t\turl: '/department',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/department/views/list.html',\r\n\t\t\t\t\t\tcontroller: 'DepartmentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tdepartments: function(DepartmentService){\r\n\t\t\t\t\t\treturn DepartmentService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.department.create', {\r\n\t\t\t\turl: '/create',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/department/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'CreateDepartmentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\r\n\t\t\t.state('main.admin.department.update', {\r\n\t\t\t\turl: '/:departmentId',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content@main.admin' : {\r\n\t\t\t\t\t\ttemplateUrl: 'app/admin/department/views/form.html',\r\n\t\t\t\t\t\tcontroller: 'UpdateDepartmentController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tdepartment: function($stateParams, DepartmentService){\r\n\t\t\t\t\t\treturn DepartmentService.show($stateParams.departmentId);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuniversities: function(UniversityService){\r\n\t\t\t\t\t\treturn UniversityService.get();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdepartments: function(DepartmentService){\r\n\t\t\t\t\t\treturn DepartmentService.get();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('DepartmentController', DepartmentController)\r\n\t\t.controller('CreateDepartmentController', CreateDepartmentController)\r\n\t\t.controller('UpdateDepartmentController', UpdateDepartmentController)\r\n\r\n\tfunction DepartmentController ($state, departments, DepartmentService) {\r\n\t\tvar vm = this\r\n\t\tvm.departments = departments\r\n\t\r\n\t\tvm.update = function (id) {\r\n\t\t\t$state.go('main.admin.department.update', {departmentId: id})\r\n\t\t}\r\n\t\r\n\t\tvm.destroy = function(id, index) {\r\n\t\t\tvar alert = confirm(\"Apakah Anda yakin ingin menghapus Department ini?\")\r\n\t\t\tif (alert == true) {\r\n\t\t\t\tDepartmentService.destroy(id).then(function(){\r\n\t\t\t\t\tvm.departments.splice(index, 1);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\t\r\n\tfunction CreateDepartmentController ($scope, $state, $timeout, universities, DepartmentService) {\r\n\t\t\r\n\t\tvar timeoutPromise;\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.universities = universities\r\n\t\tvm.departments = {}\r\n\t\tvm.validated = false;\r\n\t\t\r\n\t\tvm.select = function() {\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService.university(vm.input.university_id).then(function(data){\r\n\t\t\t\tvm.loadingDepartment = false\r\n\t\t\t\tvm.departments = data\r\n\t\t\t\tif (vm.input.name) {\r\n\t\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\t\tvm.loading = true;\r\n\t\t\t\t\ttimeoutPromise = $timeout(function() {\r\n\t\t\t\t\t\treturn DepartmentService.validating(vm.input)\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.DepartmentForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.DepartmentForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function(){\r\n\t\t\t\t\tDepartmentService.validating(vm.input).then(function (data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.DepartmentForm.name.$setDirty();\r\n\t\t\t$scope.DepartmentForm.university_id.$setDirty();\r\n\t\r\n\t\t\tif ($scope.DepartmentForm.$valid){\r\n\t\t\t\tDepartmentService.store(vm.input).then(function(){\r\n\t\t\t\t\t$state.go('main.admin.department', null, { reload: true })\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction UpdateDepartmentController ($scope, $state, $timeout, department, universities, departments, DepartmentService) {\r\n\t\tvar timeoutPromise;\r\n\t\tvar vm = this;\r\n\t\t\r\n\t\tvm.input = department\r\n\t\tvm.departments = departments\r\n\t\tvm.universities = universities\r\n\t\tvm.validated = false;\r\n\t\t\r\n\t\tvm.select = function() {\r\n\t\t\tvm.loadingDepartment = true\r\n\t\t\tDepartmentService.university(vm.input.university_id).then(function(data){\r\n\t\t\t\tvm.loadingDepartment = false\r\n\t\t\t\tvm.departments = data\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t$scope.$watch('vm.input.name', function () {\r\n\t\t\tvar validName = $scope.DepartmentForm.name.$invalid\r\n\t\t\tvar dirtyName = $scope.DepartmentForm.name.$dirty\r\n\t\t\t\r\n\t\t\tif (!validName && dirtyName) {\r\n\t\t\t\t$timeout.cancel(timeoutPromise)\r\n\t\t\t\tvm.loading = true;\r\n\t\t\t\ttimeoutPromise = $timeout(function(){\r\n\t\t\t\t\tDepartmentService.validating(vm.input).then(function (data) {\r\n\t\t\t\t\t\t(data.length > 0) ? vm.exist = true : vm.exist = false\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t\tvm.submit = function () {\r\n\t\t\t$scope.DepartmentForm.name.$setDirty();\r\n\t\t\t$scope.DepartmentForm.university_id.$setDirty();\r\n\t\r\n\t\t\tif ($scope.DepartmentForm.$valid){\r\n\t\t\t\tDepartmentService.update(vm.input).then(function (data) {\r\n\t\t\t\t\t$state.go('main.admin.department', null, {reload: true});\r\n\t\t\t\t})\r\n\t\t\t} else vm.validated = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn vm;\r\n\t}\r\n\r\n})();\r\n\r\n\r\n\r\n\n\n(function(){\r\n\t'use strict'\r\n\tangular.module('spmiFrontEnd')\r\n\t\t.config(AdminRoute)\r\n\t\r\n\tfunction AdminRoute($stateProvider){\r\n\t\t$stateProvider.state('main.admin', {\r\n\t\t\turl:'admin',\r\n\t\t\tparent: 'main',\r\n\t\t\tviews: {\r\n\t\t\t\t'@': {\r\n\t\t\t\t\ttemplateUrl: 'app/admin/dashboard/views/main.html',\r\n\t\t\t\t\tcontroller: 'AdminController as admin'\r\n\t\t\t\t},\r\n\t\t\t\t'content@main.admin': {\r\n\t\t\t\t\ttemplateUrl: 'app/admin/dashboard/views/dashboard.html',\r\n\t\t\t\t\tcontroller: 'AdminController as admin'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\ttype: ['1']\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n})();\n(function () {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('AdminController', AdminController)\r\n\t\t\r\n\t\r\n\tfunction AdminController ($state, $timeout, $auth, CURRENT_USER) {\r\n\t\tvar admin = this\r\n\t\t\r\n\t\tadmin.user = CURRENT_USER\r\n\t\tadmin.debug = true\r\n\t\r\n\t\tadmin.logout = function(){\r\n\t\t\t$auth.logout().then(function(){\r\n\t\t\t\tCURRENT_USER = {}\r\n\t\t\t\t$state.go('login');\r\n\t\t\t}, function(response){})\r\n\t\t}\r\n\t\r\n\t\tadmin.line = {\r\n\t\t\tlabels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\r\n\t\t\tseries: ['Series A', 'Series B'],\r\n\t\t\tdata: [\r\n\t\t\t[65, 59, 80, 81, 56, 55, 40],\r\n\t\t\t[28, 48, 40, 19, 86, 27, 90]\r\n\t\t\t],\r\n\t\t\tonClick: function (points, evt) {\r\n\t\t\tconsole.log(points, evt);\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\tadmin.bar = {\r\n\t\t\tlabels: ['2006', '2007', '2008', '2009', '2010', '2011', '2012'],\r\n\t\t\tseries: ['Series A', 'Series B'],\r\n\t\r\n\t\t\tdata: [\r\n\t\t\t[65, 59, 80, 81, 56, 55, 40],\r\n\t\t\t[28, 48, 40, 19, 86, 27, 90]\r\n\t\t\t]\r\n\t\t\t\r\n\t\t};\r\n\t\r\n\t\tadmin.donut = {\r\n\t\t\tlabels: [\"Download Sales\", \"In-Store Sales\", \"Mail-Order Sales\"],\r\n\t\t\tdata: [300, 500, 100]\r\n\t\t};\r\n\t\r\n\t\tadmin.radar = {\r\n\t\t\tlabels:[\"Eating\", \"Drinking\", \"Sleeping\", \"Designing\", \"Coding\", \"Cycling\", \"Running\"],\r\n\t\r\n\t\t\tdata:[\r\n\t\t\t\t[65, 59, 90, 81, 56, 55, 40],\r\n\t\t\t\t[28, 48, 40, 19, 96, 27, 100]\r\n\t\t\t]\r\n\t\t};\r\n\t\r\n\t\tadmin.pie = {\r\n\t\t\tlabels : [\"Download Sales\", \"In-Store Sales\", \"Mail-Order Sales\"],\r\n\t\t\tdata : [300, 500, 100]\r\n\t\t};\r\n\t\r\n\t\tadmin.polar = {\r\n\t\t\tlabels : [\"Download Sales\", \"In-Store Sales\", \"Mail-Order Sales\", \"Tele Sales\", \"Corporate Sales\"],\r\n\t\t\tdata : [300, 500, 100, 40, 120]\r\n\t\t};\r\n\t\r\n\t\tadmin.dynamic = {\r\n\t\t\tlabels : [\"Download Sales\", \"In-Store Sales\", \"Mail-Order Sales\", \"Tele Sales\", \"Corporate Sales\"],\r\n\t\t\tdata : [300, 500, 100, 40, 120],\r\n\t\t\ttype : 'PolarArea',\r\n\t\r\n\t\t\ttoggle : function () \r\n\t\t\t{\r\n\t\t\t\tthis.type = this.type === 'PolarArea' ?\r\n\t\t\t\t'Pie' : 'PolarArea';\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\treturn admin;\r\n\t}\r\n\r\n})();\r\n\r\n\r\n\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('RegisterController', RegisterController)\r\n\t\r\n\tfunction generateYear () {\r\n\t\tvar today = new Date().getFullYear();\r\n\r\n\t\tvar object = []\r\n\t\tfor (var i = 10; i < 100; i++) {\r\n\t\t\tobject.push({year: today-i})\r\n\t\t}\r\n\t\treturn object//[{no: 1, year:'2015'}, {no: 2, year:'2014'}, {no: 3, year:'2013'}]\r\n\t}\r\n\t\r\n\tfunction generateMonth () {\r\n\t\treturn [\r\n\t\t\t{id: 1, month: 'Januari'},\r\n\t\t\t{id: 2, month: 'Febuari'},\r\n\t\t\t{id: 3, month: 'Maret'},\r\n\t\t\t{id: 4, month: 'April'},\r\n\t\t\t{id: 5, month: 'Mei'},\r\n\t\t\t{id: 6, month: 'Juni'},\r\n\t\t\t{id: 7, month: 'Juli'},\r\n\t\t\t{id: 8, month: 'Agustus'},\r\n\t\t\t{id: 9, month: 'September'},\r\n\t\t\t{id: 10, month: 'Oktober'},\r\n\t\t\t{id: 11, month: 'November'},\r\n\t\t\t{id: 12, month: 'Desember'},\r\n\t\t]\r\n\t}\r\n\t\r\n\tfunction generateDay (year, month) {\r\n\t\tvar tanggal = []\r\n\t\tvar j = 0;\r\n\t\t\r\n\t\tif (year.year % 4 == 0 && month == 2) {\r\n\t\t\tj = 29\r\n\t\t} else if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n\t\t\tj = 31\r\n\t\t} else if (month == 2) {\r\n\t\t\tj = 28\r\n\t\t} else {\r\n\t\t\tj = 30\r\n\t\t}\r\n\t\r\n\t\tfor (var i = 1 ; i <= j ; i++) {\r\n\t\t\ttanggal.push({day: i})\r\n\t\t}\r\n\t\r\n\t\treturn tanggal\r\n\t}\r\n\t\r\n\tfunction RegisterController($rootScope, $scope, $state, $timeout, $modal, UserService) {\r\n\t\tvar timeoutNikPromise, timeoutEmailPromise\r\n\t\t$scope.input = {}\r\n\t\t$scope.input.userJobs = []\r\n\t\t$scope.years = {}\r\n\t\t$scope.months = {}\r\n\t\t$scope.days = {}\r\n\t\t$scope.validated = false\r\n\t\r\n\t\t$scope.load = function () {\r\n\t\t\t$scope.submitting = false\r\n\t\t\t$scope.years =  generateYear()\r\n\t\t}\r\n\t\r\n\t\t$scope.$watch('input.nik', function () {\r\n\t\t\tvar validInput = $scope.RegistrationForm.nik.$invalid\r\n\t\t\tvar dirtyInput = $scope.RegistrationForm.nik.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutNikPromise)\r\n\t\t\t\t$scope.loadingNik = true;\r\n\t\t\t\ttimeoutNikPromise = $timeout(function() {\r\n\t\t\t\t\tUserService\r\n\t\t\t\t\t\t.validatingNik($scope.input)\r\n\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\t\t$scope.existNik = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$scope.existNik = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$scope.loadingNik = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.$watch('input.email', function () {\r\n\t\t\tvar validInput = $scope.RegistrationForm.email.$invalid\r\n\t\t\tvar dirtyInput = $scope.RegistrationForm.email.$dirty\r\n\t\t\t\r\n\t\t\tif (!validInput && dirtyInput) {\r\n\t\t\t\t$timeout.cancel(timeoutEmailPromise)\r\n\t\t\t\t$scope.loadingEmail = true;\r\n\t\t\t\ttimeoutEmailPromise = $timeout(function() {\r\n\t\t\t\t\tUserService\r\n\t\t\t\t\t\t.validatingEmail($scope.input)\r\n\t\t\t\t\t\t.then(function (data) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\t\t$scope.existEmail = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$scope.existEmail = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$scope.loadingEmail = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\t\t\r\n\t\t})\r\n\t\r\n\t\t$scope.selectYear = function () {\r\n\t\t\t\r\n\t\t\t$scope.month = undefined;\r\n\t\t\t$scope.day = undefined;\r\n\t\t\t$scope.months = generateMonth()\r\n\t\t\t$scope.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\t$scope.selectMonth = function () {\r\n\r\n\t\t\t$scope.day = undefined;\r\n\t\t\t$scope.days = generateDay($scope.year, $scope.month)\r\n\t\t\t$scope.input.born = undefined\r\n\t\t}\r\n\t\r\n\t\t$scope.selectDay = function () {\r\n\t\t\t$scope.input.born = new Date($scope.year.year, $scope.month - 1, $scope.day.day + 1)\r\n\t\t}\r\n\t\r\n\t\t$scope.submit = function () {\r\n\t\t\t\r\n\t\t\t$scope.RegistrationForm.nik.$setDirty();\r\n\t\t\t$scope.RegistrationForm.name.$setDirty();\r\n\t\t\t$scope.RegistrationForm.day.$setDirty();\r\n\t\t\t$scope.RegistrationForm.address.$setDirty();\r\n\t\t\t$scope.RegistrationForm.email.$setDirty();\r\n\t\t\t$scope.RegistrationForm.password.$setDirty();\r\n\t\t\t$scope.RegistrationForm.confirmation.$setDirty();\r\n\t\r\n\t\t\tif ($scope.RegistrationForm.$valid) {\r\n\t\t\t\t$scope.submitting = true\r\n\t\t\t\tUserService.register($scope.input).then(function (data) {\r\n\t\t\t\t\t$scope.submitting = false\r\n\t\t\t\t\t$state.go('register.information', {email: $scope.input.email})\r\n\t\t\t\t\t\r\n\t\t\t\t}, function() {\r\n\t\t\t\t\t$state.go('error')\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t$scope.validated = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\t$scope.load();\r\n\t}\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('spmiFrontEnd')\r\n        .controller('MainController', MainController);\r\n    \r\n    /** @ngInject */\r\n    function MainController($state, $timeout, $auth) {\r\n \r\n        var vm = this\r\n        \r\n        vm.load = function(){\r\n            console.log($auth.isAuthenticated())\r\n        }\r\n        \r\n        vm.load();\r\n        \r\n        \r\n        return vm\r\n    }\r\n    \r\n})();\r\n\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.config(LoginRoute)\r\n\t\t\r\n\tfunction LoginRoute($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('login', {\r\n\t\t\t\turl:'/login',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: 'app/login/login.html',\r\n\t\t\t\t\t\tcontroller: 'LoginController as vm'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\ttype: []\r\n\t\t\t\t},\r\n\t\t\t\t/*\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tback: function($rootScope, $q, $state, UserService) {\r\n\t\t\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t\t\tUserService.identity()\r\n\t\t\t\t\t\t\t.then(function() {\r\n\t\t\t\t\t\t\t\tif($rootScope.toState.name == 'login' || $rootScope.toState.name == 'register') {\r\n\t\t\t\t\t\t\t\t\tdeferred.resolve()\r\n\t\t\t\t\t\t\t\t\t$state.go($rootScope.fromState.name)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdeferred.resolve()\r\n\t\t\t\t\t\t\t}, function() {\r\n\t\t\t\t\t\t\t\tdeferred.resolve()\r\n\t\t\t\t\t\t\t})\r\n\t\r\n\t\t\t\t\t\treturn deferred.promise\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\r\n\t\t\t})\r\n\t}\r\n})();\n(function() {\r\n\t'use strict'\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.controller('LoginController', LoginController)\r\n\t\t\r\n\tfunction LoginController ($scope, $state, $stateParams, $sanitize, $auth, CURRENT_USER, UserService) {\r\n\t\t\r\n\t\tvar vm = this\r\n\t\t\r\n\t\tvm.input = {}\r\n\t\tvm.validated = false\r\n\t\tvm.errorLogin = false\r\n\t\tvm.alert = {}\r\n\t\r\n\t\tvm.load = function () {\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tvm.submit = function () {\r\n\t\r\n\t\t\t$scope.LoginForm.email.$setDirty();\r\n\t\t\t$scope.LoginForm.password.$setDirty();\r\n\t\t\t\r\n\t\t\tif ($scope.LoginForm.$valid) {\r\n\t\t\t\tvm.input.email = $sanitize(vm.input.email);\r\n\t\t\t\tvm.input.password = $sanitize(vm.input.password);\r\n\t\t\t\t$auth.login(vm.input).then(function(data){\r\n\t\t\t\t\treturn UserService.identity()\r\n\t\t\t\t}, function(data) {\r\n\t\t\t\t\talert(data);\r\n\t\t\t\t}).then(function(data){\r\n\t\t\t\t\tCURRENT_USER.id = data.id\r\n\t\t\t\t\tCURRENT_USER.name = data.name\r\n\t\t\t\t\tCURRENT_USER.type = data.type\r\n\t\t\t\t\tCURRENT_USER.status = data.status\r\n\t\t\t\t\tCURRENT_USER.nik = data.nik\r\n\t\t\t\t\tif(data.status == 2){\r\n\t\t\t\t\t\tif(data.type == 1){\r\n\t\t\t\t\t\t\t$state.go('main');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.type == 2){\r\n\t\t\t\t\t\t\t$state.go('main.user');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$state.go('denied');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}, function(){})\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tvm.validated = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvm.register = function() {\r\n\t\t\t$state.go('register')\r\n\t\t}\r\n\t\r\n\t\tvm.load();\r\n\t\t\r\n\t\treturn vm\r\n\t}\r\n})();\n(function(){\r\n\t\r\n\t'use strict'\r\n\t\r\n\tangular\r\n\t\t.module('spmiFrontEnd')\r\n\t\t.factory('Authorization', Authorization)\r\n\t\t\r\n\t//Authorization.$inject =  ['$rootScope', '$state','$http', '$timeout', '$q', '$auth', 'UserService', 'API_HOST' ]\r\n\tfunction Authorization ($log, $rootScope, $state, $timeout, $q, $auth, UserService, CURRENT_USER) {\r\n\t\t\r\n\t\tfunction Authorization(){\r\n\t\t\tvar self = this\r\n\t\t\t\r\n\t\t\tself.isAuthenticated = function (){\r\n\t\t\t\t\r\n\t\t\t\tvar deferred = $q.defer()\r\n\t\t\t\t$timeout(function(){\r\n\t\t\t\t\tif($auth.isAuthenticated()){\r\n\t\t\t\t\t\t$log.info($auth.isAuthenticated())\r\n\t\t\t\t\t\tif (CURRENT_USER.id !== null && CURRENT_USER.id !== '' && CURRENT_USER.id !== undefined){\r\n\t\t\t\t\t\t\t$log.debug('Curent user exist: ' + CURRENT_USER.id)\r\n\t\t\t\t\t\t\treturn CURRENT_USER\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$log.warn('Curent user need to be fetched from database')\r\n\t\t\t\t\t\t\treturn UserService.identity();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$log.error('Current user not authenticated. login needed')\r\n\t\t\t\t\t\tdeferred.reject()\r\n\t\t\t\t\t\tCURRENT_USER = {}\r\n\t\t\t\t\t\t$state.go('login');\r\n\t\t\t\t\t}\r\n\t\t\t\t},0).then(function(data){\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tCURRENT_USER.id = data.id\r\n\t\t\t\t\tCURRENT_USER.name = data.name\r\n\t\t\t\t\tCURRENT_USER.type = data.type\r\n\t\t\t\t\tCURRENT_USER.status = data.status\r\n\t\t\t\t\tCURRENT_USER.nik = data.nik\r\n\t\t\t\t\tdeferred.resolve()\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.authorize = function () {\r\n\t\t\t\tconsole.log('2 authorize')\r\n\t\t\t\t\r\n\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\tUserService.identity()\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t\tif ($rootScope.toState.data.type && $rootScope.toState.data.type.length > 0 &&\r\n\t\t\t\t\t\t\t!UserService.isInAnyRole($rootScope.toState.data.type)) {\r\n\t\t\r\n\t\t\t\t\t\t\t$state.go('main.denied')\r\n\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t\tif ($rootScope.toState.name == 'login') {\r\n\t\t\t\t\t\t\t$state.go($rootScope.fromState.name)\r\n\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t}, function(response) {\r\n\t\t\t\t\t\t\tdeferred.resolve();\r\n\t\t\t\t\t\t\t$state.go('login')\r\n\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\treturn deferred.promise\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn new Authorization();\r\n\t}\r\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('spmiFrontEnd')\n        .run(AppRun);\n\n        /** @ngInject */\n    function AppRun($rootScope, $state, $stateParams, $timeout, API_HOST) {\n        \n        $rootScope.API_HOST = API_HOST;\n        $rootScope.pushIfUnique = function (parent, child) {\n            var i = 0;\n            var counter = 0;\n                \n            for (i = 0 ; i < parent.length ; i++) {\n                if (angular.equals(parent[i], child)) {\n                    break;\n                    return -1\n                }\n                counter++\n            }\n            if (counter === parent.length) {\n                parent.push(child)\n                return counter\n            }\n        }\n\n\t\n        $rootScope.findObject = function (parent, child) {\n            var i = 0;\n            var counter = 0;\n\n            for (i = 0 ; i < parent.length ; i++) {\n                if (angular.equals(parent[i], child)) {\n                    return i\n                }\n                counter++\n            }\n\n            if (counter === parent.length) {\n                return -1\n            }\n        }\n\n\t\n        $rootScope.first = false\n        $rootScope.toDenied = false;\n\n        $rootScope.run = false\n\t\n        $rootScope.$on('$stateChangeStart', function(event, toState, toStateParams, fromState) {\n\t\t// track the state the user wants to go to; authorization service needs this\n            \n            $rootScope.toState = toState;\n            $rootScope.toStateParams = toStateParams;\n            \n            $rootScope.fromState = fromState;\n            \n            //console.log(fromState.url + '->' + toState.url);\n\n        });\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('spmiFrontEnd')\n    .config(RouterConfig);\n\n  /** @ngInject */\n  function RouterConfig($stateProvider, $urlRouterProvider) {\n\t  \n\t$urlRouterProvider.otherwise('/');\n\tvar promise = function ($rootScope, $q, $timeout, Authorization) {\n\t\t\n\t\tconsole.log('1');\n\t\t\n\t\tvar deferred = $q.defer();\n\t\tAuthorization.authorize().then(function(response) {\n\t\t\tdeferred.resolve(response)\n\t\t}, function(response) {\n\t\t\tdeferred.reject(response)\n\t\t})\n\t\treturn deferred.promise;\n\t}\n\n\tvar resolve = {\n\t\tSession: promise\n\t}\n\t\n\t$stateProvider\n\t\t.state('main', {\n\t\t\turl: '/',\n\t\t\ttemplateUrl: 'app/main/main.html',\n\t\t\tcontroller: 'MainController as vm',\n\t\t\tresolve: {\n\t\t\t\tisAuthenticated: function(Authorization){\n\t\t\t\t\treturn Authorization.isAuthenticated();\n\t\t\t\t}\n\t\t\t}\n      \t})\n\t\n\t$stateProvider\n\t\t.state('register', {\n\t\t\turl:'/register',\n\t\t\tviews: {\n\t\t\t\t'': {\n\t\t\t\t\ttemplateUrl: 'app/register/register.html',\n\t\t\t\t\tcontroller: 'RegisterController as vm'\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttype: []\n\t\t\t}/*,\n\t\t\tresolve: {\n\t\t\t\tback: function($rootScope, $q, $state, UserService) {\n\t\t\t\t\tvar deferred = $q.defer()\n\n\t\t\t\t\tUserService.identity()\n\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\tif($rootScope.toState.name == 'login' || $rootScope.toState.name == 'register') {\n\t\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t\t\t$state.go($rootScope.fromState.name)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t})\n\n\t\t\t\t\treturn deferred.promise\n\t\t\t\t}\n\t\t\t}*/\n\n\t\t})\n\t\t\n\t\t.state('error', {\n\t\t\tviews: {\n\t\t\t\t'': {\n\t\t\t\t\ttemplateUrl: 'app/components/pages/error.html'\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttype: []\n\t\t\t}/*,\n\t\t\tresolve: {\n\t\t\t\tback: function($rootScope, $q, $state, UserService) {\n\t\t\t\t\tvar deferred = $q.defer()\n\n\t\t\t\t\tUserService.identity()\n\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\tif($rootScope.toState.name == 'error') {\n\t\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t\t\t$state.go($rootScope.fromState.name)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\tdeferred.resolve()\n\t\t\t\t\t\t})\n\n\t\t\t\t\treturn deferred.promise\n\t\t\t\t}\n\t\t\t}*/\n\t\t})\n\n\t\t.state('register.information', {\n\t\t\turl: '/information',\n\t\t\tparams: { \n\t\t        // here we define default value for foo\n\t\t        // we also set squash to false, to force injecting\n\t\t        // even the default value into url\n\t\t        email: {\n\t\t          \n\t\t        },\n\t\t        // this param is not part of url\n\t\t        // it could be passed with $state.go or ui-sref \n\t\t        hiddenParam: 'YES',\n\t      \t},\n\t\t\tviews: {\n\t\t\t\t'@': {\n\t\t\t\t\ttemplateUrl: 'app/components/pages/information.html',\n\t\t\t\t\tcontroller: 'InformationRegistrationController'\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\n\n\t\t\n\n\t\t\n\n\n\n\t\t\n\n\t\t.state('denied', {\n\t\t\turl: '/denies',\n\t\t\tparams: { \n\t\t        // here we define default value for foo\n\t\t        // we also set squash to false, to force injecting\n\t\t        // even the default value into url\n\t\t        email: {\n\t\t          \n\t\t        },\n\t\t        // this param is not part of url\n\t\t        // it could be passed with $state.go or ui-sref \n\t\t        hiddenParam: 'YES',\n\t      \t},\n\t\t\tviews: {\n\t\t\t\t'@': {\n\t\t\t\t\ttemplateUrl: 'app/components/pages/denied.html',\n\t\t\t\t\tcontroller: function ($scope, $state, $stateParams, UserService) {\n\t\t\t\t\t\t$scope.email = $stateParams.email\n\n\t\t\t\t\t\t$scope.logout = function() {\n\t\t\t\t\t\t\tUserService\n\t\t\t\t\t\t\t\t.logout()\n\t\t\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\t\t\t$state.go('login');\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\ttype: []\n\t\t\t}\n\t\t})\n\n}\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n    'use strict';\n   \n\n    angular\n        .module('spmiFrontEnd')\n        .constant('malarkey', malarkey)\n        .constant('moment', moment)\n        .constant('API_HOST', 'http://localhost:8000')\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('spmiFrontEnd')\n        .config(IndexConfig)\n        .factory('HttpInterceptor', HttpInterceptor)\n        .value('CURRENT_USER', {})\n        \n    \n    function HttpInterceptor($log, $q, $injector, $location){\n\t\treturn {        \n\t\n            responseError: function(response) {\n                if (response.status === 400){\n                    $log.error('Token Mismatch')\n                    $injector.get('$state').transitionTo('login')\n\t\t\t\t\treturn $q.reject(response)\n\t\t\t\t}\t\n                $log.error('Otherwise error')\n                //$injector.get('$state').transitionTo('login')\n                return $q.reject(response);\n            }\n\t\t}\n\t}\n    \n    /** @ngInject */\n    function IndexConfig($logProvider, toastrConfig, $httpProvider, $authProvider, API_HOST) {\n       \n        $authProvider.loginUrl = API_HOST + '/authenticate';\n       \n        // Enable log\n        $logProvider.debugEnabled(true);\n    \n        // Set options third-party lib\n        toastrConfig.allowHtml = true;\n        toastrConfig.timeOut = 3000;\n        toastrConfig.positionClass = 'toast-top-right';\n        toastrConfig.preventDuplicates = true;\n        toastrConfig.progressBar = true;\n        \n        $httpProvider.defaults.cache = true;\n       // $httpProvider.defaults.useXDomain = true;\n        //$httpProvider.defaults.xsftHeadername = 'X-XSRF-TOKEN'\n        //$httpProvider.defaults.headers.common['X-XSRF-Token'] = ''//$scope.csrf\n        //$httpProvider.defaults.headers.common['XSRF-Token'] = ''// $scope.csrf\n        //$httpProvider.defaults.headers.common['X-CSRF-Token'] = ''//$scope.csrf\n        //$httpProvider.defaults.withCredentials = true;\n        \n        delete $httpProvider.defaults.headers.common['X-Requested-With'];\n        \n        /*\n        var interceptor = ['$log', '$location', '$q', '$injector', function($log, $location, $q, $injector){\n            function success(response){\n                return response;\n            }\n            \n            function error(response){\n                if(response.status === 400){\n                    $injector.get('$state').transitionTo('login')\n                    $log.error('Not authenticated and redirect to login')\n                    return $q.reject(response)\n                } else {\n                    return $q.reject(response)\n                }\n            }\n            \n            return function(promise){\n                return promise.then(success, error)\n            }\n        }]\n        */\n        \n        $httpProvider.interceptors.push('HttpInterceptor')\n  }\n\n})();\n\nangular.module(\"spmiFrontEnd\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/login/login.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"></nav><div class=\\\"row\\\" style=\\\"padding-bottom: 100px; padding-top:100px;\\\"><div class=\\\"col-xs-3\\\"></div><div class=\\\"col-xs-6\\\"><div class=\\\"alert alert-danger\\\" ng-show=\\\"vm.alert.header\\\" role=\\\"alert\\\"><strong>{{ vm.alert.header }}</strong> {{ vm.alert.message }}</div><div class=\\\"panel panel-primary\\\"><div class=\\\"panel-heading\\\">Login Form</div><div class=\\\"panel-body\\\"><div class=\\\"col-xs-12\\\"><form name=\\\"LoginForm\\\" class=\\\"form-horizontal\\\" method=\\\"post\\\" ng-submit=\\\"vm.submit()\\\" novalidate=\\\"\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': LoginForm.email.$invalid && LoginForm.email.$dirty || vm.errorLogin }\\\"><label class=\\\"control-label\\\">Username</label> <input type=\\\"email\\\" name=\\\"email\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.email\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"LoginForm.email.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': LoginForm.email.$invalid && LoginForm.email.$dirty || vm.errorLogin }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"LoginForm.email.$error\\\" ng-if=\\\"LoginForm.email.$dirty\\\"><small ng-message=\\\"required\\\">* Username diisi dengan email address.</small> <small ng-message=\\\"email\\\">* Format email address salah.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': LoginForm.password.$invalid && LoginForm.password.$dirty || vm.errorLogin }\\\"><label class=\\\"control-label\\\">Password</label> <input type=\\\"password\\\" name=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.password\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"LoginForm.password.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': LoginForm.password.$invalid && LoginForm.password.$dirty || vm.errorLogin }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"LoginForm.password.$error\\\" ng-if=\\\"LoginForm.password.$dirty\\\"><small ng-message=\\\"required\\\">* Silahkan masukan password terlebih dahulu.</small></div></div><div class=\\\"form-group\\\"><div class=\\\"pull-left\\\"><input type=\\\"checkbox\\\" name=\\\"remember\\\"> Remember Me</div><div class=\\\"pull-right\\\"><button ui-sref=\\\"register\\\" class=\\\"btn btn-warning\\\">Register</button> <input type=\\\"submit\\\" ng-disabled=\\\"LoginForm.$invalid && vm.validated\\\" value=\\\"Login\\\" class=\\\"btn btn-primary\\\"></div></div></form></div></div></div></div><div class=\\\"col-xs-3\\\"></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"><div class=\\\"collapse navbar-collapse\\\" collapse=\\\"navbarCollapsed\\\"></div></nav></div><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><a href=\\\"\\\" ui-sref=\\\"main.admin\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Admin</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1>Admin</h1></div></div></div></div></a></div><div class=\\\"col-md-6\\\"><a href=\\\"\\\" ui-sref=\\\"main.user\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>User</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1>User</h1></div></div></div></div></a></div></div></div><div ng-show=\\\"debug\\\">{{ user }}</div>\");\n$templateCache.put(\"app/register/register.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"></nav><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Registration Form</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><i ng-if=\\\"submitting\\\" style=\\\"position: absolute; margin: auto; top: 50%; left: 50%; z-index: 1;\\\" class=\\\"fa fa-spinner fa-pulse fa-5x\\\"></i><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Biodata User</h4></div></div><div class=\\\"panel-body\\\"><form name=\\\"RegistrationForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': (existNik && !loadingNik) || RegistrationForm.nik.$invalid && RegistrationForm.nik.$dirty }\\\"><label class=\\\"control-label\\\">NIK</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"nik\\\" class=\\\"form-control\\\" ng-model=\\\"input.nik\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[0-9]*$/\\\" ng-maxlength=\\\"6\\\" ng-minlength=\\\"6\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.nik.$dirty || loadingNik\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (existNik && !loadingNik) || RegistrationForm.nik.$invalid && RegistrationForm.nik.$dirty && !loadingNik }\\\"></i></span> <span class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\" ng-show=\\\"loadingNik && RegistrationForm.nik.$valid\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.nik.$error\\\" ng-if=\\\"RegistrationForm.nik.$dirty\\\"><small ng-message=\\\"required\\\">* NIK harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small> <small ng-message=\\\"maxlength\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small> <small ng-message=\\\"minlength\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small></div><small ng-show=\\\"loadingNik\\\">* Load NIK</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"existNik && RegistrationForm.nik.$valid && RegistrationForm.nik.$dirty && !loadingNik\\\">* Nomor Induk Karyawan ini sudah ada didalam database.</small></fieldset><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': RegistrationForm.name.$invalid && RegistrationForm.name.$dirty }\\\"><label class=\\\"control-label\\\">Nama Lengkap</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z .,]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.name.$dirty || loadingNik\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': RegistrationForm.name.$invalid && RegistrationForm.name.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.name.$error\\\" ng-if=\\\"RegistrationForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Lengkap harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Lengkap harus diisi dengan format yang tepat.</small></div></fieldset><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': RegistrationForm.day.$invalid && RegistrationForm.day.$dirty }\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Tahun Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"year\\\" class=\\\"form-control\\\" ng-options=\\\"option.year as option.year for option in years\\\" ng-model=\\\"year.year\\\" ng-required=\\\"true\\\" ng-change=\\\"selectYear()\\\"></select></div><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Bulan Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"month\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.month for option in months\\\" ng-model=\\\"month\\\" ng-required=\\\"true\\\" ng-change=\\\"selectMonth()\\\"></select></div><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Tanggal Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"day\\\" class=\\\"form-control\\\" ng-options=\\\"option.day as option.day for option in days\\\" ng-model=\\\"day.day\\\" ng-required=\\\"true\\\" ng-change=\\\"selectDay()\\\"></select></div></div><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.day.$error\\\" ng-if=\\\"RegistrationForm.day.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Lahir harus diisi.</small></div></fieldset><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': RegistrationForm.address.$invalid && RegistrationForm.address.$dirty }\\\"><label class=\\\"control-label\\\">Alamat</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea name=\\\"address\\\" class=\\\"form-control\\\" row=\\\"2\\\" ng-model=\\\"input.address\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9,./ ()\\\\n-]*$/\\\">\\r\\n                                        </textarea> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.address.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': RegistrationForm.address.$invalid && RegistrationForm.address.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.address.$error\\\" ng-if=\\\"RegistrationForm.address.$dirty\\\"><small ng-message=\\\"required\\\">* Alamat diisi.</small> <small ng-message=\\\"pattern\\\">* Alamat diisi dengan format yang tepat.</small></div></fieldset></div><div class=\\\"col-lg-6\\\"><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': (existEmail && !loadingEmail) || RegistrationForm.email.$invalid && RegistrationForm.email.$dirty }\\\"><label class=\\\"control-label\\\">Email</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"email\\\" name=\\\"email\\\" class=\\\"form-control\\\" ng-model=\\\"input.email\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.email.$dirty || loadingEmail\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': existEmail || RegistrationForm.email.$invalid && RegistrationForm.email.$dirty && !loadingEmail, \\'fa-spinner fa-pulse fa-lg\\': loadingEmail && RegistrationForm.email.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.email.$error\\\" ng-if=\\\"RegistrationForm.email.$dirty\\\"><small ng-message=\\\"required\\\">* Email harus diisi.</small> <small ng-message=\\\"email\\\">* Format email salah.</small></div><small ng-show=\\\"loadingEmail\\\">* Cheking Email</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"existEmail && RegistrationForm.email.$valid && RegistrationForm.email.$dirty && !loadingEmail\\\">* Email ini sudah ada didalam database.</small></fieldset><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': RegistrationForm.password.$invalid && RegistrationForm.password.$dirty }\\\"><label class=\\\"control-label\\\">Password</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"password\\\" name=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"input.password\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.password.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': RegistrationForm.password.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.password.$error\\\" ng-if=\\\"RegistrationForm.password.$dirty\\\"><small ng-message=\\\"required\\\">* Password harus diisi.</small></div></fieldset><fieldset class=\\\"form-group has-feedback\\\" ng-disabled=\\\"submitting\\\" ng-class=\\\"{ \\'has-error\\': (RegistrationForm.confirmation.$invalid || (input.password !== input.confirmation)) && RegistrationForm.confirmation.$dirty }\\\"><label class=\\\"control-label\\\">Konfirm</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"password\\\" name=\\\"confirmation\\\" class=\\\"form-control\\\" ng-model=\\\"input.confirmation\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"RegistrationForm.confirmation.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (RegistrationForm.confirmation.$invalid || (input.password !== input.confirmation)) && RegistrationForm.confirmation.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"RegistrationForm.confirmation.$error\\\" ng-if=\\\"RegistrationForm.confirmation.$dirty\\\"><small ng-message=\\\"required\\\">* Password harus diisi kembali.</small></div><small style=\\\"color: #a94442;\\\" ng-show=\\\"(RegistrationForm.confirmation.$invalid || (input.password !== input.confirmation)) && RegistrationForm.confirmation.$dirty\\\">* Password tidak sesuai dengan konfirmasi pasword.</small></fieldset></div></div></form></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><fieldset class=\\\"form-inline\\\" ng-disabled=\\\"submitting\\\"><a ui-sref=\\\"main.admin.user\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"submit()\\\" ng-disabled=\\\"(RegistrationForm.$invalid && validated) || loadingNik || loadingEmail\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-save\\\"></i></button></fieldset></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"https://github.com/Swiip/generator-gulp-angular\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span> Gulp Angular</a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\"><li class=\\\"active\\\"><a ng-href=\\\"#\\\">Home</a></li><li><a ng-href=\\\"#\\\">About</a></li><li><a ng-href=\\\"#\\\">Contact</a></li></ul><ul class=\\\"nav navbar-nav navbar-right acme-navbar-text\\\"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/pages/denied.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"></nav><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Access Denied</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><p>Mohon maaf anda tidak mendapatkan hak untuk mengakses halaman ini. Silahkan hubungi administrator atau <a href=\\\"\\\" ng-click=\\\"logout()\\\">logout.</a></p></div></div></div></div>\");\n$templateCache.put(\"app/components/pages/error.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"></nav><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Server Error</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><p>Mohon maaf, terjadi kesalahan pada server. Silahkan kontak administrator untuk info lebih lanjut. Terima kasih</p></div></div></div></div>\");\n$templateCache.put(\"app/components/pages/information.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"></nav><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Email Authentication Required</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><p>Kami telah mengirimkan email permintaan autentikasi user melalui email Anda <a href=\\\"\\\">{{ email }}</a>. Apablia anda belum menerima email dari kami, <a href=\\\"\\\">kirim ulang</a></p></div></div></div></div>\");\n$templateCache.put(\"app/components/partials/viewer.html\",\"<div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Document Preview</h4></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ng-href=\\\"{{ pdfUrl }}\\\" target=\\\"_blank\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a> <button class=\\\"btn btn-default\\\" ng-click=\\\"goPrevious()\\\"><i class=\\\"fa fa-chevron-left\\\"></i></button> <button class=\\\"btn btn-default\\\" ng-click=\\\"goNext()\\\"><i class=\\\"fa fa-chevron-right\\\"></i></button><input style=\\\"width: 100px; align: right;\\\" class=\\\"form-control\\\" type=\\\"number\\\" max=\\\"{{ pageCount }}\\\" min=\\\"1\\\" ng-model=\\\"pageNum\\\"><label class=\\\"control-label\\\">/ {{ pageCount }}</label></div></div></div><div class=\\\"panel-body\\\"><canvas id=\\\"pdf-canvas\\\"></canvas></div></div>\");\n$templateCache.put(\"app/components/scripts/script.html\",\"\");\n$templateCache.put(\"app/components/styles/style.html\",\"\");\n$templateCache.put(\"app/admin/dashboard/views/dashboard.html\",\"<div class=\\\"row\\\"><stats number=\\\"6\\\" comments=\\\"New comments!\\\" colour=\\\"primary\\\" type=\\\"comments\\\"></stats><stats number=\\\"12\\\" comments=\\\"New tasks!\\\" colour=\\\"primary\\\" type=\\\"user\\\"></stats><stats number=\\\"18\\\" comments=\\\"New orders!\\\" colour=\\\"yellow\\\" type=\\\"shopping-cart\\\"></stats><stats number=\\\"24\\\" comments=\\\"Support tickets!\\\" colour=\\\"red\\\" type=\\\"support\\\"></stats></div><div class=\\\"row\\\"><div class=\\\"col-lg-6 col-sm-12\\\" id=\\\"line-chart\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\">Line Chart</div><div class=\\\"panel-body\\\"><canvas id=\\\"line\\\" class=\\\"chart chart-line chart-xl\\\" data=\\\"admin.line.data\\\" labels=\\\"admin.line.labels\\\" legend=\\\"true\\\" click=\\\"line.onClick\\\" series=\\\"admin.line.series\\\"></canvas></div></div></div><div class=\\\"col-lg-6 col-sm-12\\\" id=\\\"bar-chart\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"list-group\\\"><a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-comment fa-fw\\\"></i> New Comment <span class=\\\"pull-right text-muted small\\\"><em>4 minutes ago</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-twitter fa-fw\\\"></i> 3 New Followers <span class=\\\"pull-right text-muted small\\\"><em>12 minutes ago</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-envelope fa-fw\\\"></i> Message Sent <span class=\\\"pull-right text-muted small\\\"><em>27 minutes ago</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-tasks fa-fw\\\"></i> New Task <span class=\\\"pull-right text-muted small\\\"><em>43 minutes ago</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-upload fa-fw\\\"></i> Server Rebooted <span class=\\\"pull-right text-muted small\\\"><em>11:32 AM</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-bolt fa-fw\\\"></i> Server Crashed! <span class=\\\"pull-right text-muted small\\\"><em>11:13 AM</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-warning fa-fw\\\"></i> Server Not Responding <span class=\\\"pull-right text-muted small\\\"><em>10:57 AM</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-shopping-cart fa-fw\\\"></i> New Order Placed <span class=\\\"pull-right text-muted small\\\"><em>9:49 AM</em></span></a> <a href=\\\"#\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-money fa-fw\\\"></i> Payment Received <span class=\\\"pull-right text-muted small\\\"><em>Yesterday</em></span></a></div><a href=\\\"#\\\" class=\\\"btn btn-default btn-block\\\">View All Alerts</a></div></div></div></div>\");\n$templateCache.put(\"app/admin/dashboard/views/main.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"><div class=\\\"container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button></div><div class=\\\"collapse navbar-collapse\\\" collapse=\\\"navbarCollapsed\\\"><ul class=\\\"nav navbar-nav\\\"><li><a class=\\\"navbar-brand\\\" href=\\\"\\\" ui-sref=\\\"main.admin\\\">Admin</a></li><li><a class=\\\"navbar-brand\\\" href=\\\"\\\" ui-sref=\\\"main.user\\\">User</a></li><li dropdown=\\\"\\\"><a href=\\\"#\\\" dropdown-toggle=\\\"\\\">Organisasi<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a ui-sref=\\\"main.admin.university\\\">Universitas</a></li><li><a ui-sref=\\\"main.admin.department\\\">Department</a></li><li><a ui-sref=\\\"main.admin.job\\\">Jabatan</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a ui-sref=\\\"main.admin\\\">Struktur Organisasi</a></li></ul></li><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">Dokumen<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a ui-sref=\\\"main.admin.standard\\\">Kumpulan Standar</a></li><li><a ui-sref=\\\"main.admin.standardDocument\\\">Dokumen Standar Mutu</a></li><li><a ui-sref=\\\"main.admin.guide\\\">Dokumen Pedoman Mutu</a></li><li><a ui-sref=\\\"main.admin.instruction\\\">Dokumen Instruksi Kerja / SOP</a></li><li><a ui-sref=\\\"main.admin.form\\\">Dokumen Form</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a ui-sref=\\\"main.admin.document\\\">View Dokumen</a></li></ul></li><li><a ui-sref=\\\"main.admin.user\\\">User</a></li><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">Pekerjaan<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a ui-sref=\\\"main.admin.work\\\">Tugas Rutin</a></li><li><a ui-sref=\\\"main.admin.project\\\">Project</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a ui-sref=\\\"main.admin.groupJob\\\">Group Job</a></li><li><a ui-sref=\\\"main.admin.semester\\\">Semester</a></li></ul></li><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">Laporan<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a href=\\\"#\\\">Universitas</a></li><li><a href=\\\"#\\\">Fakultas</a></li><li><a href=\\\"#\\\">Prodi</a></li><li><a href=\\\"#\\\">Department</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a href=\\\"#\\\">Pengumuman</a></li><li><a href=\\\"#\\\">Event</a></li></ul></li></ul><ul class=\\\"nav navbar-nav navbar-right\\\"><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">{{ admin.user.name }} ({{ admin.user.nik }}) <span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a href=\\\"#\\\">Profile</a></li><li><a href=\\\"#\\\">Setting</a></li><li><a ui-sref=\\\"main.user\\\">User Dashboard</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a href=\\\"\\\" ng-click=\\\"admin.logout()\\\">Logout</a></li></ul></li></ul></div></div></nav></div>{{ adnim.user }}<div class=\\\"container\\\"><div ui-view=\\\"content\\\"></div></div>\");\n$templateCache.put(\"app/admin/department/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Department</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"DepartmentForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': DepartmentForm.university_id.$invalid && DepartmentForm.university_id.$dirty && !vm.loadingUniversity }\\\"><label class=\\\"control-label\\\">Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select class=\\\"form-control\\\" name=\\\"university_id\\\" ng-options=\\\"option.id as option.name for option in vm.universities\\\" ng-model=\\\"vm.input.university_id\\\" ng-change=\\\"vm.select()\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"DepartmentForm.university_id.$dirty || vm.loadingUniversity\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': DepartmentForm.university_id.$invalid && DepartmentForm.university_id.$dirty }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingUniversity\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"DepartmentForm.university_id.$error\\\" ng-if=\\\"DepartmentForm.university_id.$dirty\\\"><small ng-message=\\\"required\\\">* Universitas harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingUniversity\\\">* Load nama university</small></div><div class=\\\"form-group has-feedback\\\"><label>Department Induk</label><select class=\\\"form-control\\\" name=\\\"department_id\\\" ng-options=\\\"option.id as option.name for option in vm.departments\\\" ng-model=\\\"vm.input.department_id\\\" ng-disabled=\\\"!vm.input.university_id || vm.loadingDepartment\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"vm.loadingDepartment\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span> <small ng-show=\\\"vm.loadingDepartment && DepartmentForm.department_id.$valid\\\">* Load nama department</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.exist || DepartmentForm.name.$invalid && DepartmentForm.name.$dirty && !vm.loading, \\'has-success\\': !vm.exist && DepartmentForm.name.$dirty && !vm.loading }\\\"><label class=\\\"control-label\\\">Nama Department</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 -]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"DepartmentForm.name.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.exist || DepartmentForm.name.$invalid && DepartmentForm.name.$dirty, \\'fa-spinner fa-pulse fa-lg\\': vm.loading && DepartmentForm.name.$dirty && DepartmentForm.name.$valid, \\'fa-check fa-lg\\': !vm.exist && DepartmentForm.name.$valid && DepartmentForm.name.$dirty && !vm.loading }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"DepartmentForm.name.$error\\\" ng-if=\\\"DepartmentForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Department harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Department tidak boleh terdapat simbol.</small></div><small ng-show=\\\"vm.loading && DepartmentForm.name.$valid\\\">* cheking nama department</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.exist && DepartmentForm.name.$dirty && !vm.loading\\\">* Nama department ini sudah ada didalam database.</small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.department\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button class=\\\"btn btn-primary\\\" ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(vm.validated && DepartmentForm.$invalid) || vm.exist\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div>{{ vm.input.university_id }}<pre ng-if=\\\"admin.debug\\\">\\r\\n{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/department/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Department</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.department.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Universitas</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'name\\' ; reverse = !reverse\\\">Department</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'super\\' ; reverse = !reverse\\\">Induk</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.departments | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.university.name }}</td><td>{{ object.name }}</td><td>{{ object.department.name }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"true\\\">\\r\\n{{ vm.departments | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/document/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Document Explorer</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Document Tree</h4></div></div><div class=\\\"panel-body\\\"><document-tree tree-data=\\\"vm.tree\\\"></document-tree></div></div></div><div class=\\\"col-md-7\\\"><ng-pdf template-url=\\\"app/components/partials/viewer.html\\\" scale=\\\"page-fit\\\"></ng-pdf></div></div><div class=\\\"col-md-12\\\" ng-if=\\\"admin.debug\\\"><div class=\\\"col-md-6\\\"><pre>\\r\\n\t \t\t{{ vm.pdfUrl | json }}\\r\\n\t\t</pre></div><div class=\\\"col-md-6\\\"><pre>\\r\\n\t\t {{ vm.tree | json }}\\r\\n\t\t</pre></div></div>\");\n$templateCache.put(\"app/admin/form/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Form</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"FormForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.standard_id.$invalid && FormForm.standard_id.$dirty && !vm.loadingStandard }\\\"><label class=\\\"control-label\\\">Standar</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standards\\\" ng-model=\\\"vm.standard_id\\\" ng-change=\\\"vm.selectStandard(vm.standard_id)\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.standard_id.$dirty || vm.loadingStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.standard_id.$invalid && FormForm.standard_id.$dirty && !vm.loadingStandard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandard\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.standard_id.$error\\\" ng-if=\\\"FormForm.standard_id.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"loadingStandard\\\">* Load nama standar</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.standard_document_id.$invalid && FormForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard_id}\\\"><label class=\\\"control-label\\\">Dokumen Standard</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_document_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standardDocuments\\\" ng-model=\\\"vm.standard_document_id\\\" ng-change=\\\"vm.selectStandardDocument(vm.standard_document_id)\\\" ng-disabled=\\\"!vm.standard_id || vm.loadingStandardDocument || !vm.hasStandard\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.standard_document_id.$dirty || vm.loadingStandardDocument\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.standard_document_id.$invalid && FormForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard_id }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandardDocument\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.standard_document_id.$error\\\" ng-if=\\\"FormForm.standard_document_id.$dirty && vm.hasStandard && vm.standard_id\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandardDocument\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandard && !vm.loadingStandardDocument\\\">* Standar ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.guide_id.$invalid && FormForm.guide_id.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id }\\\"><label class=\\\"control-label\\\">Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"guide_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.guides\\\" ng-model=\\\"vm.guide_id\\\" ng-change=\\\"vm.selectGuide(vm.guide_id)\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.standard_id || !vm.standard_document_id || vm.loadingStandardDocument || !vm.hasStandard || !vm.hasStandardDocument\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.guide_id.$dirty || vm.loadingGuide\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.guide_id.$invalid && FormForm.guide_id.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id}\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingGuide\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.guide_id.$error\\\" ng-if=\\\"FormForm.guide_id.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id\\\"><small ng-message=\\\"required\\\">* Pedoman Mutu harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingGuide\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandardDocument && !vm.loadingGuide && vm.standard_id && vm.standard_document_id\\\">* Pedoman Mutu ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.instruction_id.$invalid && FormForm.instruction_id.$dirty && !vm.loadingInstruction && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide_id }\\\"><label class=\\\"control-label\\\">Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"instruction_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.instructions\\\" ng-disabled=\\\"!vm.standard_id || !vm.standard_document_id || !vm.guide_id || vm.loadingStandardDocument || !vm.hasStandard || !vm.hasStandardDocument || !vm.hasGuide\\\" ng-model=\\\"vm.input.instruction_id\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.instruction_id.$dirty || vm.loadingInstruction\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.instruction_id.$invalid && FormForm.instruction_id.$dirty && !vm.loadingInstruction && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide_id }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingInstruction\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.instruction_id.$error\\\" ng-if=\\\"FormForm.instruction_id.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide_id\\\"><small ng-message=\\\"required\\\">* Pedoman Mutu harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingInstruction\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasGuide && !vm.loadingInstruction && vm.standard_id && vm.standard_document_id && vm.guide_id\\\">* Pedoman Mutu ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existNo && !vm.loadingNo) || FormForm.no.$invalid && FormForm.no.$dirty && vm.input.instruction_id, \\'has-success\\': !vm.existNo && FormForm.no.$valid && FormForm.no.$dirty && !vm.loadingNo }\\\"><label class=\\\"control-label\\\">Nomor Formulir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"no\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.no\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasGuide || !vm.input.instruction_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.no.$dirty || vm.loadingNo\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existNo || FormForm.no.$invalid && vm.input.instruction_id, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingNo && FormForm.no.$valid, \\'fa-check fa-lg\\': !vm.existNo && FormForm.no.$valid && !vm.loadingNo }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.no.$error\\\" ng-if=\\\"FormForm.no.$dirty && vm.input.instruction_id\\\"><small ng-message=\\\"required\\\">* Nomor Formulir harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nomor Formulir harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingNo && FormForm.no.$valid\\\">* Check Nomor Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existNo && FormForm.no.$valid && FormForm.no.$dirty && !vm.loadingNo\\\">* Nomor Formulir ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.date.$invalid && FormForm.date.$dirty && vm.input.instruction_id}\\\"><label class=\\\"control-label\\\">Tanggal Form</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-model=\\\"vm.input.date\\\" is-open=\\\"vm.status.opened\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.hasGuide || !vm.input.instruction_id\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.open($event)\\\" ng-disabled=\\\"!vm.hasGuide || !vm.input.instruction_id\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.date.$invalid && vm.input.instruction_id}\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.date.$error\\\" ng-if=\\\"FormForm.date.$dirty && vm.input.instruction_id\\\"><small ng-message=\\\"required\\\">* Tanggal Form harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.existDescription || FormForm.description.$invalid && FormForm.description.$dirty && !vm.loadingDescription && vm.input.instruction_id, \\'has-success\\': !vm.existDescription && FormForm.no.$valid && FormForm.description.$dirty && !vm.loadingDescription }\\\"><label class=\\\"control-label\\\">Nama Form</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasGuide || !vm.input.instruction_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.description.$dirty || vm.loadingDescription\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existDescription || FormForm.description.$invalid && vm.input.instruction_id, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingDescription && FormForm.description.$valid, \\'fa-check fa-lg\\': !vm.existDescription && FormForm.description.$valid && !vm.loadingDescription }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.description.$error\\\" ng-if=\\\"FormForm.description.$dirty && vm.input.instruction_id\\\"><small ng-message=\\\"required\\\">* Nama Form harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nama Form harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingDescription && FormForm.description.$valid\\\">* Check Nama Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existDescription && FormForm.description.$dirty && !vm.loadingDescription\\\">* Nama Form ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.file.$invalid && FormForm.file.$dirty && vm.input.instruction_id }\\\"><label class=\\\"control-label\\\">File Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"file\\\" name=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.input.file\\\" ng-required=\\\"vm.requiredUpload\\\" ng-disabled=\\\"!vm.hasGuide || !vm.input.instruction_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.file.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.file.$invalid && vm.input.instruction_id, \\'fa-check fa-lg\\': FormForm.file.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.file.$error\\\" ng-if=\\\"FormForm.file.$dirty && vm.input.instruction_id\\\"><small ng-message=\\\"required\\\">* Document terkait harus dilampirkan.</small></div><small ng-show=\\\"vm.input.document\\\"><a target=\\\"_blank\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ vm.input.document }}\\\">* {{ vm.input.document }}</a></small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.form\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(FormForm.$invalid && vm.validated) || vm.existNo || vm.existDescription || vm.loadingNo || vm.loadingDescription\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/form/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Form</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.form.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'instruction\\' ; reverse = !reverse\\\">Instruksi</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'no\\' ; reverse = !reverse\\\">No</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'form\\' ; reverse = !reverse\\\">Form</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.forms | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.instruction.description }}</td><td>{{ object.no }}</td><td>{{ object.description }}</td><td><a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $id)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n{{ forms | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/form/views/modal.html\",\"<div class=\\\"modal-header clearfix\\\"><div class=\\\"modal-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"FormForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.standard.$invalid && FormForm.standard.$dirty && !vm.loadingStandard }\\\"><label class=\\\"control-label\\\">Standar</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard\\\" class=\\\"form-control\\\" ng-options=\\\"option as option.description for option in vm.standards\\\" ng-model=\\\"vm.standard\\\" ng-change=\\\"vm.selectStandard(vm.standard.id)\\\" ng-disabled=\\\"vm.loadingStandard\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.standard.$dirty || vm.loadingStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.standard.$invalid && FormForm.standard.$dirty && !vm.loadingStandard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandard\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.standard.$error\\\" ng-if=\\\"FormForm.standard.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandard\\\">* Load nama standar</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.standard_document.$invalid && FormForm.standard_document.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard}\\\"><label class=\\\"control-label\\\">Dokumen Standard</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_document\\\" class=\\\"form-control\\\" ng-options=\\\"option as option.description for option in vm.standardDocuments\\\" ng-model=\\\"vm.standard_document\\\" ng-change=\\\"vm.selectStandardDocument(vm.standard_document.id)\\\" ng-disabled=\\\"!vm.standard || vm.loadingStandardDocument || !vm.hasStandard\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.standard_document.$dirty || vm.loadingStandardDocument\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.standard_document.$invalid && FormForm.standard_document.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandardDocument\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.standard_document.$error\\\" ng-if=\\\"FormForm.standard_document.$dirty && vm.hasStandard && vm.standard\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandardDocument\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandard && !vm.loadingStandardDocument\\\">* Standar ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.guide.$invalid && FormForm.guide.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document }\\\"><label class=\\\"control-label\\\">Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"guide\\\" class=\\\"form-control\\\" ng-options=\\\"option as option.description for option in vm.guides\\\" ng-model=\\\"vm.guide\\\" ng-change=\\\"vm.selectGuide(vm.guide.id)\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.standard || !vm.standard_document || vm.loadingStandardDocument || !vm.hasStandard || !vm.hasStandardDocument\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.guide.$dirty || vm.loadingGuide\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.guide.$invalid && FormForm.guide.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document}\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingGuide\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.guide.$error\\\" ng-if=\\\"FormForm.guide.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.standard_document\\\"><small ng-message=\\\"required\\\">* Pedoman Mutu harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingGuide\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandardDocument && !vm.loadingGuide && vm.standard && vm.standard_document\\\">* Pedoman Mutu ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.instruction.$invalid && FormForm.instruction.$dirty && !vm.loadingInstruction && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide }\\\"><label class=\\\"control-label\\\">Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"instruction\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.instructions\\\" ng-disabled=\\\"!vm.standard || !vm.standard_document || !vm.guide || vm.loadingStandardDocument || !vm.hasStandard || !vm.hasStandardDocument || !vm.hasGuide\\\" ng-model=\\\"vm.instruction.id\\\" ng-change=\\\"vm.selectInstruction(vm.instruction.id)\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.instruction.$dirty || vm.loadingInstruction\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.instruction.$invalid && FormForm.instruction.$dirty && !vm.loadingInstruction && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingInstruction\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.instruction.$error\\\" ng-if=\\\"FormForm.instruction.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.hasGuide && vm.guide\\\"><small ng-message=\\\"required\\\">* Pedoman Mutu harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingInstruction\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasGuide && !vm.loadingInstruction && vm.standard && vm.standard_document && vm.guide\\\">* Pedoman Mutu ini belum memiliki Instruksi Kerja. harap buat Instruksi Kerja terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': FormForm.form.$invalid && FormForm.form.$dirty && !vm.loadingForm && vm.hasStandard && vm.hasStandardDocument && vm.hasInstruction && vm.guide && vm.instruction }\\\"><label class=\\\"control-label\\\">Formulir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"form\\\" class=\\\"form-control\\\" ng-options=\\\"option as option.description for option in vm.forms\\\" ng-disabled=\\\"!vm.standard || !vm.standard_document || !vm.guide || !vm.instruction || vm.loadingForm || !vm.hasStandard || !vm.hasStandardDocument || !vm.hasGuide || !vm.hasInstruction\\\" ng-model=\\\"vm.input\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"FormForm.form.$dirty || vm.loadingForm\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': FormForm.form.$invalid && FormForm.form.$dirty && !vm.loadingForm && vm.hasStandard && vm.hasStandardDocument && vm.hasInstruction && vm.guide && vm.instruction }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingForm\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"FormForm.form.$error\\\" ng-if=\\\"FormForm.form.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.hasInstruction && vm.guide && vm.instruction\\\"><small ng-message=\\\"required\\\">* Formulir harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingForm\\\">* Load nama Formulir</small> <small ng-show=\\\"!vm.hasInstruction && !vm.loadingForm && vm.standard && vm.standard_document && vm.guide && vm.instruction\\\">* Instruksi Kerja ini belum memiliki Formulir. harap buat Formulir terlebih dahulu</small></div></form></div></div><pre>\\r\\n\t         \t{{ vm.input | json}}\\r\\n\t         </pre></div><div class=\\\"modal-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.close()\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></button> <button ng-click=\\\"vm.submit(file)\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(FormForm.$invalid && vm.validated) || vm.existNo || vm.existDescription || vm.loadingNo || vm.loadingDescription\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/admin/groupJob/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Group Job</h1></div></div><div class=\\\"row\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"GroupJobForm\\\" role=\\\"form\\\" ng-submit=\\\"vm.submit()\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existName && !vm.loadingName) || GroupJobForm.name.$invalid && GroupJobForm.name.$dirty, \\'has-success\\': !vm.existName && !vm.loadingName && GroupJobForm.name.$valid && GroupJobForm.name.$dirty }\\\"><label class=\\\"control-label\\\">Nama Group Job</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 ]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"GroupJobForm.name.$dirty || vm.loadingName\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (vm.existName && !vm.loadingName) || GroupJobForm.name.$invalid && GroupJobForm.name.$dirty, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingName && GroupJobForm.name.$valid, \\'fa-check fa-lg\\': !vm.existName && !vm.loadingName && GroupJobForm.name.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GroupJobForm.name.$error\\\" ng-if=\\\"GroupJobForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Group Job harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Group Job hanya terdiri dari huruf dan angka.</small></div><small ng-show=\\\"loadingName && GroupJobForm.name.$valid\\\">* Cheking Group Job</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existName && GroupJobForm.name.$valid && GroupJobForm.name.$dirty && !vm.loadingName\\\">* Nomor Induk Karyawan ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': GroupJobForm.description.$invalid && GroupJobForm.description.$dirty }\\\"><label class=\\\"control-label\\\">Deskripsi Group Job</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 ]*$/\\\"></textarea><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GroupJobForm.description.$error\\\" ng-if=\\\"GroupJobForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Deskripsi Group Job harus diisi.</small> <small ng-message=\\\"pattern\\\">* Deskripsi Group Job hanya terdiri dari huruf dan angka.</small></div></div><input type=\\\"submit\\\" style=\\\"position: absolute; left: -9999px; width: 1px; height: 1px;\\\" tabindex=\\\"-1\\\"></form></div></div></div></div></div><div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Jabatan User</h4></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.addJob()\\\" class=\\\"btn btn-primary\\\">Add New</button><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Universitas</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'department\\' ; reverse = !reverse\\\">Department</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'job\\' ; reverse = !reverse\\\">Jabatan</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.input.jobs | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.department.university.name }}</td><td>{{ object.department.name }}</td><td>{{ object.name }}</td><td><button ng-click=\\\"vm.update(object, $index)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></button>&nbsp;|&nbsp; <button ng-click=\\\"vm.destroy(object, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></button></td></tr></tbody></table></div></div></div></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.groupJob\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(GroupJobForm.$invalid && validated) || loadingName\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div><div class=\\\"col-lg-6\\\"></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n\t{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/groupJob/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Group Job</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.groupJob.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'group\\' ; reverse = !reverse\\\">Nama Group</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'description\\' ; reverse = !reverse\\\">Deskripsi</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.groupJobs | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.name }}</td><td>{{ object.description }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div>{{ departments }}\");\n$templateCache.put(\"app/admin/guide/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Dokumen Pedoman Mutu</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"GuideForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': GuideForm.standard_id.$invalid && GuideForm.standard_id.$dirty && !vm.loadingStandard }\\\"><label class=\\\"control-label\\\">Standar</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standards\\\" ng-model=\\\"vm.standard_id\\\" ng-change=\\\"vm.select(vm.standard_id)\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.standard_id.$dirty || vm.loadingStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': GuideForm.standard_id.$invalid && GuideForm.standard_id.$dirty && !vm.loadingStandard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandard\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.standard_id.$error\\\" ng-if=\\\"GuideForm.standard_id.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandard\\\">* Load nama standar</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': GuideForm.standard_document_id.$invalid && GuideForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard }\\\"><label class=\\\"control-label\\\">Dokumen Standard</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_document_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standardDocuments\\\" ng-model=\\\"vm.input.standard_document_id\\\" ng-disabled=\\\"!vm.standard_id || vm.loadingStandardDocument || !vm.hasStandard\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.standard_document_id.$dirty || vm.loadingStandardDocument\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': GuideForm.standard_document_id.$invalid && GuideForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandardDocument\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.standard_document_id.$error\\\" ng-if=\\\"GuideForm.standard_document_id.$dirty && vm.hasStandard\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandardDocument\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandard && !vm.loadingStandardDocument\\\">* Standar ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existNo && !vm.loadingNo) || GuideForm.no.$invalid && GuideForm.no.$dirty && vm.hasStandard, \\'has-success\\': !vm.existNo && GuideForm.no.$valid && GuideForm.no.$dirty && !vm.loadingNo }\\\"><label class=\\\"control-label\\\">Nomor Dokumen Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"no\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.no\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.standard_document_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.no.$dirty || vm.loadingNo\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existNo || GuideForm.no.$invalid && vm.hasStandard, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingNo && GuideForm.no.$valid, \\'fa-check fa-lg\\': !vm.existNo && GuideForm.no.$valid && !vm.loadingNo }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.no.$error\\\" ng-if=\\\"GuideForm.no.$dirty && vm.hasStandard\\\"><small ng-message=\\\"required\\\">* Nomor Dokumen Pedoman Mutu harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nomor Dokumen Pedoman Mutu harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingNo && GuideForm.no.$valid\\\">* Check Nomor Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existNo && GuideForm.no.$valid && GuideForm.no.$dirty && !vm.loadingNo\\\">* Nomor Dokumen Pedoman Mutu ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': GuideForm.date.$invalid && GuideForm.date.$dirty && vm.hasStandard}\\\"><label class=\\\"control-label\\\">Tanggal Dokumen Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-model=\\\"vm.input.date\\\" is-open=\\\"vm.status.opened\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.standard_document_id\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.open($event)\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.standard_document_id\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': GuideForm.date.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.date.$error\\\" ng-if=\\\"GuideForm.date.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Standar harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.existDescription || GuideForm.description.$invalid && GuideForm.description.$dirty && !vm.loadingDescription && vm.hasStandard, \\'has-success\\': !vm.existDescription && GuideForm.no.$valid && GuideForm.description.$dirty && !vm.loadingDescription }\\\"><label class=\\\"control-label\\\">Nama Dokumen Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.standard_document_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.description.$dirty || vm.loadingDescription\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existDescription || GuideForm.description.$invalid && vm.hasStandard, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingDescription && GuideForm.description.$valid, \\'fa-check fa-lg\\': !vm.existDescription && GuideForm.description.$valid && !vm.loadingDescription }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.description.$error\\\" ng-if=\\\"GuideForm.description.$dirty && vm.hasStandard\\\"><small ng-message=\\\"required\\\">* Nama Dokumen Pedoman Mutu harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nama Dokumen Pedoman Mutu harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingDescription && GuideForm.description.$valid\\\">* Check Nama Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existDescription && GuideForm.description.$dirty && !vm.loadingDescription\\\">* Nama Dokumen Pedoman Mutu ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': GuideForm.file.$invalid && GuideForm.file.$dirty && vm.hasStandard }\\\"><label class=\\\"control-label\\\">File Dokumen Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"file\\\" name=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.input.file\\\" ng-required=\\\"vm.requiredUpload\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.standard_document_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"GuideForm.file.$dirty && vm.hasStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': GuideForm.file.$invalid, \\'fa-check fa-lg\\': GuideForm.file.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"GuideForm.file.$error\\\" ng-if=\\\"GuideForm.file.$dirty && vm.hasStandard\\\"><small ng-message=\\\"required\\\">* Document terkait harus dilampirkan.</small></div><small ng-show=\\\"vm.input.document\\\"><a target=\\\"_blank\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/guide/{{ vm.input.document }}\\\">* {{ vm.input.document }}</a></small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.guide\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit(vm.file)\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(GuideForm.$invalid && vm.validated) || vm.existNo || vm.existDescription || vm.loadingNo || vm.loadingDescription\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ input }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/guide/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Dokumen Pedoman</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.guide.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'standard\\' ; reverse = !reverse\\\">Standar</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'document\\' ; reverse = !reverse\\\">Dokumen Standar</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'No\\' ; reverse = !reverse\\\">No</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'guide\\' ; reverse = !reverse\\\">Pedoman</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.guides | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.standard_document.standard.description }}</td><td>{{ object.standard_document.description }}</td><td>{{ object.no }}</td><td>{{ object.description }}</td><td><a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/guide/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ guides }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/job/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Jabatan</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"JobForm\\\" role=\\\"form\\\" ng-submit=\\\"vm.submit()\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': JobForm.university_id.$invalid && JobForm.university_id.$dirty && !vm.loadingUniversity }\\\"><label class=\\\"control-label\\\">Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"university_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.name for option in vm.universities\\\" ng-model=\\\"vm.university_id\\\" ng-change=\\\"vm.selectUniversity(vm.university_id)\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"JobForm.university_id.$dirty || vm.loadingUniversity\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': JobForm.university_id.$invalid && JobForm.university_id.$dirty }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingUniversity\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"JobForm.university_id.$error\\\" ng-if=\\\"JobForm.university_id.$dirty\\\"><small ng-message=\\\"required\\\">* Universitas harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingUniversity\\\">* Load nama university</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': JobForm.department_id.$invalid && JobForm.department_id.$dirty && !vm.loadingDepartment && vm.hasDepartment }\\\"><label class=\\\"control-label\\\">Department</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"department_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.name for option in vm.departments\\\" ng-model=\\\"vm.input.department_id\\\" ng-disabled=\\\"!vm.university_id || vm.loadingDepartment || !vm.hasDepartment\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"JobForm.department_id.$dirty || vm.loadingDepartment\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': JobForm.department_id.$invalid && JobForm.department_id.$dirty && vm.hasDepartment}\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingDepartment\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"JobForm.department_id.$error\\\" ng-if=\\\"JobForm.department_id.$dirty && vm.hasDepartment\\\"><small ng-message=\\\"required\\\">* Department harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingDepartment\\\">* Load nama department</small> <small ng-show=\\\"!vm.hasDepartment && !vm.loadingDepartment\\\">* Universitas ini belum memiliki department. harap buat departement terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\"><label>Superoordinat</label><select class=\\\"form-control\\\" ng-options=\\\"option.id as option.name for option in vm.jobs\\\" ng-model=\\\"vm.input.job_id\\\" ng-disabled=\\\"!vm.input.department_id || vm.loadingJob\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"vm.loadingJob\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span> <small ng-show=\\\"vm.loadingJob && JobForm.job_id.$valid\\\">* Load nama jabatan</small></div><div class=\\\"form-group\\\"><input type=\\\"checkbox\\\" ng-model=\\\"vm.input.multiple\\\" name=\\\"multiple\\\"> Dapat diposisikan banyak user? <i href=\\\"\\\" popover-placement=\\\"right\\\" popover=\\\"Apakah jabatan ini dapat dimiliki oleh banyak user?\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"fa fa-question-circle fa-lg\\\"></i></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.exist || JobForm.name.$invalid && JobForm.name.$dirty && !vm.loading && vm.hasDepartment, \\'has-success\\': !vm.exist && vm.hasDepartment && JobForm.name.$valid && JobForm.name.$dirty && !vm.loading }\\\"><label class=\\\"control-label\\\">Nama Jabatan</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-disabled=\\\"!vm.hasDepartment\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9()., -]*$/\\\"> <span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"JobForm.name.$dirty || vm.loading\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.exist || JobForm.name.$invalid && JobForm.name.$dirty && vm.hasDepartment, \\'fa-spinner fa-pulse fa-lg\\': vm.loading && JobForm.name.$dirty && JobForm.name.$valid && vm.hasDepartment, \\'fa-check fa-lg\\': !vm.exist && JobForm.name.$valid && JobForm.name.$dirty && !vm.loading && vm.hasDepartment }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"JobForm.name.$error\\\" ng-if=\\\"JobForm.name.$dirty && vm.hasDepartment\\\"><small ng-message=\\\"required\\\">* Jabatan harus diisi.</small> <small ng-message=\\\"pattern\\\">* Jabatan harus diisi hanya dengan angka dan huruf.</small></div><small ng-show=\\\"vm.loading && JobForm.name.$valid\\\">* Check nama jabatan</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.exist && JobForm.name.$dirty && !vm.loading\\\">* Nama jabatan ini sudah ada didalam database.</small></div><input type=\\\"submit\\\" style=\\\"position: absolute; left: -9999px; width: 1px; height: 1px;\\\" tabindex=\\\"-1\\\"></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.job\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(JobForm.$invalid && vm.validated) || vm.exist || vm.loading\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ input | json }}\\r\\n</pre><pre ng-if=\\\"debug\\\">\\r\\n\t{{ vm.universities | json }}\\r\\n</pre><pre ng-if=\\\"debug\\\">\\r\\n\t{{ departments | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/job/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Jabatan</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><div class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><a ui-sref=\\\"main.admin.job.create\\\" class=\\\"btn btn-primary form-control\\\">Add New</a></div></div></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><label>Universitas :</label><select class=\\\"form-control\\\" ng-options=\\\"option.id as option.name for option in vm.universities\\\" ng-model=\\\"vm.university_id\\\" ng-change=\\\"vm.select()\\\"></select></div><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'department\\' ; reverse = !reverse\\\">Department</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'job\\' ; reverse = !reverse\\\">Jabatan</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'super\\' ; reverse = !reverse\\\">Induk</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.jobs | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.department.name }}</td><td>{{ object.name }}</td><td>{{ object.job.name }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n{{ jobs | json}}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/job/views/modal.html\",\"<div class=\\\"modal-header clearfix\\\"><div class=\\\"modal-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"UserJobForm\\\" role=\\\"form\\\" ng-submit=\\\"vm.submit()\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UserJobForm.university.$invalid && UserJobForm.university.$dirty && !vm.loadingUniversity }\\\"><label class=\\\"control-label\\\">Universitas</label><select name=\\\"university\\\" class=\\\"form-control\\\" ng-options=\\\"option as option.name for option in vm.universities\\\" ng-model=\\\"vm.university\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectUniversity(vm.university.id)\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"UserJobForm.university.$dirty || vm.loadingUniversity\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': UserJobForm.university.$invalid && UserJobForm.university.$dirty && !vm.loadingUniversity, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingUniversity }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserJobForm.university.$error\\\" ng-if=\\\"UserJobForm.university.$dirty\\\"><small ng-message=\\\"required\\\">* Universitas harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingUniversity\\\">* Load nama Universitas</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UserJobForm.department.$invalid && UserJobForm.department.$dirty && !vm.loadingDepartment && vm.hasDepartment }\\\"><label class=\\\"control-label\\\">Department</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"department\\\" class=\\\"form-control\\\" ng-options=\\\"option.name for option in vm.departments\\\" ng-model=\\\"vm.department\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectDepartment(vm.department.id)\\\" ng-disabled=\\\"!vm.university || vm.loadingDepartment || !vm.hasDepartment\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"UserJobForm.department.$dirty || vm.loadingDepartment\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': UserJobForm.department.$invalid && UserJobForm.department.$dirty && !vm.loadingDepartment && vm.hasDepartment }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingDepartment\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserJobForm.department.$error\\\" ng-if=\\\"UserJobForm.department.$dirty && !vm.loadingDepartment && vm.hasDepartment\\\"><small ng-message=\\\"required\\\">* Department harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingDepartment\\\">* Load nama Department</small> <small ng-show=\\\"!vm.hasDepartment && !vm.loadingDepartment && vm.university\\\">* Universitas ini belum memiliki Department. harap buat Department terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.existJob || UserJobForm.job.$invalid && UserJobForm.job.$dirty && !vm.loadingJob && vm.hasJob || vm.occupied }\\\"><label class=\\\"control-label\\\">Jabatan</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"job\\\" class=\\\"form-control\\\" ng-options=\\\"option.name for option in vm.jobs\\\" ng-model=\\\"vm.input\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectJob(vm.input)\\\" ng-disabled=\\\"!vm.university || !vm.department || vm.loadingJob || !vm.hasJob\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"UserJobForm.job.$dirty || vm.loadingJob\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existJob && !vm.loadingJob || UserJobForm.job.$invalid && UserJobForm.job.$dirty && !vm.loadingJob && vm.hasJob || vm.occupied && !vm.loadingJob }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingJob\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserJobForm.job.$error\\\" ng-if=\\\"UserJobForm.job.$dirty && !vm.loadingJob && vm.hasJob\\\"><small ng-message=\\\"required\\\">* Jabatan harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingJob\\\">* Load nama Jabatan</small> <small ng-show=\\\"!vm.hasJob && !vm.loadingJob && vm.university && vm.department\\\">* Department ini belum memiliki Jabatan. harap buat Jabatan terlebih dahulu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existJob && university && vm.department && vm.input\\\">* User ini sudah memiliki jabatan yang dimaksud</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.university && vm.department && vm.input && vm.occupied\\\">* Jabatan ini sudah dimiliki oleh {{ vm.occupied }}</small></div><input type=\\\"submit\\\" style=\\\"position: absolute; left: -9999px; width: 1px; height: 1px;\\\" tabindex=\\\"-1\\\"></form></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n{{ vm.universities | json}}\\r\\n</pre><div class=\\\"modal-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.close()\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></button> <button ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(UserJobForm.$invalid && vm.validated) || vm.existJob || vm.occupied\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/admin/instruction/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Instruksi Kerja (SOP)</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"InstructionForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': InstructionForm.standard_id.$invalid && InstructionForm.standard_id.$dirty && !vm.loadingStandard }\\\"><label class=\\\"control-label\\\">Standar</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standards\\\" ng-model=\\\"vm.standard_id\\\" ng-change=\\\"vm.selectStandard(vm.standard_id)\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.standard_id.$dirty || vm.loadingStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': InstructionForm.standard_id.$invalid && InstructionForm.standard_id.$dirty && !vm.loadingStandard }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandard\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.standard_id.$error\\\" ng-if=\\\"InstructionForm.standard_id.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandard\\\">* Load nama standar</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': InstructionForm.standard_document_id.$invalid && InstructionForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard_id}\\\"><label class=\\\"control-label\\\">Dokumen Standard</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_document_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standardDocuments\\\" ng-model=\\\"vm.standard_document_id\\\" ng-change=\\\"vm.selectStandardDocument(vm.standard_document_id)\\\" ng-disabled=\\\"!vm.standard_id || vm.loadingStandardDocument || !vm.hasStandard\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.standard_document_id.$dirty || vm.loadingStandardDocument\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': InstructionForm.standard_document_id.$invalid && InstructionForm.standard_document_id.$dirty && !vm.loadingStandardDocument && vm.hasStandard && vm.standard_id }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandardDocument\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.standard_document_id.$error\\\" ng-if=\\\"InstructionForm.standard_document_id.$dirty && vm.hasStandard && vm.standard_id\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandardDocument\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandard && !vm.loadingStandardDocument\\\">* Standar ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': InstructionForm.guide_id.$invalid && InstructionForm.guide_id.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id }\\\"><label class=\\\"control-label\\\">Pedoman Mutu</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"guide_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.guides\\\" ng-model=\\\"vm.input.guide_id\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.standard_id || !vm.standard_document_id || vm.loadingStandardDocument || !vm.hasStandard || !vm.hasStandardDocument\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.guide_id.$dirty || vm.loadingGuide\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': InstructionForm.guide_id.$invalid && InstructionForm.guide_id.$dirty && !vm.loadingGuide && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id}\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingGuide\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.guide_id.$error\\\" ng-if=\\\"InstructionForm.guide_id.$dirty && vm.hasStandard && vm.hasStandardDocument && vm.standard_document_id\\\"><small ng-message=\\\"required\\\">* Pedoman Mutu harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingGuide\\\">* Load nama Standar Document</small> <small ng-show=\\\"!vm.hasStandardDocument && !vm.loadingGuide && vm.standard_id && vm.standard_document_id\\\">* Pedoman Mutu ini belum memiliki Dokumen Standar. harap buat Dokumen Standar terlebih dahulu</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existNo && !vm.loadingNo) || InstructionForm.no.$invalid && InstructionForm.no.$dirty && vm.input.guide_id, \\'has-success\\': !vm.existNo && InstructionForm.no.$valid && InstructionForm.no.$dirty && !vm.loadingNo }\\\"><label class=\\\"control-label\\\">Nomor Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"no\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.no\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.guide_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.no.$dirty || vm.loadingNo\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existNo || InstructionForm.no.$invalid && vm.input.guide_id, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingNo && InstructionForm.no.$valid, \\'fa-check fa-lg\\': !vm.existNo && InstructionForm.no.$valid && !vm.loadingNo }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.no.$error\\\" ng-if=\\\"InstructionForm.no.$dirty && vm.input.guide_id\\\"><small ng-message=\\\"required\\\">* Nomor Instruksi Kerja (SOP) harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nomor Instruksi Kerja (SOP) harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingNo && InstructionForm.no.$valid\\\">* Check Nomor Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existNo && InstructionForm.no.$valid && InstructionForm.no.$dirty && !vm.loadingNo\\\">* Nomor Instruksi Kerja (SOP) ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': InstructionForm.date.$invalid && InstructionForm.date.$dirty && vm.input.guide_id}\\\"><label class=\\\"control-label\\\">Tanggal Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" datepicker-options=\\\"dateOptions\\\" ng-model=\\\"vm.input.date\\\" is-open=\\\"vm.status.opened\\\" ng-required=\\\"true\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.guide_id\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.open($event)\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.guide_id\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': InstructionForm.date.$invalid && vm.input.guide_id}\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.date.$error\\\" ng-if=\\\"InstructionForm.date.$dirty && vm.input.guide_id\\\"><small ng-message=\\\"required\\\">* Tanggal Instruksi Kerja (SOP) harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.existDescription || InstructionForm.description.$invalid && InstructionForm.description.$dirty && !vm.loadingDescription && vm.input.guide_id, \\'has-success\\': !vm.existDescription && InstructionForm.no.$valid && InstructionForm.description.$dirty && !vm.loadingDescription }\\\"><label class=\\\"control-label\\\">Nama Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.guide_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.description.$dirty || vm.loadingDescription\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existDescription || InstructionForm.description.$invalid && vm.input.guide_id, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingDescription && InstructionForm.description.$valid, \\'fa-check fa-lg\\': !vm.existDescription && InstructionForm.description.$valid && !vm.loadingDescription }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.description.$error\\\" ng-if=\\\"InstructionForm.description.$dirty && vm.input.guide_id\\\"><small ng-message=\\\"required\\\">* Nama Instruksi Kerja (SOP) harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nama Instruksi Kerja (SOP) harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingDescription && InstructionForm.description.$valid\\\">* Check Nama Dokumen Pedoman Mutu</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existDescription && InstructionForm.description.$dirty && !vm.loadingDescription\\\">* Nama Instruksi Kerja (SOP) ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': InstructionForm.file.$invalid && InstructionForm.file.$dirty && vm.input.guide_id }\\\"><label class=\\\"control-label\\\">File Instruksi Kerja (SOP)</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"file\\\" name=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.input.file\\\" ng-required=\\\"vm.requiredUpload\\\" ng-disabled=\\\"!vm.hasStandard || !vm.input.guide_id\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"InstructionForm.file.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': InstructionForm.file.$invalid && vm.input.guide_id, \\'fa-check fa-lg\\': InstructionForm.file.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"InstructionForm.file.$error\\\" ng-if=\\\"InstructionForm.file.$dirty && vm.input.guide_id\\\"><small ng-message=\\\"required\\\">* Document terkait harus dilampirkan.</small></div><small ng-show=\\\"vm.input.document\\\"><a target=\\\"_blank\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/instruction/{{ vm.input.document }}\\\">* {{ vm.input.document }}</a></small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.instruction\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(InstructionForm.$invalid && vm.validated) || vm.existNo || vm.existDescription || vm.loadingNo || vm.loadingDescription\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ input }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/instruction/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Dokumen Instruksi Kerja (SOP)</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.instruction.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'guide\\' ; reverse = !reverse\\\">Pedoman</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'no\\' ; reverse = !reverse\\\">No</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'instruction\\' ; reverse = !reverse\\\">Instruksi</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.instructions | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.guide.description }}</td><td>{{ object.no }}</td><td>{{ object.description }}</td><td><a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/instruction/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n\t{{ instructions }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/project/views/detail.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Project</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><form name=\\\"ProjectForm\\\" role=\\\"form\\\" novalidate=\\\"\\\"><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Informasi Project</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': ProjectForm.name.$invalid && ProjectForm.name.$dirty }\\\"><label class=\\\"control-label\\\">Nama Project</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9()., -#()&]*$/\\\"> <span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"ProjectForm.name.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': ProjectForm.name.$invalid && ProjectForm.name.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"ProjectForm.name.$error\\\" ng-if=\\\"ProjectForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Project harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Project harus sesuai dengan format yang tepat.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': ProjectForm.description.$invalid && ProjectForm.description.$dirty }\\\"><label class=\\\"control-label\\\">Deskripsi Project</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\"></textarea> <span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"ProjectForm.description.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': ProjectForm.description.$invalid && ProjectForm.description.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"ProjectForm.description.$error\\\" maxlength=\\\"255\\\" ng-if=\\\"ProjectForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Deskripsi Project harus diisi.</small> <small ng-message=\\\"maxlength\\\">* Deskripsi Project tidak lebih dari 255 karakter.</small></div></div><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Berlaku Mulai</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"start\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.start\\\" is-open=\\\"vm.status.openedStart\\\" min-date=\\\"vm.minDateStart\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-change=\\\"vm.pickStart()\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openStart($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p></div><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Berakhir hingga</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"ended\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.ended\\\" is-open=\\\"vm.status.openedEnded\\\" min-date=\\\"vm.input.start\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openEnded($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p></div></div></div></div></div></div><div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Project Member</h4></div><div class=\\\"panel-title pull-right\\\" ng-if=\\\"vm.phase == \\'1\\' || vm.phase == \\'2\\' || vm.phase == \\'3\\' || vm.phase == \\'4\\'\\\"><button ng-click=\\\"vm.addProjectMember()\\\" class=\\\"btn btn-primary\\\" popover=\\\"Add New Member\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">*</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Nama</a></th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.users | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td><a ng-if=\\\"vm.phase == \\'1\\' || vm.phase == \\'2\\' || vm.phase == \\'3\\' || vm.phase == \\'4\\'\\\" href=\\\"\\\" ng-click=\\\"vm.setLeader(object)\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-star-o\\': object.leader == false, \\'fa-star\\': object.leader == true}\\\"></i></a> <a ng-if=\\\"!(vm.phase == \\'1\\' || vm.phase == \\'2\\' || vm.phase == \\'3\\' || vm.phase == \\'4\\')\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-star-o\\': object.leader == false, \\'fa-star\\': object.leader == true}\\\"></i></a></td><td>{{ object.name }}</td></tr></tbody></table></div></div></div></div><div class=\\\"col-md-12\\\"><node-list ng-model=\\\"vm.projects\\\" users=\\\"vm.users\\\" phase=\\\"vm.phase\\\" node-controller=\\\"NodeProjectController\\\"></node-list></div></div><hr><strong ng-if=\\\"vm.msg\\\" style=\\\"color: #a94442;\\\">Error:</strong><ul ng-repeat=\\\"err in vm.msg track by $index\\\"><li><small style=\\\"color: #a94442;\\\">{{ err }}</small></li></ul></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.project\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button class=\\\"btn btn-primary\\\" ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"validated && (SemesterForm.$invalid || !vm.input.type || invalidYear || include.status || rangeIntersectStart.status || rangeIntersectEnded.status)\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></form></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n    {{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/project/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Project</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.project.create\\\" class=\\\"btn btn-primary\\\" popover=\\\"Add New\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-plus\\\"></i></a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Mulai</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'ended\\' ; reverse = !reverse\\\">Berakhir</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'pimpro\\' ; reverse = !reverse\\\">Pimpro</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'status\\' ; reverse = !reverse\\\">Status</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.projects | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.name }}</td><td>{{ object.date_start | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.date_ended | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.leader.name }}</td><td><span class=\\\"label\\\" ng-class=\\\"{ \\'label-default\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'1\\', \\'label-info\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'2\\', \\'label-primary\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'3\\', \\'label-success\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'4\\', \\'label-danger\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'5\\'}\\\">{{ vm.showStatus(object.date_start, object.date_ended, object.status).text }}</span>&nbsp; <span ng-if=\\\"object.score\\\" class=\\\"label\\\" ng-class=\\\"{ \\'label-success\\': object.score >= 3.5, \\'label-primary\\': object.score < 3.5 && object.score >= 2.5, \\'label-warning\\': object.score < 2.5 && object.score >= 1.5, \\'label-danger\\': object.score < 1.5 }\\\">{{ object.score }}</span></td><td><a ng-click=\\\"vm.detail(object.id)\\\" class=\\\"btn btn-info btn-xs\\\" popover=\\\"Detail\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-search\\\"></i></a>&nbsp;|<div class=\\\"btn-group\\\" dropdown=\\\"\\\" dropdown-append-to-body=\\\"\\\"><button id=\\\"btn-append-to-body\\\" popover=\\\"Action\\\" popover-trigger=\\\"mouseenter\\\" type=\\\"button\\\" class=\\\"btn btn-primary btn-xs\\\" dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-legal\\\"></i><span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\" aria-labelledby=\\\"btn-append-to-body\\\"><li ng-class=\\\"{ \\'disabled\\': vm.disabledModify(vm.showStatus(object.date_start, object.date_ended, object.status).code) }\\\" role=\\\"menuitem\\\"><a href=\\\"\\\" ng-click=\\\"vm.disabledModify(vm.showStatus(object.date_start, object.date_ended, object.status).code) || vm.update(object.id)\\\">Modify</a></li><li ng-class=\\\"{ \\'disabled\\': vm.disabledScoring(vm.showStatus(object.date_start, object.date_ended, object.status).code) }\\\" role=\\\"menuitem\\\"><a href=\\\"\\\" ng-click=\\\"vm.disabledScoring(vm.showStatus(object.date_start, object.date_ended, object.status).code) || vm.scoring(object.id)\\\">Scoring</a></li><li ng-class=\\\"{ \\'disabled\\': vm.disabledScoring(vm.showStatus(object.date_start, object.date_ended, object.status).code) }\\\" role=\\\"menuitem\\\"><a href=\\\"\\\" ng-click=\\\"vm.disabledScoring(vm.showStatus(object.date_start, object.date_ended, object.status).code) || vm.mark(object.id, $index, 2)\\\">Mark As Complete</a></li><li class=\\\"divider\\\"></li><li ng-class=\\\"{ \\'disabled\\': vm.disabledTerminate(vm.showStatus(object.date_start, object.date_ended, object.status).code) }\\\" role=\\\"menuitem\\\"><a href=\\\"\\\" ng-click=\\\"vm.disabledTerminate(vm.showStatus(object.date_start, object.date_ended, object.status).code) || vm.mark(object.id, $index, 3)\\\">Terminate</a></li></ul>&nbsp;|</div><a ng-click=\\\"vm.destroy(object.id)\\\" class=\\\"btn btn-danger btn-xs\\\" popover=\\\"Delete\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n\t{{ vm.projects | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/project/views/modal.html\",\"<div class=\\\"modal-header clearfix\\\"><div class=\\\"modal-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"ModalProjectForm\\\" role=\\\"form\\\" ng-submit=\\\"submit()\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': ModalProjectForm.header.$invalid && ModalProjectForm.header.$dirty }\\\"><label class=\\\"control-label\\\">Nama Sub Project</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"header\\\" class=\\\"form-control\\\" ng-model=\\\"input.header\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 -(),./#&]+$/\\\"> <span class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': ModalProjectForm.header.$invalid && ModalProjectForm.header.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"ModalProjectForm.header.$error\\\" ng-if=\\\"ModalProjectForm.header.$dirty\\\"><small ng-message=\\\"required\\\">* Judul Sub Project harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Judul Sub Project harus diisi dengan format yang sesuai.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': ModalProjectForm.description.$invalid && ModalProjectForm.description.$dirty }\\\"><label class=\\\"control-label\\\">Nama Sub Project</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"input.description\\\" ng-required=\\\"true\\\"></textarea> <span class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': ModalProjectForm.description.$invalid && ModalProjectForm.description.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"ModalProjectForm.description.$error\\\" ng-if=\\\"ProjectForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Jabatan harus ditentukan terlebih dahulu.</small></div></div><input type=\\\"submit\\\" style=\\\"position: absolute; left: -9999px; width: 1px; height: 1px;\\\" tabindex=\\\"-1\\\"></form></div></div></div><div ng-show=\\\"debug\\\">{{ input }}</div><div class=\\\"modal-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"close()\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-close\\\"></i></button> <button ng-click=\\\"submit()\\\" ng-disabled=\\\"(ModalProjectForm.$invalid && validated)\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/admin/semester/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Semester</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><form name=\\\"SemesterForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.invalidYear && SemesterForm.year_start.$dirty && SemesterForm.year_ended.$dirty || SemesterForm.year_start.$invalid && SemesterForm.year_start.$dirty || SemesterForm.year_ended.$invalid && SemesterForm.year_ended.$dirty }\\\"><label class=\\\"control-label\\\">Tahun Ajaran</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><input type=\\\"number\\\" name=\\\"year_start\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.year_start\\\" ng-required=\\\"true\\\" ng-maxlength=\\\"4\\\" ng-minlength=\\\"4\\\" ng-pattern=\\\"/^[0-9]*$/\\\"> <span class=\\\"form-control-feedback\\\" style=\\\"right: 15px;\\\" ng-show=\\\"SemesterForm.year_start.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': SemesterForm.year_start.$invalid && SemesterForm.year_start.$dirty}\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"SemesterForm.year_start.$error\\\" ng-if=\\\"SemesterForm.year_start.$dirty\\\"><small ng-message=\\\"required\\\">* Awal Tahun Ajaran harus diisi.</small> <small ng-message=\\\"pattern\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small> <small ng-message=\\\"minlength\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small> <small ng-message=\\\"maxlength\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small></div></div><div class=\\\"col-md-6\\\"><input type=\\\"number\\\" name=\\\"year_ended\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.year_ended\\\" ng-required=\\\"true\\\" ng-maxlength=\\\"4\\\" ng-minlength=\\\"4\\\" ng-pattern=\\\"/^[0-9]*$/\\\"> <span class=\\\"form-control-feedback\\\" style=\\\"right: 15px;\\\" ng-show=\\\"SemesterForm.year_ended.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': SemesterForm.year_ended.$invalid && SemesterForm.year_ended.$dirty}\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"SemesterForm.year_ended.$error\\\" ng-if=\\\"SemesterForm.year_ended.$dirty\\\"><small ng-message=\\\"required\\\">* Awal Tahun Ajaran harus diisi.</small> <small ng-message=\\\"pattern\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small> <small ng-message=\\\"minlength\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small> <small ng-message=\\\"maxlength\\\">* Awal Tahun Ajaran diisi dengan empat digit angka.</small></div></div></div><small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.invalidYear && SemesterForm.year_start.$dirty && SemesterForm.year_ended.$dirty && SemesterForm.year_start.$valid && SemesterForm.year_ended.$valid\\\">* Tahun ajaran yang dimasukan salah. (Awal tahun ajaran/Awal tahun ajaran +1)</small></div><div class=\\\"form-group has-feedback\\\" style=\\\"padding-top: 6px; padding-bottom: 6px;\\\" ng-class=\\\"{ \\'has-error\\': !vm.input.type && SemesterForm.type.$dirty }\\\"><label class=\\\"control-label\\\">Jenis Semester</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"1\\\">Semester Ganjil</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"2\\\">Senester Genap</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"3\\\">Semester Pendek</label> <span class=\\\"form-control-feedback\\\" ng-show=\\\"SemesterForm.type.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': !vm.input.type && SemesterForm.type.$dirty }\\\"></i></span><br><small style=\\\"color: #a94442;\\\" ng-show=\\\"!vm.input.type && SemesterForm.type.$dirty\\\">* Jenis semester harus diisi.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': SemesterForm.date_start.$invalid && SemesterForm.date_start.$dirty || vm.rangeIntersectStart.status || vm.include.status }\\\"><label class=\\\"control-label\\\">Berlaku Mulai</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date_start\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.date_start\\\" is-open=\\\"vm.status.openedStart\\\" min-date=\\\"vm.minDateStart\\\" max-date=\\\"vm.maxDateStart\\\" datepicker-options=\\\"dateOptions\\\" ng-change=\\\"vm.pickStart()\\\" ng-required=\\\"true\\\" ng-disabled=\\\"vm.invalidYear\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-disabled=\\\"vm.invalidYear\\\" ng-click=\\\"vm.openStart($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"SemesterForm.date_start.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': SemesterForm.date_start.$invalid || vm.rangeIntersectStart.status || vm.include.status}\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"SemesterForm.date_start.$error\\\" ng-if=\\\"SemesterForm.date_start.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Dimulai Tugas harus ditentukan terlebih dahulu.</small></div><small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.rangeIntersectStart.status && SemesterForm.date_start.$dirty\\\">* Semester ini tidak dapat dimulai ketika semester {{ vm.rangeIntersectStart.semester}} belum selesai</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.include.status && SemesterForm.date_start.$dirty\\\">* Semester tidak dapat mencakup semester {{ vm.include.semester }}</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': SemesterForm.date_ended.$invalid && SemesterForm.date_ended.$dirty || vm.rangeIntersectEnded.status || vm.include.status}\\\"><label class=\\\"control-label\\\">Berakhir hingga</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date_ended\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.date_ended\\\" is-open=\\\"vm.status.openedEnded\\\" min-date=\\\"vm.minDateEnded\\\" max-date=\\\"vm.maxDateEnded\\\" datepicker-options=\\\"dateOptions\\\" ng-change=\\\"vm.pickEnded()\\\" ng-required=\\\"true\\\" ng-disabled=\\\"vm.invalidYear\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-disabled=\\\"vm.invalidYear\\\" ng-click=\\\"vm.openEnded($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"SemesterForm.date_ended.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': SemesterForm.date_ended.$invalid || vm.rangeIntersectEnded.status || vm.include.status }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"SemesterForm.date_ended.$error\\\" ng-if=\\\"SemesterForm.date_ended.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Diakhir Tugas harus ditentukan terlebih dahulu.</small></div><small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.rangeIntersectEnded.status && SemesterForm.date_ended.$dirty\\\">* Semester ini tidak dapat dimulai ketika semester {{ vm.rangeIntersectEnded.semester}} belum selesai</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.include.status && SemesterForm.date_ended.$dirty\\\">* Semester tidak dapat mencakup semester {{ vm.include.semester}}</small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.semester\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button class=\\\"btn btn-primary\\\" ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"validated && (SemesterForm.$invalid || !vm.input.type || vm.invalidYear || vm.include.status || vm.rangeIntersectStart.status || vm.rangeIntersectEnded.status)\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div>{{ updatePristine }}<div ng-show=\\\"debug\\\">{{ input }}</div>\");\n$templateCache.put(\"app/admin/semester/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Semester</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.semester.create\\\" class=\\\"btn btn-primary\\\" popover=\\\"Add New\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-plus\\\"></i></a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Mulai</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'ended\\' ; reverse = !reverse\\\">Berakhir</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.semesters | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>Semester {{ object.type == 1 ? \\'Ganjil\\' : object.type == 2 ? \\'Genap\\' : \\'Pendek\\'}} {{ object.year_start }} / {{ object.year_ended }}</td><td>{{ object.date_start | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.date_ended | date: \\'dd-MM-yyyy\\' }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\" popover=\\\"Update\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id)\\\" class=\\\"btn btn-danger btn-xs\\\" popover=\\\"Delete\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><div ng-show=\\\"debug\\\">{{ semesters }}</div>\");\n$templateCache.put(\"app/admin/standard/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Kumpulan Standar</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"StandardForm\\\" role=\\\"form\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.exist || StandardForm.description.$invalid && StandardForm.description.$dirty && !vm.loading, \\'has-success\\': !vm.exist && StandardForm.description.$dirty && !vm.loading }\\\"><label class=\\\"control-label\\\">Nama</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"StandardForm.description.$dirty || vm.loading\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.exist || StandardForm.description.$invalid, \\'fa-spinner fa-pulse fa-lg\\': vm.loading && StandardForm.description.$valid, \\'fa-check fa-lg\\': !vm.exist && StandardForm.description.$valid && !vm.loading }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardForm.description.$error\\\" ng-if=\\\"StandardForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Standar harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loading && StandardForm.description.$valid\\\">* Check nama standar</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.exist && StandardForm.description.$dirty && !vm.loading\\\">* Nama standar ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': StandardForm.date.$invalid && StandardForm.date.$dirty}\\\"><label class=\\\"control-label\\\">Tanggal Posting</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.date\\\" is-open=\\\"vm.status.opened\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.open($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"StandardForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': StandardForm.date.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardForm.date.$error\\\" ng-if=\\\"StandardForm.date.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Standar harus ditentukan terlebih dahulu.</small></div></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.standard\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(StandardForm.$invalid && vm.validated) || vm.exist || vm.loading\\\"><i class=\\\"fa fa-floppy-o\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ input.date }}\t\\r\\n</pre>\");\n$templateCache.put(\"app/admin/standard/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Kumpulan Standar</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.standard.create\\\" class=\\\"btn btn-primary\\\" popover=\\\"Add New\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-plus\\\"></i></a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'posting\\' ; reverse = !reverse\\\">Posting</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.standards | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.description }}</td><td>{{ object.date | date: \\'dd-MM-yyyy\\' }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\" popover=\\\"Update\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\" popover=\\\"Delete\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div>\");\n$templateCache.put(\"app/admin/standardDocument/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Dokumen Standar Mutu</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form name=\\\"StandardDocumentForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': StandardDocumentForm.standard_id.$invalid && StandardDocumentForm.standard_id.$dirty && !vm.loadingStandard }\\\"><label class=\\\"control-label\\\">Standard</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"standard_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.description for option in vm.standards\\\" ng-model=\\\"vm.input.standard_id\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"StandardDocumentForm.standard_id.$dirty || vm.loadingStandard\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': StandardDocumentForm.standard_id.$invalid && StandardDocumentForm.standard_id.$dirty }\\\"></i></span> <span style=\\\"right: 10px;\\\" ng-show=\\\"vm.loadingStandard\\\" class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardDocumentForm.standard_id.$error\\\" ng-if=\\\"StandardDocumentForm.standard_id.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div><small ng-show=\\\"vm.loadingStandard\\\">* Load nama standar</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existNo && !vm.loadingNo) || StandardDocumentForm.no.$invalid && StandardDocumentForm.no.$dirty, \\'has-success\\': !vm.existNo && StandardDocumentForm.no.$dirty && !vm.loadingNo }\\\"><label class=\\\"control-label\\\">Nomor Dokumen</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"no\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.no\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.()/& -]+$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"StandardDocumentForm.no.$dirty || vm.loadingNo\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existNo || StandardDocumentForm.no.$invalid, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingNo && StandardDocumentForm.no.$valid, \\'fa-check fa-lg\\': !vm.existNo && StandardDocumentForm.no.$valid && !vm.loadingNo }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardDocumentForm.no.$error\\\" ng-if=\\\"StandardDocumentForm.no.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Dokumen Standar harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nama Dokumen Standar harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingNo && StandardDocumentForm.no.$valid\\\">* Check nama standar</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existNo && StandardDocumentForm.no.$dirty && !vm.loadingNo\\\">* Nama standar ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': StandardDocumentForm.date.$invalid && StandardDocumentForm.date.$dirty}\\\"><label class=\\\"control-label\\\">Tanggal</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"date\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.date\\\" is-open=\\\"vm.status.opened\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.open($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"StandardDocumentForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': StandardDocumentForm.date.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardDocumentForm.date.$error\\\" ng-if=\\\"StandardDocumentForm.date.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Standar harus ditentukan terlebih dahulu.</small></div></div>{{ vm.input.date }}<div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existDescription && !vm.loadingDescription) || StandardDocumentForm.description.$invalid && StandardDocumentForm.description.$dirty, \\'has-success\\': !vm.existDescription && StandardDocumentForm.description.$dirty && !vm.loadingDescription }\\\"><label class=\\\"control-label\\\">Nama Dokumen</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9(),.& -]+$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"StandardDocumentForm.description.$dirty || vm.loadingDescription\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existDescription || StandardDocumentForm.description.$invalid, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingDescription && StandardDocumentForm.description.$valid, \\'fa-check fa-lg\\': !vm.existDescription && StandardDocumentForm.description.$valid && !vm.loadingDescription }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardDocumentForm.description.$error\\\" ng-if=\\\"StandardDocumentForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Dokumen Standar harus ditentukan terlebih dahulu.</small> <small ng-message=\\\"pattern\\\">* Nama Dokumen Standar harus tidak boleh terdapat karaker spesial.</small></div><small ng-show=\\\"vm.loadingDescription && StandardDocumentForm.description.$valid\\\">* Check nama standar</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existDescription && StandardDocumentForm.description.$dirty && !vm.loadingDescription\\\">* Nama standar ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': StandardDocumentForm.file.$invalid && StandardDocumentForm.file.$dirty }\\\"><label class=\\\"control-label\\\">Dokumen</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"file\\\" name=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.input.file\\\" ng-required=\\\"vm.requiredUpload\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"StandardDocumentForm.file.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': StandardDocumentForm.file.$invalid, \\'fa-check fa-lg\\': StandardDocumentForm.file.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"StandardDocumentForm.file.$error\\\" ng-if=\\\"StandardDocumentForm.file.$dirty\\\"><small ng-message=\\\"required\\\">* Document terkait harus dilampirkan.</small></div><small if=\\\"!vm.requiredUpload\\\"><a target=\\\"_blank\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/standardDocument/{{ vm.input.document }}\\\">* {{ vm.input.document }}</a></small></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.standardDocument\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(StandardDocumentForm.$invalid && vm.validated) || vm.existNo || vm.existDescription || vm.loadingNo || vm.loadingDescription\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ vm.input.date }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/standardDocument/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Dokumen Standar Mutu</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.standardDocument.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'standard\\' ; reverse = !reverse\\\">Standar</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'posting\\' ; reverse = !reverse\\\">No Dokumen</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'posting\\' ; reverse = !reverse\\\">Tanggal Dokumen</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'standard\\' ; reverse = !reverse\\\">Nama Dokumen</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.standardDocuments | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.standard.description }}</td><td>{{ object.no }}</td><td>{{ object.date | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.description }}</td><td><a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/standardDocument/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div>\");\n$templateCache.put(\"app/admin/university/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Universitas</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><form role=\\\"form\\\" name=\\\"UniversityForm\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': vm.exist || UniversityForm.name.$invalid && UniversityForm.name.$dirty && !vm.loading, \\'has-success\\': !vm.exist && UniversityForm.name.$dirty && !vm.loading }\\\"><label class=\\\"control-label\\\">Nama Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 ]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UniversityForm.name.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (vm.exist || UniversityForm.name.$invalid) && UniversityForm.name.$dirty, \\'fa-spinner fa-pulse fa-lg\\': vm.loading && UniversityForm.name.$dirty && UniversityForm.name.$valid, \\'fa-check fa-lg\\': !vm.exist && UniversityForm.name.$valid && UniversityForm.name.$dirty && !vm.loading }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UniversityForm.name.$error\\\" ng-if=\\\"UniversityForm.name.$dirty\\\"><small ng-message=\\\"pattern\\\">* Nama universitas hanya terdiri dari angka dan huruf</small> <small ng-message=\\\"required\\\">* Nama Universitas Harus diisi.</small></div><small ng-show=\\\"vm.loading && UniversityForm.name.$valid\\\">* cheking nama university</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.exist && UniversityForm.name.$dirty && !vm.loading\\\">* Nama universitas ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UniversityForm.address.$invalid && UniversityForm.address.$dirty }\\\"><label class=\\\"control-label\\\">Alamat Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea type=\\\"text\\\" name=\\\"address\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.address\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9., -/\\\\n]*$/\\\"></textarea> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UniversityForm.address.$invalid && UniversityForm.address.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UniversityForm.address.$error\\\" ng-if=\\\"UniversityForm.address.$dirty\\\"><small ng-message=\\\"pattern\\\">* Alamat universitas hanya terdiri dari angka dan huruf</small> <small ng-message=\\\"required\\\">* Alamat universitas Harus diisi.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UniversityForm.phone.$invalid && UniversityForm.phone.$dirty }\\\"><label class=\\\"control-label\\\">Telepon Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"phone\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.phone\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[0-9( )+.-]*$/\\\" ng-maxlength=\\\"16\\\" ng-minlength=\\\"10\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UniversityForm.phone.$invalid && UniversityForm.phone.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UniversityForm.phone.$error\\\" ng-if=\\\"UniversityForm.phone.$dirty\\\"><small ng-message=\\\"minlength\\\">* Nomor telepon universitas tidak kurang dari 10 digit angka dan simbol.</small> <small ng-message=\\\"maxlength\\\">* Nomor telepon universitas tidak lebih dari 16 digit angka dan simbol.</small> <small ng-message=\\\"pattern\\\">* Nomor telepon universitas hanya dapat diisi dengan angka dan simbol \\'(\\', \\')\\', \\'-\\'</small> <small ng-message=\\\"required\\\">* Nomor telepon universitas Harus diisi.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UniversityForm.fax.$invalid && UniversityForm.fax.$dirty }\\\"><label class=\\\"control-label\\\">Fax Universitas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"fax\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.fax\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[0-9( )+.-]*$/\\\" ng-maxlength=\\\"16\\\" ng-minlength=\\\"10\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UniversityForm.fax.$invalid && UniversityForm.fax.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UniversityForm.fax.$error\\\" ng-if=\\\"UniversityForm.fax.$dirty\\\"><small ng-message=\\\"minlength\\\">* Nomor fax universitas tidak kurang dari 10 digit angka dan simbol.</small> <small ng-message=\\\"maxlength\\\">* Nomor fax universitas tidak lebih dari 16 digit angka dan simbol.</small> <small ng-message=\\\"pattern\\\">* Nomor fax universitas hanya dapat diisi dengan angka dan simbol \\'(\\', \\')\\', \\'-\\'</small> <small ng-message=\\\"required\\\">* Nomor fax universitas Harus diisi.</small></div></div></form></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.university\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(vm.validated && UniversityForm.$invalid) || vm.exist\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n{{ input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/university/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Universitas</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.university.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\" ng-click=\\\"vm.load()\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Universitas</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.universities | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.name }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" popover=\\\"Update\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" popover=\\\"Delete\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n{{ universities | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/user/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">User</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Biodata User</h4></div></div><div class=\\\"panel-body\\\"><form name=\\\"UserForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existNik && !vm.loadingNik) || UserForm.nik.$invalid && UserForm.nik.$dirty }\\\"><label class=\\\"control-label\\\">NIK</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"nik\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.nik\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[0-9]*$/\\\" ng-maxlength=\\\"6\\\" ng-minlength=\\\"6\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.nik.$dirty || vm.loadingNik\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (vm.existNik && !vm.loadingNik) || UserForm.nik.$invalid && UserForm.nik.$dirty && !vm.loadingNik }\\\"></i></span> <span class=\\\"form-control-feedback\\\" aria-hidden=\\\"true\\\" ng-show=\\\"vm.loadingNik && UserForm.nik.$valid\\\"><i class=\\\"fa fa-spinner fa-pulse fa-lg\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.nik.$error\\\" ng-if=\\\"UserForm.nik.$dirty\\\"><small ng-message=\\\"required\\\">* NIK harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small> <small ng-message=\\\"maxlength\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small> <small ng-message=\\\"minlength\\\">* Nomor Induk Karyawan hanya terdiri dari 6 digit angka.</small></div><small ng-show=\\\"vm.loadingNik\\\">* Load NIK</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existNik && UserForm.nik.$valid && UserForm.nik.$dirty && !vm.loadingNik\\\">* Nomor Induk Karyawan ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UserForm.name.$invalid && UserForm.name.$dirty }\\\"><label class=\\\"control-label\\\">Nama Lengkap</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z .,]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.name.$dirty || vm.loadingNik\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': UserForm.name.$invalid && UserForm.name.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.name.$error\\\" ng-if=\\\"UserForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Lengkap harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Lengkap harus diisi dengan format yang tepat.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UserForm.day.$invalid && UserForm.day.$dirty }\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Tahun Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"year\\\" class=\\\"form-control\\\" ng-options=\\\"option.year as option.year for option in vm.years\\\" ng-model=\\\"vm.year.year\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectYear()\\\"></select></div><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Bulan Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"month\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.month for option in vm.months\\\" ng-model=\\\"vm.month\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectMonth()\\\"></select></div><div class=\\\"col-xs-4\\\"><label class=\\\"control-label\\\">Tanggal Lahir</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"day\\\" class=\\\"form-control\\\" ng-options=\\\"option.day as option.day for option in vm.days\\\" ng-model=\\\"vm.day.day\\\" ng-required=\\\"true\\\" ng-change=\\\"vm.selectDay()\\\"></select></div></div><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.day.$error\\\" ng-if=\\\"UserForm.day.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Lahir harus diisi.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': UserForm.address.$invalid && UserForm.address.$dirty }\\\"><label class=\\\"control-label\\\">Alamat</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <textarea name=\\\"address\\\" class=\\\"form-control\\\" row=\\\"2\\\" ng-model=\\\"vm.input.address\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9,./ ()\\\\n-]*$/\\\">\\r\\n\t\t\t                \t\t\t\t</textarea> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.address.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': UserForm.address.$invalid && UserForm.address.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.address.$error\\\" ng-if=\\\"UserForm.address.$dirty\\\"><small ng-message=\\\"required\\\">* Alamat diisi.</small> <small ng-message=\\\"pattern\\\">* Alamat diisi dengan format yang tepat.</small></div></div></div><div class=\\\"col-lg-6\\\"><div class=\\\"form-group has-feedback\\\" style=\\\"padding-top: 6px; padding-bottom: 6px;\\\" ng-class=\\\"{ \\'has-error\\': !vm.input.type && UserForm.type.$dirty }\\\"><label class=\\\"control-label\\\">Tipe User</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"1\\\">Admin User</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"2\\\">Regular User</label> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.type.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': !vm.input.type && UserForm.type.$dirty }\\\"></i></span><br><small style=\\\"color: #a94442;\\\" ng-show=\\\"!vm.input.type && UserForm.type.$dirty\\\">* Tipe User harus diisi.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existEmail && !vm.loadingEmail) || UserForm.email.$invalid && UserForm.email.$dirty }\\\"><label class=\\\"control-label\\\">Email</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"email\\\" name=\\\"email\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.email\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.email.$dirty || vm.loadingEmail\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': vm.existEmail || UserForm.email.$invalid && UserForm.email.$dirty && !vm.loadingEmail, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingEmail && UserForm.email.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.email.$error\\\" ng-if=\\\"UserForm.email.$dirty\\\"><small ng-message=\\\"required\\\">* Email harus diisi.</small> <small ng-message=\\\"email\\\">* Format email salah.</small></div><small ng-show=\\\"vm.loadingEmail\\\">* Cheking Email</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existEmail && UserForm.email.$valid && UserForm.email.$dirty && !vm.loadingEmail\\\">* Email ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-if=\\\"vm.hidePassword\\\" ng-class=\\\"{ \\'has-error\\': UserForm.password.$invalid && UserForm.password.$dirty }\\\"><label class=\\\"control-label\\\">Password</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"password\\\" name=\\\"password\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.password\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.password.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': UserForm.password.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.password.$error\\\" ng-if=\\\"UserForm.password.$dirty\\\"><small ng-message=\\\"required\\\">* Password harus diisi.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-if=\\\"vm.hidePassword\\\" ng-class=\\\"{ \\'has-error\\': (UserForm.confirmation.$invalid || (vm.input.password !== vm.input.confirmation)) && UserForm.confirmation.$dirty }\\\"><label class=\\\"control-label\\\">Konfirm</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"password\\\" name=\\\"confirmation\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.confirmation\\\" ng-required=\\\"true\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"UserForm.confirmation.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (UserForm.confirmation.$invalid || (vm.input.password !== vm.input.confirmation)) && UserForm.confirmation.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"UserForm.confirmation.$error\\\" ng-if=\\\"UserForm.confirmation.$dirty\\\"><small ng-message=\\\"required\\\">* Password harus diisi kembali.</small></div><small style=\\\"color: #a94442;\\\" ng-show=\\\"(UserForm.confirmation.$invalid || (vm.input.password !== vm.input.confirmation)) && UserForm.confirmation.$dirty\\\">* Password tidak sesuai dengan konfirmasi pasword.</small></div></div></div></form></div></div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Jabatan User</h4></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.addJob()\\\" class=\\\"btn btn-primary\\\">Add New</button><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Universitas</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'department\\' ; reverse = !reverse\\\">Department</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'job\\' ; reverse = !reverse\\\">Jabatan</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.input.jobs | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.department.university.name }}</td><td>{{ object.department.name }}</td><td>{{ object.name }}</td><td><button ng-click=\\\"vm.update(object, $index)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></button>&nbsp;|&nbsp; <button ng-click=\\\"vm.destroy(object, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></button></td></tr></tbody></table></div></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.user\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(UserForm.$invalid && vm.validated) || vm.loadingNik || vm.loadingEmail\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n\t{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/user/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">User {{ token }}</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><a ui-sref=\\\"main.admin.user.create\\\" class=\\\"btn btn-primary\\\">Add New</a><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nik\\' ; reverse = !reverse\\\">NIK</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'name\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'email\\' ; reverse = !reverse\\\">Email</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'status\\' ; reverse = !reverse\\\">Status</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.users | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.nik }}</td><td>{{ object.name }}</td><td>{{ object.email }}</td><td>{{ object.status == \\'2\\' && object.type !== null ? \\'Active\\' : object.status == \\'1\\' ? \\'Auth Required\\': \\'Unauthorized\\' }}</td><td><a ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;| <a ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"debug\\\">\\r\\n\t{{ users | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/user/views/modal.html\",\"<div class=\\\"modal-header clearfix\\\"><div class=\\\"modal-title pull-left\\\"><h4>Formulir</h4></div><div class=\\\"modal-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th><input type=\\\"checkbox\\\" ng-model=\\\"vm.checked\\\" ng-change=\\\"vm.checkAll()\\\"></th><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nik\\' ; reverse = !reverse\\\">NIK</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'name\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'email\\' ; reverse = !reverse\\\">Email</a></th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.users | filter:query | orderBy:sortField:reverse track by $index\\\"><td><input type=\\\"checkbox\\\" ng-change=\\\"vm.checkCustom()\\\" ng-model=\\\"object.check\\\"></td><td>{{ $index + 1 }}</td><td>{{ object.nik }}</td><td>{{ object.name }}</td><td>{{ object.email }}</td></tr></tbody></table><strong>{{ vm.selected }}</strong><span class=\\\"pull-right\\\" ng-if=\\\"vm.useInherit\\\"><input type=\\\"checkbox\\\" ng-model=\\\"vm.inherit\\\">&nbsp; Inherit delegation to its children?</span> {{ vm.inherit }}</div></div><pre ng-if=\\\"true\\\">\\r\\n    \t\t{{ vm.users | json }}\\r\\n    \t</pre></div></div><div class=\\\"modal-footer clearfix\\\"><div class=\\\"modal-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.close()\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></button> <button ng-click=\\\"vm.submit()\\\" ng-disabled=\\\"(UserJobForm.$invalid && vm.validated)\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/admin/work/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Tugas dan Pekerjaan</h1></div></div><div class=\\\"row\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><form name=\\\"WorkForm\\\" role=\\\"form\\\" enctype=\\\"multipart/form-data\\\" novalidate=\\\"\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': (vm.existName && !vm.loadingName) || WorkForm.name.$invalid && WorkForm.name.$dirty, \\'has-success\\': !vm.existName && !vm.loadingName && WorkForm.name.$valid && WorkForm.name.$dirty }\\\"><label class=\\\"control-label\\\">Nama Tugas</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <input type=\\\"text\\\" name=\\\"name\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.name\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 ]*$/\\\"> <span class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.name.$dirty || vm.loadingName\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': (vm.existName && !vm.loadingName) || WorkForm.name.$invalid && WorkForm.name.$dirty, \\'fa-spinner fa-pulse fa-lg\\': vm.loadingName && WorkForm.name.$valid, \\'fa-check fa-lg\\': !vm.existName && !vm.loadingName && WorkForm.name.$valid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.name.$error\\\" ng-if=\\\"WorkForm.name.$dirty\\\"><small ng-message=\\\"required\\\">* Nama Tugas harus diisi.</small> <small ng-message=\\\"pattern\\\">* Nama Tugas hanya terdiri dari huruf dan angka.</small></div><small ng-show=\\\"vm.loadingName && WorkForm.name.$valid\\\">* Cheking Nama Tugas</small> <small style=\\\"color: #a94442;\\\" ng-show=\\\"vm.existName && WorkForm.name.$valid && WorkForm.name.$dirty && !vm.loadingName\\\">* Nama Tugas ini sudah ada didalam database.</small></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.description.$invalid && WorkForm.description.$dirty }\\\"><label class=\\\"control-label\\\">Deskripsi Pekerjaan</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label> <span class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.description.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.description.$invalid && WorkForm.description.$dirty }\\\"></i></span> <textarea type=\\\"text\\\" name=\\\"description\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.description\\\" ng-required=\\\"true\\\" ng-pattern=\\\"/^[a-zA-Z0-9 ]*$/\\\"></textarea><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.description.$error\\\" ng-if=\\\"WorkForm.description.$dirty\\\"><small ng-message=\\\"required\\\">* Deskripsi Tugas harus diisi.</small> <small ng-message=\\\"pattern\\\">* Deskripsi Tugas hanya terdiri dari huruf dan angka.</small></div></div><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.group_job_id.$invalid && WorkForm.group_job_id.$dirty }\\\"><label class=\\\"control-label\\\">Group Job</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><select name=\\\"group_job_id\\\" class=\\\"form-control\\\" ng-options=\\\"option.id as option.name for option in vm.groupJobs\\\" ng-model=\\\"vm.input.group_job_id\\\" ng-required=\\\"true\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.group_job_id.$dirty || vm.loadingStandardDocument\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.group_job_id.$invalid && WorkForm.group_job_id.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.group_job_id.$error\\\" ng-if=\\\"WorkForm.group_job_id.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div></div></div></div></div></div></div><div class=\\\"col-lg-6\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Schedule</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.start.$invalid && WorkForm.start.$dirty }\\\"><label class=\\\"control-label\\\">Berlaku Mulai</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"start\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.start\\\" is-open=\\\"vm.status.openedStart\\\" min-date=\\\"minDateStart\\\" datepicker-options=\\\"vm.dateOptions\\\" ng-change=\\\"vm.pickStart()\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openStart($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.start.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.start.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.start.$error\\\" ng-if=\\\"WorkForm.start.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Dimulai Tugas harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"form-group\\\"><input type=\\\"checkbox\\\" ng-change=\\\"vm.checkLimit()\\\" ng-model=\\\"vm.limit\\\" name=\\\"remember\\\"> Memiliki batas waktu?</div><div ng-if=\\\"vm.limit\\\" class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.ended.$invalid && WorkForm.ended.$dirty }\\\"><label class=\\\"control-label\\\">Berakhir hingga</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><p class=\\\"input-group\\\"><input type=\\\"date\\\" name=\\\"ended\\\" class=\\\"form-control\\\" datepicker-popup=\\\"\\\" ng-model=\\\"vm.input.ended\\\" is-open=\\\"vm.status.openedEnded\\\" min-date=\\\"vm.input.start\\\" datepicker-options=\\\"dateOptions\\\" ng-required=\\\"true\\\" close-text=\\\"Close\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"vm.openEnded($event)\\\"><i class=\\\"glyphicon glyphicon-calendar\\\"></i></button></span></p><span style=\\\"right: 40px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.ended.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.ended.$invalid }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.ended.$error\\\" ng-if=\\\"WorkForm.ended.$dirty\\\"><small ng-message=\\\"required\\\">* Tanggal Diakhir Tugas harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"form-group\\\"><label>Pekerjaan diberikan setiap jam</label><timepicker ng-model=\\\"vm.input.time_start\\\" ng-change=\\\"vm.changeTime()\\\" show-meridian=\\\"false\\\"></timepicker><pre ng-if=\\\"debug\\\">\\r\\n\t\t\t                \t\t\t\t\t\t{{ vm.input.time_start }}\\r\\n\t\t\t                \t\t\t\t\t</pre></div><div class=\\\"form-group has-feedback\\\" style=\\\"padding-top: 6px; padding-bottom: 6px;\\\" ng-class=\\\"{ \\'has-error\\': !vm.input.type && WorkForm.type.$dirty }\\\"><label class=\\\"control-label\\\">Periode</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"1\\\">Harian</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"2\\\">Mingguan</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"3\\\">Bulanan</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"4\\\">Semesteran</label> <label class=\\\"radio-inline\\\"><input type=\\\"radio\\\" name=\\\"type\\\" ng-model=\\\"vm.input.type\\\" value=\\\"5\\\">Tahunan</label> <span class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.type.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': !vm.input.type && WorkForm.type.$dirty }\\\"></i></span><br><small style=\\\"color: #a94442;\\\" ng-show=\\\"!vm.input.type && WorkForm.type.$dirty\\\">* Tipe Schedule harus diisi.</small></div><div ng-if=\\\"vm.input.type == 1\\\"><div class=\\\"form-group has-feedback\\\" style=\\\"padding-top: 6px; padding-bottom: 6px;\\\" ng-class=\\\"{ \\'has-error\\': !vm.hasDays && vm.dirtyDay }\\\"><label class=\\\"control-label\\\">Dilaksanakan untuk hari</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><div class=\\\"btn-group\\\"><label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.MONDAY\\\" value=\\\"1\\\" btn-checkbox=\\\"\\\">Senin</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.TUESDAY\\\" value=\\\"2\\\" btn-checkbox=\\\"\\\">Selasa</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.WEDNESDAY\\\" value=\\\"3\\\" btn-checkbox=\\\"\\\">Rabu</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.THURSDAY\\\" value=\\\"4\\\" btn-checkbox=\\\"\\\">Kamis</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.FRIDAY\\\" value=\\\"5\\\" btn-checkbox=\\\"\\\">Jumat</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.SATURDAY\\\" value=\\\"6\\\" btn-checkbox=\\\"\\\">Sabtu</label> <label class=\\\"btn btn-primary\\\" name=\\\"day\\\" ng-model=\\\"vm.days.SUNDAY\\\" value=\\\"7\\\" btn-checkbox=\\\"\\\">Minggu</label></div><span class=\\\"form-control-feedback\\\" ng-show=\\\"!vm.hasDays && vm.dirtyDay\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa fa-close fa-lg\\\"></i></span><br><small style=\\\"color: #a94442;\\\" ng-show=\\\"!vm.hasDays && vm.dirtyDay\\\">* Pilih minimal satu hari.</small><pre ng-if=\\\"admin.debug\\\">\\r\\n\t\t\t\t                \t\t\t\t\t\t{{ vm.days }}\\r\\n\t\t\t\t                \t\t\t\t\t</pre></div></div><div ng-if=\\\"vm.input.type == 2\\\"><div class=\\\"form-group has-feedback\\\" style=\\\"padding-top: 6px; padding-bottom: 6px;\\\" ng-class=\\\"{ \\'has-error\\': !vm.input.day_start && WorkForm.day_start.$dirty }\\\"><label class=\\\"control-label\\\">Pekerjaan diberikan setiap hari:</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><div class=\\\"btn-group\\\"><label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'0\\'\\\">Senin</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'1\\'\\\">Selasa</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'2\\'\\\">Rabu</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'3\\'\\\">Kamis</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'4\\'\\\">Jumat</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'5\\'\\\">Sabtu</label> <label class=\\\"btn btn-success\\\" name=\\\"day_start\\\" ng-model=\\\"vm.input.day_start\\\" btn-radio=\\\"\\'6\\'\\\">Minggu</label></div><span class=\\\"form-control-feedback\\\" ng-show=\\\"!vm.input.day_start && WorkForm.day_start.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': !vm.input.day_start && WorkForm.day_start.$dirty }\\\"></i></span><br><small style=\\\"color: #a94442;\\\" ng-show=\\\"!vm.input.day_start && WorkForm.day_start.$dirty\\\">* Tipe User harus diisi.</small></div><pre ng-if=\\\"debug\\\">\\r\\n\t\t\t\t                \t\t\t\t\t{{ vm.input.day_start }}\\r\\n\t\t\t\t                \t\t\t\t</pre></div><div ng-if=\\\"vm.input.type == 3\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.date.$invalid && WorkForm.date.$dirty }\\\"><label class=\\\"control-label\\\">Pekerjaan diberikan setiap tanggal</label>&nbsp;<label style=\\\"color: #a94442;\\\">*</label><br><select name=\\\"date\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.date\\\" ng-required=\\\"true\\\" ng-options=\\\"option.value as option.value for option in vm.dates\\\"></select><span style=\\\"right: 10px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.date.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.date.$invalid && WorkForm.date.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.date.$error\\\" ng-if=\\\"WorkForm.date.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div></div></div></div></div><div ng-if=\\\"vm.input.type == 4\\\"></div><div ng-if=\\\"vm.input.type == 5\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6 form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.month.$invalid && WorkForm.month.$dirty }\\\"><label class=\\\"control-label\\\">Pekerjaan diberikan setiap bulan</label><label style=\\\"color: #a94442;\\\">*</label><br><select name=\\\"month\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.month\\\" ng-required=\\\"true\\\" ng-options=\\\"option.id as option.month for option in vm.months\\\" ng-change=\\\"vm.selectMonth()\\\"></select><span style=\\\"right: 30px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.month.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.month.$invalid && WorkForm.month.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.month.$error\\\" ng-if=\\\"WorkForm.month.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div></div><div class=\\\"col-md-6 form-group has-feedback\\\" ng-class=\\\"{ \\'has-error\\': WorkForm.dateMonth.$invalid && WorkForm.dateMonth.$dirty }\\\"><label class=\\\"control-label\\\">Pekerjaan diberikan setiap tanggal</label><label style=\\\"color: #a94442;\\\">*</label><br><select name=\\\"dateMonth\\\" class=\\\"form-control\\\" ng-model=\\\"vm.input.dateMonth\\\" ng-required=\\\"true\\\" ng-options=\\\"option.day as option.day for option in vm.datesMonth\\\"></select><span style=\\\"right: 30px;\\\" class=\\\"form-control-feedback\\\" ng-show=\\\"WorkForm.dateMonth.$dirty\\\" aria-hidden=\\\"true\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-close fa-lg\\': WorkForm.dateMonth.$invalid && WorkForm.dateMonth.$dirty }\\\"></i></span><div style=\\\"color: #a94442;\\\" ng-messages=\\\"WorkForm.dateMonth.$error\\\" ng-if=\\\"WorkForm.dateMonth.$dirty\\\"><small ng-message=\\\"required\\\">* Standar harus ditentukan terlebih dahulu.</small></div></div></div></div></div></div></div></div></div><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Formulir</h4></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.addForm()\\\" class=\\\"btn btn-primary\\\">Add New</button><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'instruction\\' ; reverse = !reverse\\\">Instruksi</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'no\\' ; reverse = !reverse\\\">No</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'form\\' ; reverse = !reverse\\\">Form</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.input.forms | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.instruction.description }}</td><td>{{ object.no }}</td><td>{{ object.description }}</td><td><a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;|&nbsp;<a ng-click=\\\"vm.update(object, $index)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></a>&nbsp;|&nbsp;<a ng-click=\\\"vm.destroy(object, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></a></td></tr></tbody></table></div></div></div></div></div></form></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.admin.work\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a> <button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\" ng-disabled=\\\"(WorkForm.$invalid && vm.validated) || vm.loadingName || (!vm.input.type && WorkForm.type.$dirty) || ( vm.validated && (vm.input.type == 1) && !vm.hasDays) || ( vm.validated && (vm.input.type == 2) && !vm.input.day_start)\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/admin/work/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Tugas dan Pekerjaan</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><div class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><a ui-sref=\\\"main.admin.work.create\\\" class=\\\"btn btn-primary form-control\\\" popover=\\\"Add New\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-plus\\\"></i></a></div></div></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.startAllEvent()\\\" popover=\\\"Start All\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-success\\\"><i class=\\\"fa fa-play\\\"></i></button> <button ng-click=\\\"vm.pauseAllEvent()\\\" popover=\\\"Pause All\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-warning\\\"><i class=\\\"fa fa-pause\\\"></i></button> <button ng-click=\\\"vm.executeAllWork()\\\" popover=\\\"Execute All\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-legal\\\"></i></button><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.load()\\\" type=\\\"button\\\"><i class=\\\"fa fa-refresh\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'name\\' ; reverse = !reverse\\\">Name</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Berlaku Mulai</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'ended\\' ; reverse = !reverse\\\">Berakhir Hingga</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'period\\' ; reverse = !reverse\\\">Periode</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'last_execute\\' ; reverse = !reverse\\\">Terakhir diberikan</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'groupJob\\' ; reverse = !reverse\\\">Group Job</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.works | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.name }}</td><td>{{ object.start | date: \\'dd-MM-yyyy\\' }}</td><td>{{ (object.ended | date: \\'dd-MM-yyyy\\') || \\'Tidak Ada\\' }}</td><td>{{ object.type | periode }}</td><td>{{ object.last_execute }}</td><td>{{ object.group_job.name }}</td><td><button ng-click=\\\"vm.eventToggle(object.id, $index)\\\" popover=\\\"Toogle Event\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-xs\\\" ng-class=\\\"{ \\'btn-warning\\': object.schedule_status == \\'DISABLED\\', \\'btn-success\\': object.schedule_status == \\'ENABLED\\' }\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-pause\\': object.schedule_status == \\'DISABLED\\', \\'fa-play\\': object.schedule_status == \\'ENABLED\\' }\\\"></i></button>&nbsp;| <button popover=\\\"Execute\\\" popover-trigger=\\\"mouseenter\\\" ng-click=\\\"vm.execute(object.id, $index)\\\" class=\\\"btn btn-primary btn-xs\\\"><i class=\\\"fa fa-legal\\\"></i></button>&nbsp;| <button popover=\\\"Update\\\" popover-trigger=\\\"mouseenter\\\" ng-click=\\\"vm.update(object.id)\\\" class=\\\"btn btn-success btn-xs\\\"><i class=\\\"fa fa-edit\\\"></i></button>&nbsp;| <button popover=\\\"Delete\\\" popover-trigger=\\\"mouseenter\\\" ng-click=\\\"vm.destroy(object.id, $index)\\\" class=\\\"btn btn-danger btn-xs\\\"><i class=\\\"fa fa-close\\\"></i></button></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"admin.debug\\\">\\r\\n{{ vm.works | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/user/dashboard/views/dashboard.html\",\"\");\n$templateCache.put(\"app/user/dashboard/views/main.html\",\"<div class=\\\"row\\\"><nav class=\\\"navbar navbar-default\\\" role=\\\"navigation\\\"><div class=\\\"container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\" ui-sref=\\\"main.user\\\">Home</a></div><div class=\\\"collapse navbar-collapse\\\" collapse=\\\"navbarCollapsed\\\"><ul class=\\\"nav navbar-nav\\\"><li><a ui-sref=\\\"main.user\\\">User</a></li><li><a ui-sref=\\\"main.user.task\\\">Pekerjaan</a></li><li><a ui-sref=\\\"main.user.project\\\">Project</a></li><li><a ui-sref=\\\"main.user.subordinat\\\">Subordinat</a></li><li><a ui-sref=\\\"main.user\\\">Dokumen</a></li><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">Laporan<span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a href=\\\"#\\\">Universitas</a></li><li><a href=\\\"#\\\">Fakultas</a></li><li><a href=\\\"#\\\">Prodi</a></li><li><a href=\\\"#\\\">Department</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a href=\\\"#\\\">Pengumuman</a></li><li><a href=\\\"#\\\">Event</a></li></ul></li></ul><ul class=\\\"nav navbar-nav navbar-right\\\"><li dropdown=\\\"\\\"><a href=\\\"\\\" dropdown-toggle=\\\"\\\">{{ user.user.name }} ({{ user.user.nik }}) <span class=\\\"caret\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li><a href=\\\"#\\\">Profile</a></li><li><a href=\\\"#\\\">Setting</a></li><li><a ui-sref=\\\"main.admin\\\">Admin Backend</a></li><li role=\\\"separator\\\" class=\\\"divider\\\"></li><li><a href=\\\"\\\" ng-click=\\\"user.logout()\\\">Logout</a></li></ul></li></ul></div></div></nav></div><div class=\\\"container\\\"><div ui-view=\\\"content\\\"></div></div>\");\n$templateCache.put(\"app/user/project/views/detail.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Project</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Informasi Project</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Nama Project</label><br>{{ vm.input.name }}</div><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Deskripsi Project</label><br>{{ vm.input.description }}</div><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Berlaku Mulai</label><br>{{ vm.input.start | date: \\'dd-MM-yyyy\\' }}</div><div class=\\\"form-group has-feedback\\\"><label class=\\\"control-label\\\">Berakhir hingga</label><br>{{ vm.input.ended | date: \\'dd-MM-yyyy\\' }}</div></div></div></div></div></div><div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Project Member</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">*</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Nama</a></th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.input.users | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td><a><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-star-o\\': object.leader == false, \\'fa-star\\': object.leader == true, }\\\"></i></a></td><td>{{ object.name }}</td></tr></tbody></table></div></div></div></div><div class=\\\"col-md-12\\\"><node-list ng-model=\\\"vm.input.projects\\\" phase=\\\"vm.phase\\\" users=\\\"vm.input.users\\\" node-controller=\\\"NodeUserProjectController\\\"></node-list></div><hr><strong ng-if=\\\"msg\\\" style=\\\"color: #a94442;\\\">Error:</strong><ul ng-repeat=\\\"err in vm.msg track by $index\\\"><li><small style=\\\"color: #a94442;\\\">{{ err }}</small></li></ul></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"vm.back()\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></button> <button ng-if=\\\"vm.phase == \\'5\\'\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.submit()\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div></div>{{ test }}<pre ng-if=\\\"user.debug || admin.debug\\\">\\r\\n    {{ vm.input | json }}\\r\\n</pre></div>\");\n$templateCache.put(\"app/user/project/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Project</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'nama\\' ; reverse = !reverse\\\">Nama</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'start\\' ; reverse = !reverse\\\">Mulai</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'ended\\' ; reverse = !reverse\\\">Berakhir</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'pimpro\\' ; reverse = !reverse\\\">Pimpro</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'status\\' ; reverse = !reverse\\\">Status</a></th><th>Action</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.projects | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.name }}</td><td>{{ object.date_start | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.date_ended | date: \\'dd-MM-yyyy\\' }}</td><td>{{ object.leader.name }}</td><td><span class=\\\"label\\\" ng-class=\\\"{ \\'label-default\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'1\\', \\'label-info\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'2\\', \\'label-primary\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'3\\', \\'label-success\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'4\\', \\'label-danger\\': vm.showStatus(object.date_start, object.date_ended, object.status).code == \\'5\\'}\\\">{{ vm.showStatus(object.date_start, object.date_ended, object.status).text }}</span>&nbsp; <span ng-if=\\\"object.score\\\" class=\\\"label\\\" ng-class=\\\"{ \\'label-success\\': object.score >= 3.5, \\'label-primary\\': object.score < 3.5 && object.score >= 2.5, \\'label-warning\\': object.score < 2.5 && object.score >= 1.5, \\'label-danger\\': object.score < 1.5 }\\\">{{ object.score }}</span></td><td><a ng-click=\\\"vm.detail(object.id)\\\" class=\\\"btn btn-info btn-xs\\\" popover=\\\"Detail\\\" popover-trigger=\\\"mouseenter\\\"><i class=\\\"fa fa-search\\\"></i></a></td></tr></tbody></table></div></div></div></div></div><pre ng-if=\\\"user.debug\\\">\\r\\n\t{{ vm.input | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/user/project/views/upload.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Project</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-body\\\"><div class=\\\"row\\\"><div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pul-left\\\"><h4>Form Information</h4></div></div><div class=\\\"panel-body\\\"><label class=\\\"control-label\\\">Project</label><br><p>{{ vm.project.name }}</p><label class=\\\"control-label\\\">Node</label><br><p>{{ vm.form.project_form.project_node.name }}</p><label class=\\\"control-label\\\">Node Description</label><br><p>{{vm.form.project_form.project_node.description }}</p><label class=\\\"control-label\\\">Form</label><br><div class=\\\"pull-left\\\"><p>{{ vm.form.form.description }}&nbsp;<a ng-disabled=\\\"!object.document\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\\\" popover=\\\"Download Form\\\" popover-trigger=\\\"mouseenter\\\" class=\\\"btn btn-info btn-xs\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a></p></div></div></div><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><h4>Upload History</h4></div><div class=\\\"panel-body\\\"><div class=\\\"list-group\\\"><a ng-repeat=\\\"object in vm.form.uploads | orderBy:vm.sortField:vm.reverse\\\" ng-href=\\\"{{ $root.API_HOST }}/upload/project/{{ object.upload }}\\\" target=\\\"_blank\\\" class=\\\"list-group-item\\\"><i class=\\\"fa fa-file\\\"></i>&nbsp;{{ object.users.name }} <span class=\\\"pull-right\\\">{{ object.created_at | date: \\'dd-MM-yyyy hh:mm\\' }}</span></a></div></div><div ng-if=\\\"vm.project.status == 1 || vm.project.status == 2\\\" class=\\\"panel-footer clearfix\\\"><div class=\\\"form-inline pull-right\\\"><input type=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.input.file\\\" name=\\\"file\\\"> <button ng-click=\\\"vm.upload()\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-save\\\"></i></button></div></div></div></div><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Delegate To</h4></div></div><div class=\\\"panel-body\\\"><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-click=\\\"vm.detail(work)\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"object in vm.form.project_form.project_node.delegations\\\"><i class=\\\"fa\\\" ng-class=\\\"{ \\'fa-star\\' : object.id == vm.leader.id, \\'fa-user\\' : object.id !== vm.leader.id }\\\"></i>&nbsp;{{ object.name }}</a></div></div></div><div class=\\\"chat-panel panel panel-default\\\"><div class=\\\"panel-heading\\\"><i class=\\\"fa fa-comments fa-fw\\\"></i> Chat</div><div class=\\\"panel-body\\\"><ul class=\\\"chat\\\"><li class=\\\"left clearfix\\\"><div class=\\\"chat-body clearfix\\\"><div class=\\\"header\\\"><strong class=\\\"primary-font\\\">Jack Sparrow</strong> <small class=\\\"pull-right text-muted\\\"><i class=\\\"fa fa-clock-o fa-fw\\\"></i> 12 mins ago</small></div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p></div></li><li class=\\\"right clearfix\\\"><div class=\\\"chat-body clearfix\\\"><div class=\\\"header\\\"><small class=\\\"text-muted\\\"><i class=\\\"fa fa-clock-o fa-fw\\\"></i> 13 mins ago</small> <strong class=\\\"pull-right primary-font\\\">Bhaumik Patel</strong></div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p></div></li><li class=\\\"left clearfix\\\"><div class=\\\"chat-body clearfix\\\"><div class=\\\"header\\\"><strong class=\\\"primary-font\\\">Jack Sparrow</strong> <small class=\\\"pull-right text-muted\\\"><i class=\\\"fa fa-clock-o fa-fw\\\"></i> 14 mins ago</small></div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p></div></li><li class=\\\"right clearfix\\\"><div class=\\\"chat-body clearfix\\\"><div class=\\\"header\\\"><small class=\\\"text-muted\\\"><i class=\\\"fa fa-clock-o fa-fw\\\"></i> 15 mins ago</small> <strong class=\\\"pull-right primary-font\\\">Bhaumik Patel</strong></div><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur bibendum ornare dolor, quis ullamcorper ligula sodales.</p></div></li></ul></div><div class=\\\"panel-footer\\\"><div class=\\\"input-group\\\"><input id=\\\"btn-input\\\" type=\\\"text\\\" class=\\\"form-control input-sm\\\" placeholder=\\\"Type your message here...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-warning btn-sm\\\" id=\\\"btn-chat\\\">Send</button></span></div></div></div></div></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><a ui-sref=\\\"main.user.project.detail\\\" ui-sref-opts=\\\"{reload: true}\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-undo\\\"></i></a></div></div></div></div></div></div><pre ng-if=\\\"user.debug\\\">\\r\\n\t{{ vm.form | json }}\\r\\n</pre>\");\n$templateCache.put(\"app/user/subordinat/views/list.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Subordinat</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Hierarchy</h4></div></div><div class=\\\"panel-body\\\"><abn-tree tree-data=\\\"vm.tree\\\"></abn-tree></div></div></div><div class=\\\"col-md-7\\\"><div class=\\\"panel panel-default\\\" ng-show=\\\"vm.showed\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-left\\\"><h4>Histori Pekerjaan</h4></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><label class=\\\"btn btn-success\\\" popover=\\\"Show Complete\\\" popover-trigger=\\\"mouseenter\\\" ng-model=\\\"vm.show.complete\\\" ng-change=\\\"vm.onShowChange()\\\" btn-checkbox=\\\"\\\"><i class=\\\"fa fa-check\\\"></i></label> <label class=\\\"btn btn-default\\\" popover=\\\"Show On Progress\\\" popover-trigger=\\\"mouseenter\\\" ng-model=\\\"vm.show.progress\\\" ng-change=\\\"vm.onShowChange()\\\" btn-checkbox=\\\"\\\"><i class=\\\"fa fa-tasks\\\"></i></label> <label class=\\\"btn btn-danger\\\" popover=\\\"Show Expired\\\" popover-trigger=\\\"mouseenter\\\" ng-model=\\\"vm.show.overdue\\\" ng-change=\\\"vm.onShowChange()\\\" btn-checkbox=\\\"\\\"><i class=\\\"fa fa-exclamation\\\"></i></label></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-repeat=\\\"work in vm.tasks\\\" ng-click=\\\"vm.detail(work)\\\" class=\\\"list-group-item\\\" ng-class=\\\"{ \\'list-group-item-success\\': work.status == 2, \\'list-group-item-danger\\': work.status == 1 && work.expired_at < vm.now }\\\"><i class=\\\"fa fa-fw\\\" ng-class=\\\"{ \\'fa-check\\': work.status == 2, \\'fa-exclamation\\': work.status == 1 && work.expired_at < vm.now, \\'fa-tasks\\': work.status == 1 }\\\"></i> {{ work.name }} &nbsp; <span class=\\\"text-muted small\\\"><em>{{ work.progress }}</em></span> <span class=\\\"pull-right text-muted small\\\"><em>{{ work.created_at | date: \\'dd-MM-yyyy\\' }}&nbsp;-&nbsp;{{ work.expired_at | date: \\'dd-MM-yyyy\\' }}&nbsp;({{ work.remaining }} day[s] {{ work.expired_at > vm.now ? \\'left\\' : \\'ago\\' }})</em></span></a></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-left\\\" style=\\\"margin-top: -20px;\\\"><div style=\\\"top: -10px;\\\"><pagination total-items=\\\"vm.total\\\" ng-model=\\\"vm.currentPage\\\" max-size=\\\"4\\\" ng-change=\\\"vm.pagging()\\\" items-per-page=\\\"vm.showLimit\\\" boundary-links=\\\"true\\\" rotate=\\\"false\\\"></pagination></div></div><div class=\\\"panel-title pull-right\\\"><div class=\\\"btn-group\\\"><label class=\\\"btn btn-primary\\\" ng-change=\\\"vm.onShowChange()\\\" ng-model=\\\"vm.showLimit\\\" btn-radio=\\\"10\\\">10</label> <label class=\\\"btn btn-primary\\\" ng-change=\\\"vm.onShowChange()\\\" ng-model=\\\"vm.showLimit\\\" btn-radio=\\\"20\\\">20</label> <label class=\\\"btn btn-primary\\\" ng-change=\\\"vm.onShowChange()\\\" ng-model=\\\"vm.showLimit\\\" btn-radio=\\\"50\\\">50</label></div></div></div></div></div></div><pre>\\r\\n {{ vm.tree | json }}\\r\\n</pre><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><pre>{{ vm.virtualTasks | json}}</pre></div><div class=\\\"col-md-6\\\"><pre>{{ vm.tasks | json}}</pre></div></div>\");\n$templateCache.put(\"app/user/task/views/form.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">vm.task</h1></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\">Detail<div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><a ui-sref=\\\"main.user.task\\\" class=\\\"btn btn-warning btn-xs\\\"><i class=\\\"fa fa-undo\\\"></i></a></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"col-md-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Posisi Jabatan</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.job.name }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Nama Pekerjaan</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.name }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Deskripsi Pekerjaan</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.work.description }}</div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Diberikan Tanggal</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.created_at }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Diserahkan Sebelum</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.expired_at }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><label>Periode Pekerjaan</label></div><div class=\\\"col-md-6\\\">: {{ vm.task.work.type == 1 ? \\'Harian\\' : vm.task[0].work.type == 2 ? \\'Mingguan\\' : vm.task[0].work.type == 3 ? \\'Bulanan\\' : vm.task[0].work.type == 4 ? \\'Semesteran\\' : \\'Tahunan\\' }}</div></div></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><form role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Description</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'super\\' ; reverse = !reverse\\\">Status</a></th><th>Upload</th></tr></thead><tbody><tr ng-repeat=\\\"object in vm.task.tasks | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.description }}</td><td>{{ object.status === \\'1\\' ? \\'Pending\\' : \\'Complete\\' }}</td><td><div class=\\\"form-inline\\\"><a ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" popover=\\\"Download Master Form\\\" popover-trigger=\\\"mouseenter\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <input type=\\\"file\\\" class=\\\"form-control\\\" ngf-select=\\\"\\\" accept=\\\"*\\\" ng-model=\\\"vm.task.files[object.id]\\\" name=\\\"files[]\\\">&nbsp;| <a ng-href=\\\"{{ $root.API_HOST }}/upload/task/{{ object.upload }}\\\" ng-hide=\\\"!object.upload\\\" class=\\\"btn btn-success btn-xs\\\" popover=\\\"Download Uploaded Form\\\" popover-trigger=\\\"mouseenter\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a></div></td></tr></tbody></table></div></div><div class=\\\"panel-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><button ng-click=\\\"vm.submit()\\\" class=\\\"btn btn-primary\\\">Submit</button></div></div></div></div></form></div></div></div>{{ files }}\");\n$templateCache.put(\"app/user/task/views/list.html\",\"<pre ng-if=\\\"debug.user\\\">\\r\\n    {{ vm.tasks  }}\\r\\n</pre><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><h1 class=\\\"page-header\\\">Task</h1></div></div><tabset><tab><tab-heading>To Do &nbsp;<span class=\\\"badge\\\">{{ vm.toDo }}</span></tab-heading>&nbsp;<accordion close-others=\\\"false\\\"><accordion-group is-open=\\\"status.open\\\" ng-repeat=\\\"job in vm.ongoing.jobs\\\" ng-show=\\\"job.works.length > 0\\\"><accordion-heading>{{ job.name }} <span class=\\\"badge\\\">{{ job.works.length }}</span><i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon-chevron-down\\': status.open, \\'glyphicon-chevron-right\\': !status.open}\\\"></i></accordion-heading><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-click=\\\"vm.detail(work)\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"work in job.works\\\"><i class=\\\"fa fa-comment fa-fw\\\"></i> {{ work.name }} &nbsp; <span class=\\\"text-muted small\\\"><em>{{ work.progress }}</em></span> <span class=\\\"pull-right text-muted small\\\"><em>{{ work.created_at | date: \\'dd-MM-yyyy\\' }}&nbsp;-&nbsp;{{ work.expired_at | date: \\'dd-MM-yyyy\\' }}&nbsp;({{ work.remaining }} day[s] left)</em></span></a></div></accordion-group></accordion><div ng-show=\\\"vm.toDo == 0\\\"><center><h1>Tidak ada pekerjaan untuk hari ini</h1></center></div></tab><tab><tab-heading>Homework &nbsp;<span class=\\\"badge\\\">{{ vm.homeWork }}</span></tab-heading>&nbsp;<accordion close-others=\\\"false\\\"><accordion-group is-open=\\\"status.open\\\" ng-repeat=\\\"job in vm.overdue.jobs\\\" ng-show=\\\"job.works.length > 0\\\"><accordion-heading>{{ job.name }} <span class=\\\"badge\\\">{{ job.works.length }}</span><i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon-chevron-down\\': status.open, \\'glyphicon-chevron-right\\': !status.open}\\\"></i></accordion-heading><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-click=\\\"vm.detail(work)\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"work in job.works\\\"><i class=\\\"fa fa-comment fa-fw\\\"></i> {{ work.name }} &nbsp; <span class=\\\"text-muted small\\\"><em>{{ work.progress }}</em></span> <span class=\\\"pull-right text-muted small\\\"><em>{{ work.created_at | date: \\'dd-MM-yyyy\\' }}&nbsp;-&nbsp;{{ work.expired_at | date: \\'dd-MM-yyyy\\' }}&nbsp;({{ work.remaining }} day[s] ago)</em></span></a></div></accordion-group></accordion><div ng-show=\\\"vm.homeWork == 0\\\"><center><h1>Tidak ada pekerjaan yang tertunda</h1></center></div></tab><tab><tab-heading>Done &nbsp;<span class=\\\"badge\\\">{{ vm.done }}</span></tab-heading>&nbsp;<accordion close-others=\\\"false\\\"><accordion-group is-open=\\\"status.open\\\" ng-repeat=\\\"job in vm.complete.jobs\\\" ng-show=\\\"job.works.length > 0\\\"><accordion-heading>{{ job.name }} <span class=\\\"badge\\\">{{ job.works.length }}</span><i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon-chevron-down\\': status.open, \\'glyphicon-chevron-right\\': !status.open}\\\"></i></accordion-heading><div class=\\\"list-group\\\"><a href=\\\"\\\" ng-click=\\\"vm.detail(work)\\\" class=\\\"list-group-item\\\" ng-repeat=\\\"work in job.works\\\"><i class=\\\"fa fa-comment fa-fw\\\"></i> {{ work.name }} &nbsp; <span class=\\\"text-muted small\\\"><em>{{ work.progress }}</em></span> <span class=\\\"pull-right text-muted small\\\"><em>{{ work.created_at | date: \\'dd-MM-yyyy\\' }}&nbsp;-&nbsp;{{ work.expired_at | date: \\'dd-MM-yyyy\\' }}&nbsp;({{ work.remaining }} day[s] ago)</em></span></a></div></accordion-group></accordion><div ng-show=\\\"vm.done == 0\\\"><center><h1>Tidak ada Pekerjaan yang belum selesai</h1></center></div></tab></tabset>\");\n$templateCache.put(\"app/user/task/views/modal.html\",\"<div class=\\\"modal-header clearfix\\\"><div class=\\\"modal-title pull-left\\\"><h4>Task</h4></div></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading clearfix\\\">Keterangan</div><div class=\\\"panel-body\\\"><div class=\\\"col-md-12\\\"><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>NIK Pegawai</label></div><div class=\\\"col-md-8\\\">: {{ tasks.users.nik }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>Nama Pegawai</label></div><div class=\\\"col-md-8\\\">: {{ tasks.users.name }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>Jabatan Pegawai</label></div><div class=\\\"col-md-8\\\">: {{ tasks.jobs.name }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>Nama Pekerjaan</label></div><div class=\\\"col-md-8\\\">: {{ tasks.works.name }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>Deskripsi Pekerjaan</label></div><div class=\\\"col-md-8\\\">: {{ tasks.works.description }}</div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><label>Periode</label></div><div class=\\\"col-md-8\\\">: {{ tasks.works.type == \\'1\\' ? \\'Harian\\' : tasks.works.type == \\'2\\' ? \\'Mingguan\\' : tasks.works.type == \\'3\\' ? \\'Bulanan\\' : tasks.works.type == \\'4\\' ? \\'Semesteran\\' : \\'Tahunan\\' }} ({{ tasks.created_at | date: \\'dd-MM-yyyy\\' }} - {{ tasks.expired_at | date: \\'dd-MM-yyyy\\'}})</div></div></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div class=\\\"panel panel-default\\\"><form role=\\\"form\\\" enctype=\\\"multipart/form-data\\\"><div class=\\\"panel-heading clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><div class=\\\"input-group custom-search-form\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"query\\\" placeholder=\\\"Search...\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\"><i class=\\\"fa fa-search\\\"></i></button></span></div></div></div></div><div class=\\\"panel-body\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover\\\"><thead><tr><th>#</th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'id\\' ; reverse = !reverse\\\">ID</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'university\\' ; reverse = !reverse\\\">Description</a></th><th><a href=\\\"\\\" ng-click=\\\"sortField = \\'super\\' ; reverse = !reverse\\\">Status</a></th><th>Upload</th></tr></thead><tbody><tr ng-repeat=\\\"object in tasks.tasks | filter:query | orderBy:sortField:reverse track by $index\\\"><td>{{ $index + 1 }}</td><td>{{ object.id }}</td><td>{{ object.description }}</td><td>{{ object.status === \\'1\\' ? \\'Pending\\' : \\'Complete\\' }}</td><td><div class=\\\"form-inline\\\"><a ng-href=\\\"{{ $root.API_HOST }}/upload/form/{{ object.document }}\\\" class=\\\"btn btn-info btn-xs\\\" popover=\\\"Download Master Form\\\" popover-trigger=\\\"mouseenter\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a>&nbsp;| <a ng-href=\\\"{{ $root.API_HOST }}/upload/task/{{ object.upload }}\\\" ng-hide=\\\"!object.upload\\\" class=\\\"btn btn-success btn-xs\\\" popover=\\\"Download Uploaded Form\\\" popover-trigger=\\\"mouseenter\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-arrow-down\\\"></i></a></div></td></tr></tbody></table></div></div></form></div></div></div></div><div class=\\\"modal-footer clearfix\\\"><div class=\\\"panel-title pull-right\\\"><div class=\\\"form-inline\\\"><button ng-click=\\\"close()\\\" class=\\\"btn btn-warning\\\"><i class=\\\"fa fa-close\\\"></i></button></div></div></div>\");}]);"],"sourceRoot":"/source/"}